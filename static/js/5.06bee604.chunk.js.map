{"version":3,"sources":["../node_modules/echarts/lib/component/helper/sliderMove.js","../node_modules/echarts/lib/chart/helper/labelHelper.js","../node_modules/echarts/lib/component/helper/listComponent.js","../node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","../node_modules/echarts/lib/component/dataZoom/DataZoomView.js","../node_modules/echarts/lib/coord/CoordinateSystem.js","../node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","../node_modules/echarts/lib/processor/dataSample.js","../node_modules/echarts/lib/component/dataZoom/AxisProxy.js","../node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","../node_modules/echarts/lib/component/dataZoom/installCommon.js","../node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","../node_modules/echarts/lib/component/legend/LegendModel.js","../node_modules/echarts/lib/component/legend/LegendView.js","../node_modules/echarts/lib/component/legend/legendFilter.js","../node_modules/echarts/lib/component/legend/legendAction.js","../node_modules/echarts/lib/component/legend/installLegendPlain.js","../node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","../node_modules/echarts/lib/component/legend/ScrollableLegendView.js","../node_modules/echarts/lib/component/legend/installLegendScroll.js","../node_modules/echarts/lib/component/legend/scrollableLegendAction.js","../node_modules/echarts/lib/component/legend/install.js","../node_modules/echarts/lib/component/dataZoom/helper.js"],"names":["sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","Math","max","handleSpan","abs","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","slice","sign","span","dist","value","extend","min","Infinity","getDefaultLabel","data","dataIndex","labelDims","mapDimensionsAll","len","length","rawVal","retrieveRawValue","vals","i","push","join","getDefaultInterpolatedLabel","interpolatedValue","isArray","dimIndex","getDimensionIndex","layout","group","componentModel","api","boxLayoutParams","getBoxLayoutParams","padding","get","viewportSize","width","getWidth","height","getHeight","rect","getLayoutRect","layoutBox","positionElement","makeBackground","formatUtil","style","getItemStyle","fill","graphic","shape","x","y","r","silent","z2","DataZoomAxisInfo","this","indexList","indexMap","prototype","add","axisCmptIdx","DataZoomModel","_super","_this","apply","arguments","type","_autoThrottle","_noTarget","_rangePropMode","__extends","init","option","parentModel","ecModel","inputRawOption","retrieveRawOption","settledOption","mergeDefaultAndTheme","_doInit","mergeOption","newOption","merge","thisOption","_setDefaultThrottle","_updateRangeUse","each","names","index","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","createHashMap","_fillSpecifiedTargetAxis","_orient","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","axisInfo","hasAxisSpecified","DATA_ZOOM_AXIS_DIMENSIONS","axisDim","refering","getReferringComponents","getAxisMainType","MULTIPLE_REFERRING","specified","models","axisModel","componentIndex","set","orient","needAuto","setParallelAxis","findComponents","mainType","filter","axisModels","gridModel_1","SINGLE_REFERRING","axModel","dim","eachTargetAxis","hasOwnProperty","globalOption","throttle","animation","animationDurationUpdate","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","axisIndex","getComponent","callback","context","call","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","opt","setCalculatedRange","name","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","j","proxy","hostedBy","getRangePropMode","getOrient","dependencies","defaultOption","z","filterMode","start","end","ComponentModel","ret","DataZoomView","render","dataZoomModel","payload","ComponentView","isCoordinateSystemType","coordSys","createGridClipPath","cartesian","hasAnimation","seriesModel","done","during","getArea","lineWidth","floor","round","clipPath","baseAxis","getBaseAxis","isHorizontal","isAxisInversed","inverse","duringCb","isFunction","percent","createPolarClipPath","polar","sectorArea","r0","cx","cy","startAngle","endAngle","clockwise","createClipPath","samplers","average","frame","sum","count","isNaN","NaN","isFinite","nearest","indexSampler","dataSample","seriesType","reset","getData","sampling","coordinateSystem","valueAxis","getOtherAxis","getExtent","dpr","getDevicePixelRatio","size","rate","setData","lttbDownSample","mapDimension","sampler","isString","downSample","zrUtil","asc","numberUtil","AxisProxy","dimName","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","seriesModels","eachSeries","isCoordSupported","axisMainType","getMinMaxSpan","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","scale","axis","percentExtent","percentWindow","valueWindow","prop","idx","boundPercent","boundValue","parse","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","targetSeries","unionAxisExtentFromData","rawExtentResult","ensureScaleRawExtentInfo","calculate","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","seriesData","dataDims","store_1","getStore","dataDimIndices_1","filterSelf","leftOut","rightOut","hasValue","thisHasValue","thisLeftOut","thisRightOut","map","isInWindow","range","selectRange","setApproximateExtent","minMaxSpan","minMax","percentSpan","valueSpan","precision","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","dataZoomProcessor","getTargetSeries","eachAxisModel","cb","eachComponent","proxyList","seriesModelMap","uid","overallReset","percentRange","valueRange","startValue","endValue","installed","installCommon","registers","registerProcessor","PRIORITY","PROCESSOR","FILTER","registerAction","effectedModels","findEffectedDataZooms","installDataZoomAction","registerSubTypeDefaulter","LegendModel","layoutMode","ignoreSize","selected","_updateSelector","selector","item","title","getLocaleModel","getDefaultSelectorOptions","optionUpdated","_updateData","legendData","_data","hasSelected","name_1","isSelected","select","potentialData","availableNames","eachRawSeries","isPotential","seriesName","legendVisualProvider","getAllNames","isSeriesFiltered","concat","isNameSpecified","_availableNames","rawData","dataItem","Model","unSelect","toggleSelected","allSelect","inverseSelect","show","left","top","align","backgroundColor","borderColor","borderRadius","borderWidth","itemGap","itemWidth","itemHeight","symbolRotate","symbolKeepAspect","inactiveColor","inactiveBorderColor","inactiveBorderWidth","itemStyle","color","opacity","borderCap","borderJoin","borderDashOffset","borderMiterLimit","lineStyle","inactiveWidth","cap","dashOffset","miterLimit","textStyle","selectedMode","selectorLabel","fontSize","fontFamily","emphasis","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","curry","Group","dispatchSelectAction","dataName","excludeSeriesId","dispatchDownplayAction","dispatchAction","dispatchHighlightAction","isUseHoverLayer","emphasisState","list","getZr","storage","getDisplayList","states","hoverLayer","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","maxSize","layoutUtil","mainRect","layoutInner","layoutRect","markRedraw","_backgroundEl","removeAll","remove","contentGroup","legendDrawnMap","selectMode","id","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","getVisual","legendIcon","_createItem","on","provider","containName","indexOfName","getItemVisual","colorArr","stringify","process","_createSelector","selectorGroup","selectorItem","labelText","verticalAlign","onclick","labelModel","getModel","emphasisLabelModel","setLabelStyle","normal","defaultText","enableHoverEmphasis","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","iconType","handleCommonProps","visualStyle","propVal","propName","itemStyleModel","iconBrushType","lastIndexOf","decalStyle","getShallow","decal","createOrUpdatePatternFromDecal","stroke","legendLineModel","getLineStyle","visualHasBorder","getLegendStyle","itemGroup","textStyleModel","getLegendIcon","rotate","symboType","icon","createSymbol","setStyle","rotation","PI","setOrigin","indexOf","getDefaultLegendIcon","textX","textAlign","formatter","content","replace","createTextStyle","text","getTextColor","hitRect","getBoundingRect","invisible","tooltipModel","el","itemName","itemTooltipOption","eachChild","child","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","legendFilter","legendModels","filterSeries","series","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","model","isItemSelected","install","registerComponentModel","registerComponentView","SERIES_FILTER","installLegendAction","mergeAndNormalizeLayoutParams","target","raw","mergeLayoutParam","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","getLayoutParams","inheritDefaultOption","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","font","getFont","xy","processMaxSize","_layoutContentAndController","offset","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","clipShape","setClipPath","attr","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","canJump","childOfName","cursor","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","result","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","s","winStartItemInfo","winEndItemInfo","currItemInfo","e","intersect","itemRect","itemInfo","winStart","targetDataIndex","legendDataIdx","defaultIndex","use","installLegendPlain","subType","query","installScrollableLegendAction","installLegendScroll","SERIES_COORDS","coordType","foundNewLink","axisRecords","effectedModelMap","addToEffected","processSingle","isLink","axisIdxArr","isLinked","dataZoom","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","coordSysModel","getCoordSysModel","coordSysUid","coordSysInfo"],"mappings":"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","file":"static/js/5.06bee604.chunk.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isArray } from 'zrender/lib/core/util.js';\n/**\n * @return label string. Not null/undefined\n */\n\nexport function getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\n    return rawVal != null ? rawVal + '' : null;\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\n    }\n\n    return vals.join(' ');\n  }\n}\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n\n  if (!isArray(interpolatedValue)) {\n    return interpolatedValue + '';\n  }\n\n  var vals = [];\n\n  for (var i = 0; i < labelDims.length; i++) {\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\n\n    if (dimIndex >= 0) {\n      vals.push(interpolatedValue[dimIndex]);\n    }\n  }\n\n  return vals.join(' ');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper.js';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model.js';\n\nvar DataZoomAxisInfo =\n/** @class */\nfunction () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n\n  return DataZoomAxisInfo;\n}();\n\nvar DataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomModel, _super);\n\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option;\n\n    this._setDefaultThrottle(inputRawOption);\n\n    this._updateRangeUse(inputRawOption);\n\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n\n    this._resetTarget();\n  };\n\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING); // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n\n      if (!refering.specified) {\n        return;\n      }\n\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true; // Find axis that parallel to dataZoom as default.\n\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    } // Find axis that parallel to dataZoom as default.\n\n\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n\n      if (!axisModel) {\n        return;\n      }\n\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false; // Find parallel axes in the same grid.\n\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      } // else remain its original setting.\n\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n\n\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n\n\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n\n    this._updateRangeUse(opt);\n  };\n\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n\n\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n\n\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var firstProxy;\n\n    var axisDimList = this._targetAxisInfoMap.keys();\n\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    } // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n\n\n    return firstProxy;\n  };\n\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n\n    return this._orient;\n  };\n\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\n\nvar DataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomView, _super);\n\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\n\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport { round } from '../../util/number.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\n\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel, done, during) {\n  var rect = cartesian.getArea();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get(['lineStyle', 'width']) || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var isAxisInversed = baseAxis.inverse;\n\n    if (isHorizontal) {\n      if (isAxisInversed) {\n        clipPath.shape.x += width;\n      }\n\n      clipPath.shape.width = 0;\n    } else {\n      if (!isAxisInversed) {\n        clipPath.shape.y += height;\n      }\n\n      clipPath.shape.height = 0;\n    }\n\n    var duringCb = isFunction(during) ? function (percent) {\n      during(percent, clipPath);\n    } : null;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height,\n        x: x,\n        y: y\n      }\n    }, seriesModel, null, done, duringCb);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var r0 = round(sectorArea.r0, 1);\n  var r = round(sectorArea.r, 1);\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: r0,\n      r: r,\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    var isRadial = polar.getBaseAxis().dim === 'angle';\n\n    if (isRadial) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n    } else {\n      clipPath.shape.r = r0;\n    }\n\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle,\n        r: r\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel, done, during) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel, done, during);\n  }\n\n  return null;\n}\n\nexport { createGridClipPath, createPolarClipPath, createClipPath };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame) {\n  return Math.round(frame.length / 2);\n};\n\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count(); // Only cartesian2d support down sampling. Disable it when there is few data.\n\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n\n        if (isFinite(rate) && rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n\n          var sampler = void 0;\n\n          if (isString(sampling)) {\n            sampler = samplers[sampling];\n          } else if (isFunction(sampling)) {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper.js';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo.js';\nimport { getAxisMainType, isCoordSupported } from './helper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\n\nvar AxisProxy =\n/** @class */\nfunction () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel; // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n\n\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n\n\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n\n\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n\n\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n\n\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // `calculateDataWindow` uses min/maxSpan.\n\n    this._updateMinMaxSpan();\n\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    this._setAxisModel();\n  };\n\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        var store_1 = seriesData.getStore();\n        var dataDimIndices_1 = zrUtil.map(dataDims, function (dim) {\n          return seriesData.getDimensionIndex(dim);\n        }, seriesData);\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = store_1.get(dataDimIndices_1[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n\n    if (!percentWindow) {\n      return;\n    } // [0, 500]: arbitrary value, guess axis extent.\n\n\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20); // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n\n    rawExtentInfo.freeze();\n  };\n\n  return AxisProxy;\n}();\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  }); // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\n\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { getAxisMainType } from './helper.js';\nimport AxisProxy from './AxisProxy.js';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    } // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n\n\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor.js';\nimport installDataZoomAction from './dataZoomAction.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\n\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\n\nvar LegendModel =\n/** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  };\n\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  };\n\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  };\n\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\n\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar LegendView =\n/** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\n\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  } // itemStyle\n\n\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n\n  handleCommonProps(itemStyle, itemVisualStyle); // lineStyle\n\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle); // Fix auto color to real color\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\n\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n\n  return icon;\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO higlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n\n  return emphasisState && emphasisState.hoverLayer;\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util.js';\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util.js';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single']; // Supported coords.\n// FIXME: polar has been broken (but rarely used).\n\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\n\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = []; // Key: uid of dataZoomModel\n\n  var effectedModelMap = createHashMap(); // Find the dataZooms specified by payload.\n\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  }); // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n\n  var foundNewLink;\n\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\n\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n\n    if (!axisModel) {\n      return;\n    }\n\n    var coordSysModel = axisModel.getCoordSysModel();\n\n    if (!coordSysModel) {\n      return;\n    }\n\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}"],"sourceRoot":""}