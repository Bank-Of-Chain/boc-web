/*! For license information please see 6.f0fe461f.chunk.js.LICENSE.txt */
(this["webpackJsonpboc-web"]=this["webpackJsonpboc-web"]||[]).push([[6],{1004:function(t,e,r){"use strict";var n=r(10),o=r(49),a=r(0),i=r(172),c=r(17),u=r(109),l=r.n(u),s=r(299),f=r(27),h=r(912);function d(){d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(A){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(A){return{type:"throw",arg:A}}}t.wrap=u;var s={};function f(){}function h(){}function m(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,o)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,c(y,"constructor",m),c(m,"constructor",h),h.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var m=i.b,p=c.a;e.a=function(t,e,r,i,c,u,v){var g=Object(a.useState)(),y=Object(o.a)(g,2),b=y[0],w=y[1],E=Object(a.useState)(!1),O=Object(o.a)(E,2),x=O[0],j=O[1],L=Object(a.useState)({}),k=Object(o.a)(L,2),A=k[0],S=k[1],T=Object(s.a)(u),_=function(){return l()(r)?new Error("VAULT_ADDRESS is need!"):l()(i)?new Error("VAULT_ABI is need!"):l()(u)?new Error("userProvider is need!"):void 0},C=function(){var a=_();if(a)return w(a);j(!0),new m(t,e,u).uniswapV3RiskOnHelper().then((function(t){var e=new m(r,i,u),a=new m(t,c,u);return Promise.all([e.borrowToken().then(function(){var t=Object(n.a)(d().mark((function t(e){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new m(e,f.j,u),t.t0=e,t.next=4,r.symbol();case 4:return t.t1=t.sent,t.t2=p.from(10),t.next=8,r.decimals();case 8:return t.t3=t.sent,t.t4=t.t2.pow.call(t.t2,t.t3),t.abrupt("return",{borrowToken:t.t0,name:t.t1,borrowTokenDecimals:t.t4});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.wantToken().then(function(){var t=Object(n.a)(d().mark((function t(r){var n,o,a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new m(r,f.j,u),t.next=3,e.token0();case 3:return o=t.sent,t.next=6,e.token1();case 6:return a=t.sent,o===r?i=e.token0MinLendAmount:a===r&&(i=e.token1MinLendAmount),t.t0=r,t.next=11,n.symbol();case 11:return t.t1=t.sent,t.t2=p.from(10),t.next=15,n.decimals();case 15:return t.t3=t.sent,t.t4=t.t2.pow.call(t.t2,t.t3),t.t5=i,t.abrupt("return",{wantToken:t.t0,name:t.t1,wantTokenDecimals:t.t4,minLendFunction:t.t5});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())]).then((function(t){var n=Object(o.a)(t,2),i=n[0],c=n[1],u=i.borrowToken,l=c.wantToken,s=c.minLendFunction;return Promise.all([e.netMarketMakingAmount(),a.getCurrentBorrow(u,2,r),a.getTotalCollateralTokenAmount(r,l),e.depositTo3rdPoolTotalAssets(),e.estimatedTotalAssets(),e.manageFeeBps(),s(),a.borrowInfo(r)]).then((function(t){var e=Object(o.a)(t,8),r=e[0],n=e[1],s=e[2],f=e[3],d=e[4],m=e[5],p=e[6],g=e[7]._currentLiquidationThreshold.toString();return g="0"===g?v===h.b.USDr?85:82.5:Number(g)/100,a.calcCanonicalAssetValue(u,n,l).then((function(t){var e={netMarketMakingAmount:r,currentBorrow:n,currentBorrowWithCanonical:t,depositTo3rdPoolTotalAssets:f,totalCollateralTokenAmount:s,estimatedTotalAssets:d,manageFeeBps:m,wantInfo:c,borrowInfo:i,result:f.add(s).sub(r).sub(t),minInvestment:p,currentLiquidationThreshold:g};return S(e),e}))}))})).finally((function(){setTimeout((function(){j(!1)}),300)}))}))};return Object(a.useEffect)((function(){if(_())return j(!1),void w();C()}),[T,r,i,u]),{loading:x,error:b,baseInfo:A,queryBaseInfo:C}}},1145:function(t,e,r){"use strict";var n=r(0),o=r.n(n),a=r(443),i=r(82),c=r(1269),u=r.n(c),l=r(1003),s=r.n(l),f=r(1270),h=r.n(f),d=r(875),m=r(994),p=r.n(m),v=r(1271),g=r.n(v),y=r(10),b=r(49),w=r(172),E=r(79),O=r.n(E),x=r(109),j=r.n(x),L=r(1268),k=r.n(L),A=r(299),S=r(294);function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var m={};c(m,o,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(j([])));v&&v!==e&&r.call(v,o)&&(m=v);var g=d.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var _=w.b,C=[S.e,S.c],N=function(t,e,r){var o=Object(n.useState)([]),a=Object(b.a)(o,2),i=a[0],c=a[1],u=Object(n.useState)([]),l=Object(b.a)(u,2),s=l[0],f=l[1],h=Object(n.useState)(!1),d=Object(b.a)(h,2),m=d[0],p=d[1],v=Object(n.useState)(!1),g=Object(b.a)(v,2),w=g[0],E=g[1],x=Object(A.a)(r),L=Object(n.useCallback)((function(){j()(t)||j()(r)||new _(t,e,r).getVaultImplList().then(c)}),[t,r,e]),N=Object(n.useCallback)((function(){if(!(j()(t)||j()(r)||j()(i)||j()(x))){E(!0);var n=new _(t,e,r),o=O()(i,(function(t){return Promise.all(O()(C,(function(e,r){return n.vaultAddressMap(x,t,r).then((function(r){return r===S.f?{hasCreate:!1,type:t,token:e}:{address:r,type:t,hasCreate:!0,token:e}}))})))}));Promise.all(o).then((function(t){setTimeout((function(){E(!1),f(k()(t))}),1e3)}))}}),[x,t,r,i,e]),P=Object(n.useCallback)(function(){var n=Object(y.a)(T().mark((function n(o,a){var i;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(!0),i=new _(t,e,r),n.next=4,i.connect(r.getSigner()).createNewVault(o,a).then((function(t){return t.wait()})).then(N).finally((function(){p(!1)}));case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),[t,r,N,e]),I=Object(n.useCallback)(function(){var n=Object(y.a)(T().mark((function n(o,a){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p(!0),new _(t,e,r).connect(r.getSigner()).deleteVaultAddressMapForDebug(x,o,a).then((function(t){return t.wait()})).then(N).finally((function(){p(!1)}));case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),[t,N,x,r,e]);return Object(n.useEffect)(L,[L]),Object(n.useEffect)(N,[N]),{vaultFactoryAddress:t,vaultImplList:i,personalVault:s,adding:m,loading:w,addVault:P,deleteVault:I}},P=r(947),I=r.n(P),V=r(296),M=r.n(V),D=r(455),F=r.n(D),R=function(){return{title:{textAlign:"center",fontWeight:"normal"},vaults:{textAlign:"center"},vault:{display:"inline-block",width:"12.5rem",padding:"2rem",borderRadius:"1rem",background:"linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)"},vaultTitle:{textAlign:"center",height:"12.5rem"},icon:{height:"100%",borderRadius:"50%"},button:{width:"100%",marginTop:"1rem"},logo:{width:"30px",borderRadius:"50%"},checked:{border:"2px solid #A68EFD"},token:{display:"flex",alignItems:"center",marginTop:"1rem"},tokenInfo:{flex:1,display:"flex",alignItems:"center"},name:{marginLeft:"1rem"},input:{maxWidth:"14rem"},setting:{position:"absolute",right:"0rem",top:"-0.5rem",cursor:"pointer"},loading:{animation:"loading 1s linear infinite"}}},Y=Object(a.a)(R);e.a=function(t){var e=t.vaultChangeHandle,r=t.userProvider,a=t.VAULT_FACTORY_ADDRESS,c=t.VAULT_FACTORY_ABI,l=t.tokens,f=N(a,c,r),m=f.personalVault,v=f.addVault,y=f.loading,b=f.adding,w=f.deleteVault,E=Y(),x=I()(m,(function(t){return l.includes(t.token)}));return Object(n.useEffect)((function(){var t=M()(x,{hasCreate:!0});j()(t)||e(t.address,t.token)}),[x,e]),o.a.createElement("div",{className:E.vaults},o.a.createElement(d.a,{loading:y,width:"100%",height:"2rem"},!j()(x)&&o.a.createElement("h3",{className:E.title},"Create a vault"),O()(x,(function(t,r){return o.a.createElement("div",{key:r},j()(t)?o.a.createElement("div",{className:E.vault},o.a.createElement("div",{className:E.vaultTitle},o.a.createElement("img",{alt:"",className:E.icon,src:"https://bankofchain.io/logo256.png"})),o.a.createElement(i.a,{color:"colorfull",startIcon:o.a.createElement(u.a,null),className:E.button},"on Building...")):o.a.createElement("div",{className:E.vault},o.a.createElement("div",{className:E.vaultTitle},o.a.createElement("img",{alt:"",className:E.icon,src:"https://bankofchain.io/images/".concat(t.token,".png")})),t.hasCreate?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{color:"colorfull",startIcon:o.a.createElement(h.a,null),className:E.button,onClick:function(){return e(t.address,t.token)}},"Deposit"),o.a.createElement(i.a,{color:"danger",startIcon:o.a.createElement(g.a,null),className:E.button,onClick:function(){return function(t){var e=F()(m,(function(e){return e.address===t}));w(m[0].type,e)}(t.address)}},"Delete")):o.a.createElement(i.a,{color:"colorfull",startIcon:b?o.a.createElement(p.a,{className:E.loading}):o.a.createElement(s.a,null),className:E.button,onClick:function(){return v(t.token,t.type)}},"Create")))}))))}},1146:function(t,e,r){"use strict";var n=r(0),o=r.n(n),a=r(443),i=r(183),c=r(96),u=r(996),l=r(997),s=r(1e3),f=r.n(s),h=r(841),d=r(1024),m=r(919),p=r(1025),v=r(1004);function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var y="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect,b={status:"not-requested",loading:!1,result:void 0,error:void 0},w={status:"loading",loading:!0,result:void 0,error:void 0},E=function(){},O={initialState:function(t){return t&&t.executeOnMount?w:b},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(t){return w},setResult:function(t,e){return{status:"success",loading:!1,result:t,error:void 0}},setError:function(t,e){return{status:"error",loading:!1,result:void 0,error:t}},onSuccess:E,onError:E},x=function(t,e,r){!e&&(e=[]);var o=function(t){return g({},O,{},t)}(r),a=Object(n.useState)(null),i=a[0],c=a[1],u=function(t){var e=Object(n.useState)((function(){return t.initialState(t)})),r=e[0],o=e[1],a=Object(n.useCallback)((function(){return o(t.initialState(t))}),[o,t]),i=Object(n.useCallback)((function(){return o(t.setLoading(r))}),[r,o]),c=Object(n.useCallback)((function(e){return o(t.setResult(e,r))}),[r,o]),u=Object(n.useCallback)((function(e){return o(t.setError(e,r))}),[r,o]),l=Object(n.useCallback)((function(t){return o(g({},r,{},t))}),[r,o]);return{value:r,set:o,merge:l,reset:a,setLoading:i,setResult:c,setError:u}}(o),l=function(){var t=Object(n.useRef)(!1);return Object(n.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),function(){return t.current}}(),s=function(){var t=Object(n.useRef)(null);return{set:function(e){return t.current=e},get:function(){return t.current},is:function(e){return t.current===e}}}(),f=function(t){return l()&&s.is(t)},h=function(t){var e=Object(n.useRef)(t);return y((function(){e.current=t})),Object(n.useCallback)((function(){return e.current}),[e])}((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=function(){try{return Promise.resolve(t.apply(void 0,r))}catch(e){return Promise.reject(e)}}();return c(r),s.set(a),u.setLoading(),a.then((function(t){f(a)&&u.setResult(t),o.onSuccess(t,{isCurrent:function(){return s.is(a)}})}),(function(t){f(a)&&u.setError(t),o.onError(t,{isCurrent:function(){return s.is(a)}})})),a})),d=Object(n.useCallback)((function(){return h().apply(void 0,arguments)}),[h]),m=!l();return Object(n.useEffect)((function(){var t=function(){return h().apply(void 0,e)};m&&o.executeOnMount&&t(),!m&&o.executeOnUpdate&&t()}),e),g({},u.value,{set:u.set,merge:u.merge,reset:u.reset,execute:d,currentPromise:s.get(),currentParams:i})};function j(t,e,r){return x(t,e,r)}var L=r(998),k=r.n(L),A=r(79),S=r.n(A),T=r(1001),_=r.n(T),C=r(951),N=r.n(C),P=r(871),I=r(17),V=r(954),M=r(912),D=r(27),F=r(895),R=r(999),Y=I.a,G=Object(a.a)(R.a);e.a=function(t){var e,r=t.address,n=t.type,a=t.chain,s=t.userProvider,g=t.wantTokenSymbol,y=t.VAULT_FACTORY_ADDRESS,b=t.VAULT_FACTORY_ABI,w=t.personalVaultAddress,E=t.UNISWAPV3_RISK_ON_VAULT,O=t.UNISWAPV3_RISK_ON_HELPER,x=t.currentLiquidationThreshold,L=n===M.b.USDr,A=G(),T=j((function(){return Object(m.c)(D.b,w,"aave-outstanding-loan").catch((function(){return[]}))}),[w]),C=j((function(){return Object(m.c)(D.b,w,"aave-collateral").catch((function(){return[]}))}),[w]),I=j((function(){return Object(m.c)(D.b,w,"aave-health-ratio").catch((function(){return[]}))}),[w]),R=j((function(){return Object(m.c)(D.b,w,"uniswap-position-value").catch((function(){return[]}))}),[w]),U=j((function(){return Object(m.c)(D.b,w,"profit").catch((function(){return[]}))}),[w]),B=Object(p.a)(a,n,r,n).loading,z=Object(v.a)(y,b,w,E,O,s).baseInfo,H=z.netMarketMakingAmount,W=z.estimatedTotalAssets,q=z.wantInfo,J=void 0===q?{}:q,K=z.currentBorrowWithCanonical,Q=z.totalCollateralTokenAmount,X=J.wantTokenDecimals,Z=void 0===X?Y.from(0):X,$={animation:!1,grid:{top:40,left:"0%",right:"5%",bottom:"10",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},textStyle:{color:"#fff"},color:["#A68EFE","#5470c6","#91cc75"],xAxis:{axisTick:{alignWithLabel:!0},data:S()(I.result,(function(t){return t.validateTime}))},yAxis:[{max:100,min:0,splitLine:{lineStyle:{color:"#454459"}}}],series:[{type:"line",name:"Debt Ratio",showSymbol:1===N()(I.result),lineStyle:{width:4},data:S()(I.result,(function(t){return(100*Number(t.result)).toFixed(2)})),tooltip:{valueFormatter:function(t){return"".concat(t,"%")}},markLine:{symbol:"none",data:[{lineStyle:{color:"#07a2a4",type:"solid"},label:{formatter:"Leverage Lower 40%",position:"middle",color:"#999"},yAxis:40},{lineStyle:{color:"#ffb980",type:"solid"},label:{formatter:"Leverage Upper 75%",position:"middle",color:"#999"},yAxis:75},{lineStyle:{color:"#dc69aa",type:"solid"},label:{formatter:"Liquidation ".concat(x,"%"),position:"middle",color:"#999"},yAxis:x}]}}]},tt=_()(U.result),et=[{title:"Net Deposit",tip:o.a.createElement(h.a,{classes:{tooltip:A.tooltip},placement:"right",title:"Net Deposit"},o.a.createElement(f.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:o.a.createElement("span",{title:Object(P.b)(H,Z)},k()(Object(P.b)(H,Z,L?M.a:V.b)).format(L?"0,0.[00]a":"0,0.[0000]a")),unit:g},{title:"Current Value",tip:o.a.createElement(h.a,{classes:{tooltip:A.tooltip},placement:"right",title:"Current Value"},o.a.createElement(f.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:o.a.createElement("span",{title:Object(P.b)(W,Z)},k()(Object(P.b)(W,Z,L?M.a:V.b)).format(L?"0,0.[00]a":"0,0.[0000]a")),isAPY:!0,unit:g},{title:"Profits",tip:o.a.createElement(h.a,{classes:{tooltip:A.tooltip},placement:"right",title:"Profits"},o.a.createElement(f.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:o.a.createElement("span",{title:Object(P.b)(null===tt||void 0===tt?void 0:tt.result,F.a)},k()(Object(P.b)(null===tt||void 0===tt?void 0:tt.result,F.a,L?M.a:V.b)).format(L?"0,0.[00]a":"0,0.[0000]a")),isAPY:!0,unit:g}],rt=[{title:"AAVE Outstanding Loan",tip:o.a.createElement(h.a,{classes:{tooltip:A.tooltip},placement:"right",title:"AAVE Outstanding Loan"},o.a.createElement(f.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:o.a.createElement("span",{title:Object(P.b)(K,Z)},k()(Object(P.b)(K,Z,L?M.a:V.b)).format(L?"0,0.[00]a":"0,0.[0000]a")),unit:g},{title:"AAVE Collateral",tip:o.a.createElement(h.a,{classes:{tooltip:A.tooltip},placement:"right",title:"AAVE Collateral"},o.a.createElement(f.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:o.a.createElement("span",{title:Object(P.b)(Q,Z)},k()(Object(P.b)(Q,Z,L?M.a:V.b)).format(L?"0,0.[00]a":"0,0.[0000]a")),isAPY:!0,unit:g}],nt=Object(d.a)(S()(R.result,(function(t){return{date:t.validateTime,value:Object(P.b)(t.result,F.a)}})),"value",g,{format:"MM-DD",tootlTipFormat:"YYYY-MM-DD",xAxis:{axisTick:{alignWithLabel:!0}},tootlTipSuffix:""});return o.a.createElement(i.a,null,o.a.createElement(c.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement(i.a,{spacing:2},S()(et,(function(t,e){return o.a.createElement(c.a,{key:e,xs:12,sm:12,md:4,lg:4},o.a.createElement(u.a,Object.assign({loading:B},t)))}))),o.a.createElement(i.a,{spacing:2},S()(rt,(function(t,e){return o.a.createElement(c.a,{key:e,xs:12,sm:12,md:4,lg:4},o.a.createElement(u.a,Object.assign({loading:B},t)))}))),o.a.createElement(i.a,{className:A.lineChart},o.a.createElement(c.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement(u.a,{loading:T.loading||C.loading||I.loading,title:o.a.createElement("span",null,"AAVE Debt Ratio (%)"),loadingOption:{width:"100%",height:"2rem"}},T.error||C.error||I.error?o.a.createElement("div",null,"Error: ",null===T||void 0===T||null===(e=T.error)||void 0===e?void 0:e.message):o.a.createElement(l.b,{option:$,style:{minHeight:"30rem"}})))),o.a.createElement(i.a,{className:A.lineChart},o.a.createElement(c.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement(u.a,{loading:R.loading,title:o.a.createElement("span",null,"Uniswap Position Value"),loadingOption:{width:"100%",height:"2rem"}},R.error?o.a.createElement("div",null,"Error: ",R.error.message):o.a.createElement(l.b,{option:nt,style:{minHeight:"20rem"}})))),o.a.createElement(i.a,{className:A.lineChart},o.a.createElement(c.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement(u.a,{loading:U.loading,title:o.a.createElement("span",null,"Profits"),loadingOption:{width:"100%",height:"2rem"}},U.error?o.a.createElement("div",null,"Error: ",U.error.message):o.a.createElement(l.b,{option:Object(d.a)(S()(U.result,(function(t){return{date:t.validateTime,value:Object(P.b)(t.result,F.a,L?6:18)}})),"value",g,{format:"MM-DD",tootlTipFormat:"YYYY-MM-DD",xAxis:{axisTick:{alignWithLabel:!0}},tootlTipSuffix:"",yAxisMin:function(){},yAxisMax:function(){}}),style:{minHeight:"20rem"}}))))))}},1268:function(t,e,r){var n=r(977);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},1269:function(t,e,r){"use strict";var n=r(65),o=r(116);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(117)).default)(a.createElement("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),"Build");e.default=i},1270:function(t,e,r){"use strict";var n=r(65),o=r(116);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(117)).default)(a.createElement("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"}),"CompareArrows");e.default=i},1271:function(t,e,r){"use strict";var n=r(65),o=r(116);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(117)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.default=i}}]);
//# sourceMappingURL=6.f0fe461f.chunk.js.map