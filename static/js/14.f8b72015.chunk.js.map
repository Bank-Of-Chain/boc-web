{"version":3,"sources":["../node_modules/echarts/lib/component/marker/MarkerModel.js","../node_modules/echarts/lib/component/marker/MarkLineModel.js","../node_modules/echarts/lib/component/marker/markerHelper.js","../node_modules/echarts/lib/chart/helper/LinePath.js","../node_modules/echarts/lib/chart/helper/Line.js","../node_modules/echarts/lib/chart/helper/LineDraw.js","../node_modules/echarts/lib/component/marker/MarkerView.js","../node_modules/echarts/lib/component/marker/MarkLineView.js","../node_modules/echarts/lib/component/marker/installMarkLine.js","../node_modules/echarts/lib/component/marker/checkMarkerInSeries.js","../node_modules/echarts/lib/chart/line/LineSeries.js","../node_modules/echarts/lib/chart/helper/Symbol.js","../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../node_modules/echarts/lib/chart/line/helper.js","../node_modules/echarts/lib/chart/line/poly.js","../node_modules/echarts/lib/chart/line/LineView.js","../node_modules/echarts/lib/chart/line/lineAnimationDiff.js","../node_modules/echarts/lib/chart/line/install.js","../node_modules/echarts/lib/layout/points.js","../node_modules/zrender/lib/tool/convertPath.js","../node_modules/zrender/lib/tool/dividePath.js","../node_modules/zrender/lib/tool/morphPath.js","../node_modules/echarts/lib/animation/morphTransitionHelper.js","../node_modules/echarts/lib/animation/universalTransition.js","../node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","../node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","../node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js"],"names":["fillLabel","opt","defaultEmphasis","inner","makeInner","MarkerModel","_super","_this","apply","this","arguments","type","createdBySelf","__extends","prototype","init","option","parentModel","ecModel","mergeDefaultAndTheme","_mergeOption","isAnimationEnabled","env","node","hostSeries","__hostSeries","getShallow","mergeOption","newOpt","isInit","componentType","mainType","eachSeries","seriesModel","markerOpt","get","markerModel","data","zrUtil","item","Array","createMarkerModelFromSeries","seriesIndex","name","formatTooltip","dataIndex","multipleSeries","dataType","getData","value","getRawValue","itemName","getName","createTooltipMarkup","header","blocks","noName","noValue","_data","setData","getMarkerModelFromSeries","dependencies","ComponentModel","DataFormatMixin","MarkLineModel","masterMarkerModel","defaultOption","z","symbol","symbolSize","symbolOffset","precision","tooltip","trigger","label","show","position","distance","lineStyle","emphasis","width","animationEasing","hasXOrY","isNaN","parseFloat","x","y","markerTypeCalculatorWithExtent","markerType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","isDimensionStacked","getCalculationInfo","numCalculate","indicesOfNearest","coordArrValue","numberUtil","Math","min","toFixed","markerTypeCalculator","curry","max","average","median","dataTransform","coordSys","coordinateSystem","hasXAndY","isArray","coord","dims","dimensions","axisInfo","getAxisInfo","clone","baseAxis","valueAxis","indexOf","dim","coordInfo","baseDataDim","valueDataDim","xAxis","radiusAxis","yAxis","angleAxis","i","mapDimension","ret","valueIndex","valueDim","getDimension","getAxis","dataDim","dimItem","getDimensionInfo","coordDim","dataDimToCoordDim","getOtherAxis","getBaseAxis","dataFilter","containData","sum_1","count_1","each","val","idx","getMedian","getDataExtent","straightLineProto","graphic","bezierCurveProto","StraightLineShape","x1","y1","x2","y2","percent","CurveShape","isStraightLine","shape","cpx1","cpy1","ECLinePath","opts","call","getDefaultStyle","stroke","fill","getDefaultShape","buildPath","ctx","pointAt","t","tangentAt","p","vec2","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createSymbol","lineData","symbolType","getItemVisual","symbolRotate","symbolKeepAspect","symbolSizeArr","symbolUtil","symbolOffsetArr","symbolPath","__specifiedRotation","PI","setLinePoints","targetShape","points","cp1","NaN","Line","seriesScope","_createLine","hostModel","line","subPixelOptimize","createLine","getItemLayout","add","_updateCommonStl","updateData","childOfName","linePoints","target","key","remove","getLinePath","childAt","emphasisLineStyle","blurLineStyle","selectLineStyle","labelStatesModels","emphasisDisabled","focus","blurScope","hasItemOption","itemModel","getItemModel","emphasisModel","getModel","getLineStyle","getLabelStatesModels","visualColor","useStyle","style","strokeNoScale","ensureState","setColor","opacity","SPECIAL_STATES","length","stateName","lineState","getState","lineStateStyle","state","stateStyle","__isEmptyBrush","markRedraw","rawVal","setLabelStyle","labelDataIndex","labelFetcher","getFormattedLabel","inheritColor","defaultOpacity","defaultText","isFinite","round","getTextContent","labelNormalModel","normal","__align","align","__verticalAlign","verticalAlign","__position","__labelDistance","setTextConfig","local","inside","toggleHoverEmphasis","highlight","enterEmphasis","downplay","leaveEmphasis","updateLayout","linePath","dirty","beforeUpdate","symbolFrom","symbolTo","ignore","invScale","parentNode","parent","scaleX","__dirty","fromPos","toPos","d","vector","setPosition","setSymbolRotation","scaleY","originX","originY","textAlign","textVerticalAlign","distanceX","distanceY","halfPercent","tangent","n","cp","dir","rotation","atan2","dy","setStyle","specifiedRotation","attr","makeSeriesScope","isPointNaN","pt","lineNeedsDraw","pts","LineDraw","LineCtor","group","_LineCtor","LineGroup","_progressiveEls","oldLineData","_lineData","removeAll","diff","_doAdd","update","newIdx","oldIdx","_doUpdate","getItemGraphicEl","execute","eachItemGraphicEl","el","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","animators","isEffectObject","incremental","hoverLayer","start","end","traverse","setItemGraphicEl","push","eachRendered","cb","newLineData","itemEl","MarkerView","markerGroupMap","createHashMap","render","api","keep","renderSeries","markKeep","drawGroup","toggleBlurSeries","seriesModelList","isBlur","enterBlur","leaveBlur","ComponentView","markLineTransform","mlModel","itemArray","mlType","retrieve","markerHelper","getStackedDimension","baseIndex","mlFrom","mlTo","Infinity","isNumber","normalizedItem","extend","merge","isInfinity","ifMarkLineHasOnlyDim","dimIndex","fromCoord","toCoord","otherDimIndex","dimName","markLineFilter","updateSingleMarkerEndLayout","isFrom","point","xPx","getWidth","yPx","getHeight","getMarkerPosition","getValues","dataToPoint","isCoordinateSystemType","toGlobalCoord","getExtent","setItemLayout","MarkLineView","updateTransform","markLineModel","mlData_1","fromData_1","from","toData_1","to","id","seriesId","seriesData","lineDrawMap","lineDraw","set","mlData","coordDimsInfos","map","info","ordinalMeta","fromData","SeriesData","toData","optData","filter","dimValueGetter","inCoordSys","parseDataValue","initData","createList","updateDataVisualAndLayout","getItemStyle","getVisualFromData","setItemVisual","retrieve2","fromSymbolKeepAspect","fromSymbolOffset","fromSymbolRotate","fromSymbolSize","fromSymbol","toSymbolKeepAspect","toSymbolOffset","toSymbolRotate","toSymbolSize","toSymbol","getECData","dataModel","child","silent","install","registers","registerComponentModel","registerComponentView","registerPreprocessor","seriesOpts","seriesOptArr","checkMarkerInSeries","series","markLine","LineSeriesModel","hasSymbolVisual","getInitialData","createSeriesData","useEncodeDefaulter","getLegendIcon","Group","itemHeight","itemWidth","visualType","getVisual","visualRotate","size","itemStyle","iconRotate","setOrigin","lineWidth","legendHoverLink","clip","endLabel","valueAnimation","scale","step","smooth","smoothMonotone","showSymbol","showAllSymbol","connectNulls","sampling","progressive","hoverLayerThreshold","universalTransition","divideShape","triggerLineEvent","SeriesModel","driftSymbol","dx","drift","Symbol","_createSymbol","keepAspect","z2","culling","_symbolType","stopSymbolAnimation","toLastFrame","stopAnimation","getSymbolType","getSymbolPath","setZ","zlevel","setDraggable","draggable","hasCursorOption","cursor","getSymbolSize","disableAnimation","saveOldStyle","_updateCommon","_sizeX","_sizeY","emphasisItemStyle","blurItemStyle","selectItemStyle","hoverScale","cursorStyle","normalizeSymbolOffset","symbolStyle","ZRImage","pathStyle","image","height","decal","symbolInnerColor","liftZ","z2Origin","_z2","useNameLabel","getDefaultLabel","emphasisState","scaleRatio","setSymbolScale","fadeOut","animationOpt","animation","fadeLabel","textContent","removeOpt","removeTextContent","normalizeSymbolSize","symbolNeedsDraw","isIgnore","clipShape","contain","normalizeUpdateOpt","isObject","SymbolDraw","SymbolCtor","_SymbolCtor","SymbolClz","oldData","symbolUpdateOpt","getSymbolPoint","symbolEl","newSymbolType","oldSymbolType","_getSymbolPoint","enableAnimation","prepareDataCoordInfo","valueOrigin","valueStart","extent","getValueStart","baseAxisDim","valueAxisDim","baseDim","baseDataOffset","stacked","stackResultDim","dataDimsForPoint","stackedOverDimension","getStackedOnPoint","dataCoordInfo","stackedData","mathMin","mathMax","isPointNull","drawSegment","segLen","allLen","prevX","prevY","cpx0","cpy0","k","nextIdx","nextX","nextY","tmpK","ratioNextSeg","vx","vy","nextCpx0","nextCpy0","dx0","dx1","dy0","dy1","lenPrevSeg","lenNextSeg","dir_1","abs","dir_2","sqrt","bezierCurveTo","lineTo","ECPolylineShape","smoothConstraint","ECPolyline","len","getPointOn","xOrY","path","createPathProxy","x0","y0","CMD","PathProxy","isDimX","roots","x3","y3","M","L","C","nRoot","cubicRootAt","i_1","t_1","cubicAt","Path","ECPolygonShape","ECPolygon","stackedOnPoints","stackedOnSmooth","closePath","isPointsSame","points1","points2","bboxFromPoints","minX","minY","maxX","maxY","getBoundingDiff","_a","min1","max1","_b","min2","max2","getSmooth","turnPointsIntoStep","stepTurnAt","stepPoints","stepPt","nextPt","filteredPoints","middle","stepPt2","getVisualGradient","visualMetaList","count","visualMeta","dimInfo","dimension","axis","colorStops","stops","stop","dataToCoord","color","stopLen","outerColors","slice","reverse","colorStopsInRange","maxSize","prevOutOfRangeColorStop","prevInRangeColorStop","newColorStops","lerpStop","stop0","stop1","clippedCoord","coord0","lerp","stop_1","clipColorStops","inRangeStopLen","minCoord","maxCoord","coordSpan","offset","unshift","gradient","getIsIgnoreFunc","isAuto","categoryAxis","getAxesByScale","axisExtent","availSize","dataLen","isHorizontal","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","ordinalNumber","getRawOrdinalNumber","tickValue","hasOwnProperty","getPointAtIndex","anyStateShowEndLabel","createLineClipPath","lineView","hasAnimation","endLabelModel_1","valueAnimation_1","data_1","labelAnimationRecord_1","lastFrameIndex","during","clipRect","_endLabelOnDuring","clipPath","createGridClipPath","_endLabel","originalX","originalY","rectShape","expandSize","createPolarClipPath","LineView","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","getLayout","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","polygon","_polygon","isAreaChart","isEmpty","createFloat32Array","getStackedOnPoints","isIgnoreFunc","__temp","clipShapeForSymbol","getArea","r0","r","_clipShapeForSymbol","_step","_newPolygon","_initOrUpdateEndLabel","convertToColorString","oldClipPath","getClipPath","newClipPath","setClipPath","_stackedOnPoints","_points","_doUpdateAnimation","setShape","_initSymbolLabelAnimation","_newPolyline","lineJoin","setStatesStylesFromModel","stackedOnSeries","getAreaStyle","changePolyState","toState","_changePolyState","onHoverStateChange","_valueOrigin","packEventData","eventData","componentSubType","componentIndex","seriesName","seriesType","payload","modelUtil","symbolLabel","ChartView","setStatesFlag","segmentIgnoreThreshold","isHorizontalOrRadial","isAxisInverse","inverse","seriesDuration","seriesDalay","seriesDalayValue","current","polarClip","pointToCoord","startAngle","endAngle","gridClip","ratio","delay","text","animateTo","duration","setToFinal","animateFrom","disableLabelAnimation","endLabelModel","data_2","ignoreClip","setTextContent","getLastIndexNotNull","interpolatedValue","getDefaultInterpolatedLabel","enableTextSetter","isBaseInversed","getEndLabelStateSpecified","textConfig","animationRecord","dataIndexRange","a","b","dimIdx","prevIndex","nextIndex","range","getIndexRange","indices","startValue","endValue","labelInner","setLabelText","newData","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","diffResult","cmd","idx1","diffData","currPoints","nextPoints","currStackedPoints","nextStackedPoints","status","sortedIndices","rawIndices","newDataOldCoordInfo","oldPoints","newPoints","diffItem","pointAdded","oldIdx2","newIdx2","currentX","currentY","getRawIndex","newDataDimsForPoint","oldPt","stackedOnPoint","sort","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","i2","idx2","next","stackedOnCurrent","stackedOnNext","lineAnimationDiff","__points","updatedDataInfo","diffStatus","ptIdx","dirtyShape","forceStoreInTypedArray","registerChartView","registerSeriesModel","LineSeries","registerLayout","plan","createRenderPlanner","reset","pipelineContext","useTypedArray","large","dimLen","store","getStore","dimIdx0","getDimensionIndex","dimIdx1","progress","params","segCount","tmpIn","tmpOut","setLayout","registerVisual","setVisual","registerProcessor","PRIORITY","PROCESSOR","STATISTIC","dataSample","aroundEqual","pathToBezierCurves","currentSubpath","bezierArrayGroups","xi","yi","createNewSubpath","addLine","addArc","cx","cy","rx","ry","delta","tan","c1","cos","s1","sin","c2","s2","x4","y4","hx","hy","isFirst","Q","A","anticlockwise","angle","R","Z","adpativeBezier","out","PIXEL_DISTANCE","PIXEL_DISTANCE_SQR","dx2","dy2","cp1LenSqr","cp2LenSqr","projLen1","projLen2","tmpSegX","tmpSegY","cubicSubdivide","getDividingGrids","dimSize","rowDim","rowSize","columnSize","rowCount","ceil","columnCount","floor","grids","remained","divideSector","sectorShape","outShapes","arcLen","deltaR","isAngleRow","row","column","newShape","clockwise","crossProduct2d","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","Point","projPtOnLine","lineA","lineB","sub","normalize","dir2","dot","addToPoly","poly","last","binaryDividePolygon","polygonShape","fromPoints","boundingRect","BoundingRect","pt0","pt1","intersections","p0","p1","intersectionPt","projPt","splitPt0","splitPt1","tmp","splitPt0Arr","splitPt1Arr","newPolyA","newPolyB","splitPolygonByLine","binaryDivideRecursive","divider","mid","split","OutShapeCtor","isHorizontalRow","rowSizeDim","columnSizeDim","columnDim","divideRect","Rect","Sector","m","getComputedTransform","polygons","beziers","pathToPolygons","getUpdatedPathProxy","polygonConvert","polygonCount","totalArea_1","items","area","left","selfCount","Polygon","paths","clonePath","source","subPath","alignSubpath","subpath1","subpath2","len1","len2","shorterPath","shorterLen","shorterBezierCount","eachCurveSubDivCount","newSubpath","actualSubDivCount","createSubpath","lastSubpathSubpath","otherSubpath","lastX","lastY","centroid","array","signedArea","j","findBestRingOffset","fromSubBeziers","toSubBeziers","fromCp","toCp","bezierCount","bestScore","bestOffset","cursorOffset","score","newArr","isCombineMorphing","__isCombineMorphing","saveAndModifyMethod","obj","methodName","modifiers","savedMethodName","originalMethod","replace","after","before","res","args","restoreMethod","applyTransformOnBeziers","bezierCurves","mm","subBeziers","prepareMorphPath","fromPath","toPath","fromPathProxy","toPathProxy","array1","array2","lastSubpath1","lastSubpath2","newArray1","newArray2","newSubpath1","newSubpath2","alignBezierCurves","fromBezierCurves","toBezierCurves","fromPathTransform","toPathTransform","transform","morphingData","fromArr","toArr","searchAngleIteration","searchAngleRange","fromNeedsReverse","result","fromSubpathBezier","toSubpathBezier","newFromSubpathBezier","newToSubpathBezier","bestAngle","tmpArr","sa","ca","newX1","newY1","findBestMorphingRotation","__morphT","onet","newCp","x0_1","y0_1","moveTo","morphPath","animationOpts","oldDone","done","oldDuring","defaults","hilbert","s","sortPaths","pathList","xMin","yMin","xMax","yMax","cps","rect","getBoundingRect","defaultDividePath","param","isMultiple","elements","prepareMorphBatches","one","many","batches","batchCount","off","moveFrom","pathDividers","approxOpacity","pow","cloned","applyMorphAnimation","animateOtherProps","updateAnimationCfg","getAnimationConfig","animationDelay","animationCfg","Object","assign","fromIsMany","morphBatches","animateCount","animateIndex","morphOneBatch","batch","forceManyOne","batchMany","batchOne","separateAnimationCfg","dividePath","individualDelay","fromList","fromPathList","addFromPath","childrenRef","separateCount","fromIndividuals","toIndividuals","toSubPathList","console","error","identityTransform","Transformable","copyTransform","addToSubPathListToZr","zr","addSelfToZr","restoreToPath","removeSelfFromZr","toLen","animating_1","eachDone","indivdualAnimationOpts","__zr","combineMorph","toPathList","fromLen","setLocalTransform","separateMorph","individualAnimationCfg","batchFrom","batchTo","getPathList","pathList_1","disableMorphing","invisible","getUniversalTransitionGlobalStore","flattenDataDiffItems","list","seriesInfo","getIndices","groupDim","otherDims","itemGroupId","getGroupIdDimension","divide","fadeInElement","newEl","newSeries","newIndex","initProps","removeEl","computedTransform","transitionBetween","oldList","newList","oldDiffItems","newDiffItems","updateMorphingPathProps","rawFrom","rawTo","findKeyDim","oldKeyDim","newKeyDim","hasMorphAnimation","createKeyGetter","isOld","onlyGetId","getId","dataGroupId","keyDim","dimOrdinalMeta","categories","itemVal","getRawDataItem","groupId","useId","oldItem","newItem","isAllIdSame","isElementStillInChart","updateOneToOne","oldIndex","oldEl","animationConfig","Displayable","oldStyle","getOldStyle","animateElementStyles","DataDiffer","updateManyToOne","oldIndices","oldElsList","updateOneToMany","newIndices","newElsList","newSeris","updateManyToMany","rawIdx","view","getViewOfSeriesModel","getSeriesTransitionKey","seriesKey","convertArraySeriesKeyToString","join","getDivideShapeFromData","querySeries","finder","installUniversalTransition","registerUpdateLifecycle","ecMOdel","normalizeToArray","seriesTransition","transOpt","updatedSeries","SERIES_UNIVERSAL_TRANSITION_PROP","globalStore","oldSeries","optionChanged","transitionOpt","transitionSeriesFromOpt","updateBatches_1","updateBatches","oldDataMap","oldDataMapForSplit","transitionKey","transitionKeyStr","isUniversalTransitionEnabled","process","oldSeries_1","oldData_1","findTransitionSeriesBatches","keys","allSeries","getSeries","savedSeries","savedData","SliderZoomModel","layoutMode","inheritDefaultOption","DataZoomModel","right","top","bottom","borderColor","borderRadius","backgroundColor","dataBackground","areaStyle","selectedDataBackground","fillerColor","handleIcon","handleSize","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","realtime","zoomLock","textStyle","brushSelect","brushStyle","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","easing","getCursor","orient","SliderZoomView","_displayables","_onBrush","bind","_onBrushEnd","dataZoomModel","throttle","_orient","getOrient","noTarget","_clear","uid","_buildView","_updateView","dispose","getZr","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","ecSize","positionInfo","layoutParams","layout","layoutRect","_location","_size","location","targetAxisModel","getFirstTargetAxisModel","otherAxisInverse","_dataShadowInfo","_getViewExtent","clickPanel","onclick","_onClickPanel","on","_onBrushStart","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","getRawData","candlestickDim","getShadowDim","otherDim","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","otherDataExtent_1","otherOffset","lastIsEmpty_1","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","thisCoord_1","stride_1","index","otherCoord","linearMap","createDataShadowGroup","isSelectedArea","model","eachTargetAxis","axisDim","axisIndex","seriesModels","getAxisProxy","getTargetSeriesModels","thisAxis","getComponent","getAxisMainType","radius","thisDim","displayables","handles","handleLabels","filler","handleIndex","iconStr","symbolBuildProxies","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","parsePercent","_handleWidth","rectHover","enableHoverEmphasis","handleColor","textStyleModel","createTextStyle","getTextColor","font","getFont","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveZoneExpandSize","moveZone","ondragstart","_range","getPercentRange","viewExtent","_handleEnds","_updateInterval","handleEnds","viewExtend","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","percentExtent","sliderMove","minSpan","maxSpan","lastRange","asc","nonRealtime","displaybles","handleInterval","handle","handleHeight","segIntervals","segGroup","_updateDataInfo","labelTexts","axisProxy","getAxisModel","dataInterval","calculateDataWindow","valueWindow","getDataValueWindow","_formatLabel","orderedHandleEnds","setLabel","barTransform","direction","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","getLabel","isFunction","isString","showOrHide","_dragging","event","eventTool","getLocalTransform","vertex","changed","_dispatchZoomAction","e","localPoint","transformCoordToLocal","offsetX","offsetY","center","_brushStart","_brushStartTime","Date","brushShape","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","dispatchAction","dataZoomId","coordSysInfoList","collectReferCoordSysModelInfo","infoList","getRect","DataZoomView","installCommon"],"mappings":"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","file":"static/js/14.f8b72015.chunk.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport ComponentModel from '../../model/Component.js';\nimport { makeInner, defaultEmphasis } from '../../util/model.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\n\nfunction fillLabel(opt) {\n  defaultEmphasis(opt, 'label', ['show']);\n} // { [componentType]: MarkerModel }\n\n\nvar inner = makeInner();\n\nvar MarkerModel =\n/** @class */\nfunction (_super) {\n  __extends(MarkerModel, _super);\n\n  function MarkerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MarkerModel.type;\n    /**\n     * If marker model is created by self from series\n     */\n\n    _this.createdBySelf = false;\n    return _this;\n  }\n  /**\n   * @overrite\n   */\n\n\n  MarkerModel.prototype.init = function (option, parentModel, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.type === 'marker') {\n        throw new Error('Marker component is abstract component. Use markLine, markPoint, markArea instead.');\n      }\n    }\n\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._mergeOption(option, ecModel, false, true);\n  };\n\n  MarkerModel.prototype.isAnimationEnabled = function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  };\n  /**\n   * @overrite\n   */\n\n\n  MarkerModel.prototype.mergeOption = function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  };\n\n  MarkerModel.prototype._mergeOption = function (newOpt, ecModel, createdBySelf, isInit) {\n    var componentType = this.mainType;\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        // mainType can be markPoint, markLine, markArea\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = inner(seriesModel)[componentType];\n\n        if (!markerOpt || !markerOpt.data) {\n          inner(seriesModel)[componentType] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = this.createMarkerModelFromSeries(markerOpt, this, ecModel); // markerModel = new ImplementedMarkerModel(\n          //     markerOpt, this, ecModel\n          // );\n\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n\n        inner(seriesModel)[componentType] = markerModel;\n      }, this);\n    }\n  };\n\n  MarkerModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var itemName = data.getName(dataIndex);\n    return createTooltipMarkup('section', {\n      header: this.name,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: itemName,\n        value: value,\n        noName: !itemName,\n        noValue: value == null\n      })]\n    });\n  };\n\n  MarkerModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  MarkerModel.prototype.setData = function (data) {\n    this._data = data;\n  };\n\n  MarkerModel.getMarkerModelFromSeries = function (seriesModel, // Support three types of markers. Strict check.\n  componentType) {\n    return inner(seriesModel)[componentType];\n  };\n\n  MarkerModel.type = 'marker';\n  MarkerModel.dependencies = ['series', 'grid', 'polar', 'geo'];\n  return MarkerModel;\n}(ComponentModel);\n\nzrUtil.mixin(MarkerModel, DataFormatMixin.prototype);\nexport default MarkerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\n\nvar MarkLineModel =\n/** @class */\nfunction (_super) {\n  __extends(MarkLineModel, _super);\n\n  function MarkLineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MarkLineModel.type;\n    return _this;\n  }\n\n  MarkLineModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkLineModel(markerOpt, masterMarkerModel, ecModel);\n  };\n\n  MarkLineModel.type = 'markLine';\n  MarkLineModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    //symbolRotate: 0,\n    symbolOffset: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  };\n  return MarkLineModel;\n}(MarkerModel);\n\nexport default MarkLineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as numberUtil from '../../util/number.js';\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { indexOf, curry, clone, isArray } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\n\nfunction markerTypeCalculatorWithExtent(markerType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim\n  /*, otherDataDim*/\n  );\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, markerType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return [coordArr, coordArrValue];\n} // TODO Specified percent\n\n\nvar markerTypeCalculator = {\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n  average: curry(markerTypeCalculatorWithExtent, 'average'),\n  median: curry(markerTypeCalculatorWithExtent, 'median')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n */\n\nexport function dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0]; // Force to use the value of calculated value.\n      // let item use the value without stack.\n\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\nexport function getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n\n  return ret;\n}\n\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var dimItem = seriesModel.getData().getDimensionInfo(dataDim);\n  return dimItem && dimItem.coordDim;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n */\n\n\nexport function dataFilter( // Currently only polar and cartesian has containData.\ncoordSys, item) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\nexport function zoneFilter( // Currently only polar and cartesian has containData.\ncoordSys, item1, item2) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containZone && item1.coord && item2.coord && !hasXOrY(item1) && !hasXOrY(item2) ? coordSys.containZone(item1.coord, item2.coord) : true;\n}\nexport function createMarkerDimValueGetter(inCoordSys, dims) {\n  return inCoordSys ? function (item, dimName, dataIndex, dimIndex) {\n    var rawVal = dimIndex < 2 // x, y, radius, angle\n    ? item.coord && item.coord[dimIndex] : item.value;\n    return parseDataValue(rawVal, dims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dims[dimIndex]);\n  };\n}\nexport function numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum_1 = 0;\n    var count_1 = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum_1 += val;\n        count_1++;\n      }\n    });\n    return sum_1 / count_1;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim)[type === 'max' ? 1 : 0];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Line path for bezier and straight line draw\n */\n\nimport * as graphic from '../../util/graphic.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\n\nvar StraightLineShape =\n/** @class */\nfunction () {\n  function StraightLineShape() {\n    // Start point\n    this.x1 = 0;\n    this.y1 = 0; // End point\n\n    this.x2 = 0;\n    this.y2 = 0;\n    this.percent = 1;\n  }\n\n  return StraightLineShape;\n}();\n\nvar CurveShape =\n/** @class */\nfunction (_super) {\n  __extends(CurveShape, _super);\n\n  function CurveShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return CurveShape;\n}(StraightLineShape);\n\nfunction isStraightLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar ECLinePath =\n/** @class */\nfunction (_super) {\n  __extends(ECLinePath, _super);\n\n  function ECLinePath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-line';\n    return _this;\n  }\n\n  ECLinePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  ECLinePath.prototype.getDefaultShape = function () {\n    return new StraightLineShape();\n  };\n\n  ECLinePath.prototype.buildPath = function (ctx, shape) {\n    if (isStraightLine(shape)) {\n      straightLineProto.buildPath.call(this, ctx, shape);\n    } else {\n      bezierCurveProto.buildPath.call(this, ctx, shape);\n    }\n  };\n\n  ECLinePath.prototype.pointAt = function (t) {\n    if (isStraightLine(this.shape)) {\n      return straightLineProto.pointAt.call(this, t);\n    } else {\n      return bezierCurveProto.pointAt.call(this, t);\n    }\n  };\n\n  ECLinePath.prototype.tangentAt = function (t) {\n    var shape = this.shape;\n    var p = isStraightLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  };\n\n  return ECLinePath;\n}(graphic.Path);\n\nexport default ECLinePath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isArray, each } from 'zrender/lib/core/util.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as symbolUtil from '../../util/symbol.js';\nimport ECLinePath from './LinePath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enterEmphasis, leaveEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\nimport { round } from '../../util/number.js';\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\n\n\nfunction createSymbol(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSizeArr[0] / 2 + symbolOffsetArr[0], -symbolSizeArr[1] / 2 + symbolOffsetArr[1], symbolSizeArr[0], symbolSizeArr[1], null, symbolKeepAspect);\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n  symbolPath.name = name;\n  return symbolPath;\n}\n\nfunction createLine(points) {\n  var line = new ECLinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n\n    _this._createLine(lineData, idx, seriesScope);\n\n    return _this;\n  }\n\n  Line.prototype._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  }; // TODO More strict on the List type in parameters?\n\n\n  Line.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = lineData.getItemVisual(idx, symbolCategory);\n      var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n\n      this[key] = symbolType;\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  ;\n\n  Line.prototype.getLinePath = function () {\n    return this.childAt(0);\n  };\n\n  Line.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n    var blurLineStyle = seriesScope && seriesScope.blurLineStyle;\n    var selectLineStyle = seriesScope && seriesScope.selectLineStyle;\n    var labelStatesModels = seriesScope && seriesScope.labelStatesModels;\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\n    var focus = seriesScope && seriesScope.focus;\n    var blurScope = seriesScope && seriesScope.blurScope; // Optimization for large dataset\n\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\n      blurLineStyle = itemModel.getModel(['blur', 'lineStyle']).getLineStyle();\n      selectLineStyle = itemModel.getModel(['select', 'lineStyle']).getLineStyle();\n      emphasisDisabled = emphasisModel.get('disabled');\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n    }\n\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var visualColor = lineStyle.stroke;\n    line.useStyle(lineStyle);\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    line.ensureState('emphasis').style = emphasisLineStyle;\n    line.ensureState('blur').style = blurLineStyle;\n    line.ensureState('select').style = selectLineStyle; // Update symbol\n\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n\n      if (symbol) {\n        // Share opacity and color with line.\n        symbol.setColor(visualColor);\n        symbol.style.opacity = lineStyle.opacity;\n\n        for (var i = 0; i < SPECIAL_STATES.length; i++) {\n          var stateName = SPECIAL_STATES[i];\n          var lineState = line.getState(stateName);\n\n          if (lineState) {\n            var lineStateStyle = lineState.style || {};\n            var state = symbol.ensureState(stateName);\n            var stateStyle = state.style || (state.style = {});\n\n            if (lineStateStyle.stroke != null) {\n              stateStyle[symbol.__isEmptyBrush ? 'stroke' : 'fill'] = lineStateStyle.stroke;\n            }\n\n            if (lineStateStyle.opacity != null) {\n              stateStyle.opacity = lineStateStyle.opacity;\n            }\n          }\n        }\n\n        symbol.markRedraw();\n      }\n    }, this);\n    var rawVal = seriesModel.getRawValue(idx);\n    setLabelStyle(this, labelStatesModels, {\n      labelDataIndex: idx,\n      labelFetcher: {\n        getFormattedLabel: function (dataIndex, stateName) {\n          return seriesModel.getFormattedLabel(dataIndex, stateName, lineData.dataType);\n        }\n      },\n      inheritColor: visualColor || '#000',\n      defaultOpacity: lineStyle.opacity,\n      defaultText: (rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal) + ''\n    });\n    var label = this.getTextContent(); // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n\n    if (label) {\n      var labelNormalModel = labelStatesModels.normal;\n      label.__align = label.style.align;\n      label.__verticalAlign = label.style.verticalAlign; // 'start', 'middle', 'end'\n\n      label.__position = labelNormalModel.get('position') || 'middle';\n      var distance = labelNormalModel.get('distance');\n\n      if (!isArray(distance)) {\n        distance = [distance, distance];\n      }\n\n      label.__labelDistance = distance;\n    }\n\n    this.setTextConfig({\n      position: null,\n      local: true,\n      inside: false // Can't be inside for stroke element.\n\n    });\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n\n  Line.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n\n  Line.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n\n  Line.prototype.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n\n  Line.prototype.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n\n  Line.prototype.beforeUpdate = function () {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.getTextContent(); // Quick reject\n\n    if (!symbolFrom && !symbolTo && (!label || label.ignore)) {\n      return;\n    }\n\n    var invScale = 1;\n    var parentNode = this.parent;\n\n    while (parentNode) {\n      if (parentNode.scaleX) {\n        invScale /= parentNode.scaleX;\n      }\n\n      parentNode = parentNode.parent;\n    }\n\n    var line = lineGroup.childOfName('line'); // If line not changed\n    // FIXME Parent scale changed\n\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n\n    function setSymbolRotation(symbol, percent) {\n      // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n      var specifiedRotation = symbol.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(percent);\n        symbol.attr('rotation', (percent === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbol.attr('rotation', specifiedRotation);\n      }\n    }\n\n    if (symbolFrom) {\n      symbolFrom.setPosition(fromPos);\n      setSymbolRotation(symbolFrom, 0);\n      symbolFrom.scaleX = symbolFrom.scaleY = invScale * percent;\n      symbolFrom.markRedraw();\n    }\n\n    if (symbolTo) {\n      symbolTo.setPosition(toPos);\n      setSymbolRotation(symbolTo, 1);\n      symbolTo.scaleX = symbolTo.scaleY = invScale * percent;\n      symbolTo.markRedraw();\n    }\n\n    if (label && !label.ignore) {\n      label.x = label.y = 0;\n      label.originX = label.originY = 0;\n      var textAlign = void 0;\n      var textVerticalAlign = void 0;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n\n      var dir = tangent[0] < 0 ? -1 : 1;\n\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.rotation = rotation;\n      }\n\n      var dy = void 0;\n\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n\n      switch (label.__position) {\n        case 'end':\n          label.x = d[0] * distanceX + toPos[0];\n          label.y = d[1] * distanceY + toPos[1];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n\n        case 'start':\n          label.x = -d[0] * distanceX + fromPos[0];\n          label.y = -d[1] * distanceY + fromPos[1];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          label.x = distanceX * dir + fromPos[0];\n          label.y = fromPos[1] + dy;\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          label.originX = -distanceX * dir;\n          label.originY = -dy;\n          break;\n\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          label.x = cp[0];\n          label.y = cp[1] + dy;\n          textAlign = 'center';\n          label.originY = -dy;\n          break;\n\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          label.x = -distanceX * dir + toPos[0];\n          label.y = toPos[1] + dy;\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          label.originX = distanceX * dir;\n          label.originY = -dy;\n          break;\n      }\n\n      label.scaleX = label.scaleY = invScale;\n      label.setStyle({\n        // Use the user specified text align and baseline first\n        verticalAlign: label.__verticalAlign || textVerticalAlign,\n        align: label.__align || textAlign\n      });\n    }\n  };\n\n  return Line;\n}(graphic.Group);\n\nexport default Line;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport LineGroup from './Line.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\n\nvar LineDraw =\n/** @class */\nfunction () {\n  function LineDraw(LineCtor) {\n    this.group = new graphic.Group();\n    this._LineCtor = LineCtor || LineGroup;\n  }\n\n  LineDraw.prototype.updateData = function (lineData) {\n    var _this = this; // Remove progressive els.\n\n\n    this._progressiveEls = null;\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldLineData) {\n      group.removeAll();\n    }\n\n    var seriesScope = makeSeriesScope(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      _this._doAdd(lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      _this._doUpdate(oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n\n  ;\n\n  LineDraw.prototype.updateLayout = function () {\n    var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n    if (!lineData) {\n      return;\n    }\n\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n\n  ;\n\n  LineDraw.prototype.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n\n  ;\n\n  LineDraw.prototype.incrementalUpdate = function (taskParams, lineData) {\n    this._progressiveEls = [];\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._LineCtor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n\n  ;\n\n  LineDraw.prototype.remove = function () {\n    this.group.removeAll();\n  };\n\n  ;\n\n  LineDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n\n  LineDraw.prototype._doAdd = function (lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n\n    var el = new this._LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    this.group.add(el);\n  };\n\n  LineDraw.prototype._doUpdate = function (oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      this.group.remove(itemEl);\n      return;\n    }\n\n    if (!itemEl) {\n      itemEl = new this._LineCtor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    this.group.add(itemEl);\n  };\n\n  return LineDraw;\n}();\n\nfunction isEffectObject(el) {\n  return el.animators && el.animators.length > 0;\n}\n\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  var emphasisModel = hostModel.getModel('emphasis');\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    emphasisLineStyle: emphasisModel.getModel(['lineStyle']).getLineStyle(),\n    blurLineStyle: hostModel.getModel(['blur', 'lineStyle']).getLineStyle(),\n    selectLineStyle: hostModel.getModel(['select', 'lineStyle']).getLineStyle(),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    blurScope: emphasisModel.get('blurScope'),\n    focus: emphasisModel.get('focus'),\n    labelStatesModels: getLabelStatesModels(hostModel)\n  };\n}\n\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\n\nfunction lineNeedsDraw(pts) {\n  return pts && !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n\nexport default LineDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { enterBlur, leaveBlur } from '../../util/states.js';\nvar inner = makeInner();\n\nvar MarkerView =\n/** @class */\nfunction (_super) {\n  __extends(MarkerView, _super);\n\n  function MarkerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MarkerView.type;\n    return _this;\n  }\n\n  MarkerView.prototype.init = function () {\n    this.markerGroupMap = createHashMap();\n  };\n\n  MarkerView.prototype.render = function (markerModel, ecModel, api) {\n    var _this = this;\n\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      inner(item).keep = false;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      markerModel && _this.renderSeries(seriesModel, markerModel, ecModel, api);\n    });\n    markerGroupMap.each(function (item) {\n      !inner(item).keep && _this.group.remove(item.group);\n    });\n  };\n\n  MarkerView.prototype.markKeep = function (drawGroup) {\n    inner(drawGroup).keep = true;\n  };\n\n  MarkerView.prototype.toggleBlurSeries = function (seriesModelList, isBlur) {\n    var _this = this;\n\n    each(seriesModelList, function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n\n      if (markerModel) {\n        var data = markerModel.getData();\n        data.eachItemGraphicEl(function (el) {\n          if (el) {\n            isBlur ? enterBlur(el) : leaveBlur(el);\n          }\n        });\n      }\n    });\n  };\n\n  MarkerView.type = 'marker';\n  return MarkerView;\n}(ComponentView);\n\nexport default MarkerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as markerHelper from './markerHelper.js';\nimport LineDraw from '../../chart/helper/LineDraw.js';\nimport MarkerView from './MarkerView.js';\nimport { getStackedDimension } from '../../data/helper/dataStackHelper.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getECData } from '../../util/innerStore.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isArray, retrieve, retrieve2, clone, extend, logError, merge, map, curry, filter, isNumber } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nvar inner = makeInner();\n\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData();\n  var itemArray;\n\n  if (!isArray(item)) {\n    // Special type markLine like 'min', 'max', 'average', 'median'\n    var mlType = item.type;\n\n    if (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null) {\n      var valueAxis = void 0;\n      var value = void 0;\n\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex; // Normized to 2d data with start and end point\n\n      var mlFrom = clone(item);\n      var mlTo = {\n        coord: []\n      };\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n\n      if (precision >= 0 && isNumber(value)) {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      itemArray = [mlFrom, mlTo, {\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    } else {\n      // Invalid data\n      if (process.env.NODE_ENV !== 'production') {\n        logError('Invalid markLine data.');\n      }\n\n      itemArray = [];\n    }\n  } else {\n    itemArray = item;\n  }\n\n  var normalizedItem = [markerHelper.dataTransform(seriesModel, itemArray[0]), markerHelper.dataTransform(seriesModel, itemArray[1]), extend({}, itemArray[2])]; // Avoid line data type is extended by from(to) data type\n\n  normalizedItem[2].type = normalizedItem[2].type || null; // Merge from option and to option into line option\n\n  merge(normalizedItem[2], normalizedItem[0]);\n  merge(normalizedItem[2], normalizedItem[1]);\n  return normalizedItem;\n};\n\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n\n      if (isInfinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInfinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  data.setItemLayout(idx, point);\n}\n\nvar MarkLineView =\n/** @class */\nfunction (_super) {\n  __extends(MarkLineView, _super);\n\n  function MarkLineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MarkLineView.type;\n    return _this;\n  }\n\n  MarkLineView.prototype.updateTransform = function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markLine');\n\n      if (mlModel) {\n        var mlData_1 = mlModel.getData();\n        var fromData_1 = inner(mlModel).from;\n        var toData_1 = inner(mlModel).to; // Update visual and layout of from symbol and to symbol\n\n        fromData_1.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData_1, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData_1, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData_1.each(function (idx) {\n          mlData_1.setItemLayout(idx, [fromData_1.getItemLayout(idx), toData_1.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n\n  MarkLineView.prototype.renderSeries = function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    inner(mlModel).from = fromData;\n    inner(mlModel).to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData); // TODO\n    // Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.\n    // But the related logic and type definition are not finished yet.\n    // Finish it if required\n\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n    var symbolRotate = mlModel.get('symbolRotate');\n    var symbolOffset = mlModel.get('symbolOffset'); // TODO: support callback function like markPoint\n\n    if (!isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n\n    if (!isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n\n    if (!isArray(symbolRotate)) {\n      symbolRotate = [symbolRotate, symbolRotate];\n    }\n\n    if (!isArray(symbolOffset)) {\n      symbolOffset = [symbolOffset, symbolOffset];\n    } // Update visual and layout of from symbol and to symbol\n\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineStyle = lineData.getItemModel(idx).getModel('lineStyle').getLineStyle(); // lineData.setItemVisual(idx, {\n      //     color: lineColor || fromData.getItemVisual(idx, 'color')\n      // });\n\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n\n      if (lineStyle.stroke == null) {\n        lineStyle.stroke = fromData.getItemVisual(idx, 'style').fill;\n      }\n\n      lineData.setItemVisual(idx, {\n        fromSymbolKeepAspect: fromData.getItemVisual(idx, 'symbolKeepAspect'),\n        fromSymbolOffset: fromData.getItemVisual(idx, 'symbolOffset'),\n        fromSymbolRotate: fromData.getItemVisual(idx, 'symbolRotate'),\n        fromSymbolSize: fromData.getItemVisual(idx, 'symbolSize'),\n        fromSymbol: fromData.getItemVisual(idx, 'symbol'),\n        toSymbolKeepAspect: toData.getItemVisual(idx, 'symbolKeepAspect'),\n        toSymbolOffset: toData.getItemVisual(idx, 'symbolOffset'),\n        toSymbolRotate: toData.getItemVisual(idx, 'symbolRotate'),\n        toSymbolSize: toData.getItemVisual(idx, 'symbolSize'),\n        toSymbol: toData.getItemVisual(idx, 'symbol'),\n        style: lineStyle\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el) {\n      getECData(el).dataModel = mlModel;\n      el.traverse(function (child) {\n        getECData(child).dataModel = mlModel;\n      });\n    });\n\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n\n      if (style.fill == null) {\n        style.fill = getVisualFromData(seriesData, 'color');\n      }\n\n      data.setItemVisual(idx, {\n        symbolKeepAspect: itemModel.get('symbolKeepAspect'),\n        // `0` should be considered as a valid value, so use `retrieve2` instead of `||`\n        symbolOffset: retrieve2(itemModel.get('symbolOffset', true), symbolOffset[isFrom ? 0 : 1]),\n        symbolRotate: retrieve2(itemModel.get('symbolRotate', true), symbolRotate[isFrom ? 0 : 1]),\n        // TODO: when 2d array is supported, it should ignore parent\n        symbolSize: retrieve2(itemModel.get('symbolSize'), symbolSize[isFrom ? 0 : 1]),\n        symbol: retrieve2(itemModel.get('symbol', true), symbolType[isFrom ? 0 : 1]),\n        style: style\n      });\n    }\n\n    this.markKeep(lineDraw);\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  };\n\n  MarkLineView.type = 'markLine';\n  return MarkLineView;\n}(MarkerView);\n\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var fromData = new SeriesData(coordDimsInfos, mlModel);\n  var toData = new SeriesData(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new SeriesData([], mlModel);\n  var optData = map(mlModel.get('data'), curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n  if (coordSys) {\n    optData = filter(optData, curry(markLineFilter, coordSys));\n  }\n\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  fromData.initData(map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\n\nexport default MarkLineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkLineModel from './MarkLineModel.js';\nimport MarkLineView from './MarkLineView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkLineModel);\n  registers.registerComponentView(MarkLineView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markLine')) {\n      // Make sure markLine component is enabled\n      opt.markLine = opt.markLine || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nexport default function checkMarkerInSeries(seriesOpts, markerType) {\n  if (!seriesOpts) {\n    return false;\n  }\n\n  var seriesOptArr = isArray(seriesOpts) ? seriesOpts : [seriesOpts];\n\n  for (var idx = 0; idx < seriesOptArr.length; idx++) {\n    if (seriesOptArr[idx] && seriesOptArr[idx][markerType]) {\n      return true;\n    }\n  }\n\n  return false;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { Group } from '../../util/graphic.js';\n\nvar LineSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(LineSeriesModel, _super);\n\n  function LineSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LineSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  LineSeriesModel.prototype.getInitialData = function (option) {\n    if (process.env.NODE_ENV !== 'production') {\n      var coordSys = option.coordinateSystem;\n\n      if (coordSys !== 'polar' && coordSys !== 'cartesian2d') {\n        throw new Error('Line not support coordinateSystem besides cartesian and polar');\n      }\n    }\n\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  LineSeriesModel.prototype.getLegendIcon = function (opt) {\n    var group = new Group();\n    var line = createSymbol('line', 0, opt.itemHeight / 2, opt.itemWidth, 0, opt.lineStyle.stroke, false);\n    group.add(line);\n    line.setStyle(opt.lineStyle);\n    var visualType = this.getData().getVisual('symbol');\n    var visualRotate = this.getData().getVisual('symbolRotate');\n    var symbolType = visualType === 'none' ? 'circle' : visualType; // Symbol size is 80% when there is a line\n\n    var size = opt.itemHeight * 0.8;\n    var symbol = createSymbol(symbolType, (opt.itemWidth - size) / 2, (opt.itemHeight - size) / 2, size, size, opt.itemStyle.fill);\n    group.add(symbol);\n    symbol.setStyle(opt.itemStyle);\n    var symbolRotate = opt.iconRotate === 'inherit' ? visualRotate : opt.iconRotate || 0;\n    symbol.rotation = symbolRotate * Math.PI / 180;\n    symbol.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n    if (symbolType.indexOf('empty') > -1) {\n      symbol.style.stroke = symbol.style.fill;\n      symbol.style.fill = '#fff';\n      symbol.style.lineWidth = 2;\n    }\n\n    return group;\n  };\n\n  LineSeriesModel.type = 'series.line';\n  LineSeriesModel.dependencies = ['grid', 'polar'];\n  LineSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 3,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    clip: true,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    endLabel: {\n      show: false,\n      valueAnimation: true,\n      distance: 8\n    },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    emphasis: {\n      scale: true\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity,\n    universalTransition: {\n      divideShape: 'clone'\n    },\n    triggerLineEvent: false\n  };\n  return LineSeriesModel;\n}(SeriesModel);\n\nexport default LineSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\nimport { getDefaultLabel } from './labelHelper.js';\nimport { extend } from 'zrender/lib/core/util.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\n\nvar Symbol =\n/** @class */\nfunction (_super) {\n  __extends(Symbol, _super);\n\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n\n    _this.updateData(data, idx, seriesScope, opts);\n\n    return _this;\n  }\n\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll(); // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n\n  Symbol.prototype.getSymbolType = function () {\n    return this._symbolType;\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  Symbol.prototype.setDraggable = function (draggable, hasCursorOption) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = !hasCursorOption && draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n\n\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n      saveOldStyle(symbolPath);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n\n    if (disableAnimation) {\n      // Must stop leave transition manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('leave');\n    }\n  };\n\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var emphasisDisabled;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n      emphasisDisabled = seriesScope.emphasisDisabled;\n    }\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      emphasisDisabled = emphasisModel.get('disabled');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n\n    if (symbolOffset) {\n      symbolPath.x = symbolOffset[0];\n      symbolPath.y = symbolOffset[1];\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      } // Disable decal because symbol scale will been applied on the decal.\n\n\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle; // null / undefined / true means to use default strategy.\n    // 0 / false / negative number / NaN / Infinity means no scale.\n\n    var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY) // PENDING: restrict hoverScale > 1? It seems unreasonable to scale down\n    : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1; // always set scale to allow resetting\n\n    emphasisState.scaleX = this._sizeX * scaleRatio;\n    emphasisState.scaleY = this._sizeY * scaleRatio;\n    this.setSymbolScale(1);\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n\n  Symbol.prototype.fadeOut = function (cb, seriesModel, opt) {\n    var symbolPath = this.childAt(0);\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation; // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n\n  Symbol.getSymbolSize = function (data, idx) {\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  };\n\n  return Symbol;\n}(graphic.Group);\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport SymbolClz from './Symbol.js';\nimport { isObject } from 'zrender/lib/core/util.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar SymbolDraw =\n/** @class */\nfunction () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n\n\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    // Remove progressive els.\n    this._progressiveEls = null;\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    }; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\n\n      if (!symbolEl // Create a new if symbol type changed.\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\n        group.remove(symbolEl);\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      }, seriesModel);\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n\n  ;\n\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    // Clear\n    this._progressiveEls = [];\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        }, data.hostModel);\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  ;\n  return SymbolDraw;\n}();\n\nexport default SymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { isNumber, map } from 'zrender/lib/core/util.js';\nexport function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n\n  if (isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // If origin is specified as a number, use it as\n  // valueStart directly\n  else if (isNumber(valueOrigin) && !isNaN(valueOrigin)) {\n      valueStart = valueOrigin;\n    } // auto\n    else {\n        // Both positive\n        if (extent[0] > 0) {\n          valueStart = extent[0];\n        } // Both negative\n        else if (extent[1] < 0) {\n            valueStart = extent[1];\n          } // If is one positive, and one negative, onZero shall be true\n\n      }\n\n  return valueStart;\n}\n\nexport function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // Poly path support NaN point\n\nimport Path from 'zrender/lib/graphic/Path.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { cubicRootAt, cubicAt } from 'zrender/lib/core/curve.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smooth, smoothMonotone, connectNulls) {\n  var prevX;\n  var prevY;\n  var cpx0;\n  var cpy0;\n  var cpx1;\n  var cpy1;\n  var idx = start;\n  var k = 0;\n\n  for (; k < segLen; k++) {\n    var x = points[idx * 2];\n    var y = points[idx * 2 + 1];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(x, y)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](x, y);\n      cpx0 = x;\n      cpy0 = y;\n    } else {\n      var dx = x - prevX;\n      var dy = y - prevY; // Ignore tiny segment.\n\n      if (dx * dx + dy * dy < 0.5) {\n        idx += dir;\n        continue;\n      }\n\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextX = points[nextIdx * 2];\n        var nextY = points[nextIdx * 2 + 1]; // Ignore duplicate point\n\n        while (nextX === x && nextY === y && k < segLen) {\n          k++;\n          nextIdx += dir;\n          idx += dir;\n          nextX = points[nextIdx * 2];\n          nextY = points[nextIdx * 2 + 1];\n          x = points[idx * 2];\n          y = points[idx * 2 + 1];\n          dx = x - prevX;\n          dy = y - prevY;\n        }\n\n        var tmpK = k + 1;\n\n        if (connectNulls) {\n          // Find next point not null\n          while (isPointNull(nextX, nextY) && tmpK < segLen) {\n            tmpK++;\n            nextIdx += dir;\n            nextX = points[nextIdx * 2];\n            nextY = points[nextIdx * 2 + 1];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var vx = 0;\n        var vy = 0;\n        var nextCpx0 = void 0;\n        var nextCpy0 = void 0; // Is last point\n\n        if (tmpK >= segLen || isPointNull(nextX, nextY)) {\n          cpx1 = x;\n          cpy1 = y;\n        } else {\n          vx = nextX - prevX;\n          vy = nextY - prevY;\n          var dx0 = x - prevX;\n          var dx1 = nextX - x;\n          var dy0 = y - prevY;\n          var dy1 = nextY - y;\n          var lenPrevSeg = void 0;\n          var lenNextSeg = void 0;\n\n          if (smoothMonotone === 'x') {\n            lenPrevSeg = Math.abs(dx0);\n            lenNextSeg = Math.abs(dx1);\n            var dir_1 = vx > 0 ? 1 : -1;\n            cpx1 = x - dir_1 * lenPrevSeg * smooth;\n            cpy1 = y;\n            nextCpx0 = x + dir_1 * lenNextSeg * smooth;\n            nextCpy0 = y;\n          } else if (smoothMonotone === 'y') {\n            lenPrevSeg = Math.abs(dy0);\n            lenNextSeg = Math.abs(dy1);\n            var dir_2 = vy > 0 ? 1 : -1;\n            cpx1 = x;\n            cpy1 = y - dir_2 * lenPrevSeg * smooth;\n            nextCpx0 = x;\n            nextCpy0 = y + dir_2 * lenNextSeg * smooth;\n          } else {\n            lenPrevSeg = Math.sqrt(dx0 * dx0 + dy0 * dy0);\n            lenNextSeg = Math.sqrt(dx1 * dx1 + dy1 * dy1); // Use ratio of seg length\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            cpx1 = x - vx * smooth * (1 - ratioNextSeg);\n            cpy1 = y - vy * smooth * (1 - ratioNextSeg); // cp0 of next segment\n\n            nextCpx0 = x + vx * smooth * ratioNextSeg;\n            nextCpy0 = y + vy * smooth * ratioNextSeg; // Smooth constraint between point and next point.\n            // Avoid exceeding extreme after smoothing.\n\n            nextCpx0 = mathMin(nextCpx0, mathMax(nextX, x));\n            nextCpy0 = mathMin(nextCpy0, mathMax(nextY, y));\n            nextCpx0 = mathMax(nextCpx0, mathMin(nextX, x));\n            nextCpy0 = mathMax(nextCpy0, mathMin(nextY, y)); // Reclaculate cp1 based on the adjusted cp0 of next seg.\n\n            vx = nextCpx0 - x;\n            vy = nextCpy0 - y;\n            cpx1 = x - vx * lenPrevSeg / lenNextSeg;\n            cpy1 = y - vy * lenPrevSeg / lenNextSeg; // Smooth constraint between point and prev point.\n            // Avoid exceeding extreme after smoothing.\n\n            cpx1 = mathMin(cpx1, mathMax(prevX, x));\n            cpy1 = mathMin(cpy1, mathMax(prevY, y));\n            cpx1 = mathMax(cpx1, mathMin(prevX, x));\n            cpy1 = mathMax(cpy1, mathMin(prevY, y)); // Adjust next cp0 again.\n\n            vx = x - cpx1;\n            vy = y - cpy1;\n            nextCpx0 = x + vx * lenNextSeg / lenPrevSeg;\n            nextCpy0 = y + vy * lenNextSeg / lenPrevSeg;\n          }\n        }\n\n        ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, x, y);\n        cpx0 = nextCpx0;\n        cpy0 = nextCpy0;\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n\n    prevX = x;\n    prevY = y;\n    idx += dir;\n  }\n\n  return k;\n}\n\nvar ECPolylineShape =\n/** @class */\nfunction () {\n  function ECPolylineShape() {\n    this.smooth = 0;\n    this.smoothConstraint = true;\n  }\n\n  return ECPolylineShape;\n}();\n\nvar ECPolyline =\n/** @class */\nfunction (_super) {\n  __extends(ECPolyline, _super);\n\n  function ECPolyline(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polyline';\n    return _this;\n  }\n\n  ECPolyline.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  ECPolyline.prototype.getDefaultShape = function () {\n    return new ECPolylineShape();\n  };\n\n  ECPolyline.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length / 2; // const result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  };\n\n  ECPolyline.prototype.getPointOn = function (xOrY, dim) {\n    if (!this.path) {\n      this.createPathProxy();\n      this.buildPath(this.path, this.shape);\n    }\n\n    var path = this.path;\n    var data = path.data;\n    var CMD = PathProxy.CMD;\n    var x0;\n    var y0;\n    var isDimX = dim === 'x';\n    var roots = [];\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n      var x = void 0;\n      var y = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var x3 = void 0;\n      var y3 = void 0;\n      var t = void 0;\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = data[i++];\n          y0 = data[i++];\n          break;\n\n        case CMD.L:\n          x = data[i++];\n          y = data[i++];\n          t = isDimX ? (xOrY - x0) / (x - x0) : (xOrY - y0) / (y - y0);\n\n          if (t <= 1 && t >= 0) {\n            var val = isDimX ? (y - y0) * t + y0 : (x - x0) * t + x0;\n            return isDimX ? [xOrY, val] : [val, xOrY];\n          }\n\n          x0 = x;\n          y0 = y;\n          break;\n\n        case CMD.C:\n          x = data[i++];\n          y = data[i++];\n          x2 = data[i++];\n          y2 = data[i++];\n          x3 = data[i++];\n          y3 = data[i++];\n          var nRoot = isDimX ? cubicRootAt(x0, x, x2, x3, xOrY, roots) : cubicRootAt(y0, y, y2, y3, xOrY, roots);\n\n          if (nRoot > 0) {\n            for (var i_1 = 0; i_1 < nRoot; i_1++) {\n              var t_1 = roots[i_1];\n\n              if (t_1 <= 1 && t_1 >= 0) {\n                var val = isDimX ? cubicAt(y0, y, y2, y3, t_1) : cubicAt(x0, x, x2, x3, t_1);\n                return isDimX ? [xOrY, val] : [val, xOrY];\n              }\n            }\n          }\n\n          x0 = x3;\n          y0 = y3;\n          break;\n      }\n    }\n  };\n\n  return ECPolyline;\n}(Path);\n\nexport { ECPolyline };\n\nvar ECPolygonShape =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygonShape, _super);\n\n  function ECPolygonShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return ECPolygonShape;\n}(ECPolylineShape);\n\nvar ECPolygon =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygon, _super);\n\n  function ECPolygon(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polygon';\n    return _this;\n  }\n\n  ECPolygon.prototype.getDefaultShape = function () {\n    return new ECPolygonShape();\n  };\n\n  ECPolygon.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length / 2;\n    var smoothMonotone = shape.smoothMonotone;\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  };\n\n  return ECPolygon;\n}(Path);\n\nexport { ECPolygon };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // FIXME step not support polar\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport SymbolClz from '../helper/Symbol.js';\nimport lineAnimationDiff from './lineAnimationDiff.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as modelUtil from '../../util/model.js';\nimport { ECPolyline, ECPolygon } from './poly.js';\nimport ChartView from '../../view/Chart.js';\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper.js';\nimport { createGridClipPath, createPolarClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setStatesStylesFromModel, setStatesFlag, toggleHoverEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { setLabelStyle, getLabelStatesModels, labelInner } from '../../label/labelStyle.js';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nimport { convertToColorString } from '../../util/format.js';\nimport { lerp } from 'zrender/lib/tool/color.js';\n\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    if (points1[i] !== points2[i]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction bboxFromPoints(points) {\n  var minX = Infinity;\n  var minY = Infinity;\n  var maxX = -Infinity;\n  var maxY = -Infinity;\n\n  for (var i = 0; i < points.length;) {\n    var x = points[i++];\n    var y = points[i++];\n\n    if (!isNaN(x)) {\n      minX = Math.min(x, minX);\n      maxX = Math.max(x, maxX);\n    }\n\n    if (!isNaN(y)) {\n      minY = Math.min(y, minY);\n      maxY = Math.max(y, maxY);\n    }\n  }\n\n  return [[minX, minY], [maxX, maxY]];\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var _a = bboxFromPoints(points1),\n      min1 = _a[0],\n      max1 = _a[1];\n\n  var _b = bboxFromPoints(points2),\n      min2 = _b[0],\n      max2 = _b[1]; // Get a max value from each corner of two boundings.\n\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return zrUtil.isNumber(smooth) ? smooth : smooth ? 0.5 : 0;\n}\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var len = data.count();\n  var points = createFloat32Array(len * 2);\n\n  for (var idx = 0; idx < len; idx++) {\n    var pt = getStackedOnPoint(dataCoordInfo, coordSys, data, idx);\n    points[idx * 2] = pt[0];\n    points[idx * 2 + 1] = pt[1];\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt, connectNulls) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n  var i = 0;\n  var stepPt = [];\n  var pt = [];\n  var nextPt = [];\n  var filteredPoints = [];\n\n  if (connectNulls) {\n    for (i = 0; i < points.length; i += 2) {\n      if (!isNaN(points[i]) && !isNaN(points[i + 1])) {\n        filteredPoints.push(points[i], points[i + 1]);\n      }\n    }\n\n    points = filteredPoints;\n  }\n\n  for (i = 0; i < points.length - 2; i += 2) {\n    nextPt[0] = points[i + 2];\n    nextPt[1] = points[i + 3];\n    pt[0] = points[i];\n    pt[1] = points[i + 1];\n    stepPoints.push(pt[0], pt[1]);\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        break;\n\n      case 'middle':\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        stepPoints.push(stepPt2[0], stepPt2[1]);\n        break;\n\n      default:\n        // default is start\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n    }\n  } // Last points\n\n\n  stepPoints.push(points[i++], points[i++]);\n  return stepPoints;\n}\n/**\n * Clip color stops to edge. Avoid creating too large gradients.\n * Which may lead to blurry when GPU acceleration is enabled. See #15680\n *\n * The stops has been sorted from small to large.\n */\n\n\nfunction clipColorStops(colorStops, maxSize) {\n  var newColorStops = [];\n  var len = colorStops.length; // coord will always < 0 in prevOutOfRangeColorStop.\n\n  var prevOutOfRangeColorStop;\n  var prevInRangeColorStop;\n\n  function lerpStop(stop0, stop1, clippedCoord) {\n    var coord0 = stop0.coord;\n    var p = (clippedCoord - coord0) / (stop1.coord - coord0);\n    var color = lerp(p, [stop0.color, stop1.color]);\n    return {\n      coord: clippedCoord,\n      color: color\n    };\n  }\n\n  for (var i = 0; i < len; i++) {\n    var stop_1 = colorStops[i];\n    var coord = stop_1.coord;\n\n    if (coord < 0) {\n      prevOutOfRangeColorStop = stop_1;\n    } else if (coord > maxSize) {\n      if (prevInRangeColorStop) {\n        newColorStops.push(lerpStop(prevInRangeColorStop, stop_1, maxSize));\n      } else if (prevOutOfRangeColorStop) {\n        // If there are two stops and coord range is between these two stops\n        newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0), lerpStop(prevOutOfRangeColorStop, stop_1, maxSize));\n      } // All following stop will be out of range. So just ignore them.\n\n\n      break;\n    } else {\n      if (prevOutOfRangeColorStop) {\n        newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0)); // Reset\n\n        prevOutOfRangeColorStop = null;\n      }\n\n      newColorStops.push(stop_1);\n      prevInRangeColorStop = stop_1;\n    }\n  }\n\n  return newColorStops;\n}\n\nfunction getVisualGradient(data, coordSys, api) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style is only supported on cartesian2d.');\n    }\n\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimInfo = data.getDimensionInfo(visualMetaList[i].dimension);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style only support x or y dimension.');\n    }\n\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoord mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    // offset will be calculated later.\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var colorStopsInRange = clipColorStops(colorStops, coordDim === 'x' ? api.getWidth() : api.getHeight());\n  var inRangeStopLen = colorStopsInRange.length;\n\n  if (!inRangeStopLen && stopLen) {\n    // All stops are out of range. All will be the same color.\n    return colorStops[0].coord < 0 ? outerColors[1] ? outerColors[1] : colorStops[stopLen - 1].color : outerColors[0] ? outerColors[0] : colorStops[0].color;\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStopsInRange[0].coord - tinyExtent;\n  var maxCoord = colorStopsInRange[inRangeStopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStopsInRange, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStopsInRange.push({\n    // NOTE: inRangeStopLen may still be 0 if stoplen is zero.\n    offset: inRangeStopLen ? colorStopsInRange[inRangeStopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStopsInRange.unshift({\n    offset: inRangeStopLen ? colorStopsInRange[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  });\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStopsInRange, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    var ordinalNumber = categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);\n    labelMap[ordinalNumber] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n\nfunction getLastIndexNotNull(points) {\n  var len = points.length / 2;\n\n  for (; len > 0; len--) {\n    if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n      break;\n    }\n  }\n\n  return len - 1;\n}\n\nfunction getPointAtIndex(points, idx) {\n  return [points[idx * 2], points[idx * 2 + 1]];\n}\n\nfunction getIndexRange(points, xOrY, dim) {\n  var len = points.length / 2;\n  var dimIdx = dim === 'x' ? 0 : 1;\n  var a;\n  var b;\n  var prevIndex = 0;\n  var nextIndex = -1;\n\n  for (var i = 0; i < len; i++) {\n    b = points[i * 2 + dimIdx];\n\n    if (isNaN(b) || isNaN(points[i * 2 + 1 - dimIdx])) {\n      continue;\n    }\n\n    if (i === 0) {\n      a = b;\n      continue;\n    }\n\n    if (a <= xOrY && b >= xOrY || a >= xOrY && b <= xOrY) {\n      nextIndex = i;\n      break;\n    }\n\n    prevIndex = i;\n    a = b;\n  }\n\n  return {\n    range: [prevIndex, nextIndex],\n    t: (xOrY - a) / (b - a)\n  };\n}\n\nfunction anyStateShowEndLabel(seriesModel) {\n  if (seriesModel.get(['endLabel', 'show'])) {\n    return true;\n  }\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    if (seriesModel.get([SPECIAL_STATES[i], 'endLabel', 'show'])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createLineClipPath(lineView, coordSys, hasAnimation, seriesModel) {\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    var endLabelModel_1 = seriesModel.getModel('endLabel');\n    var valueAnimation_1 = endLabelModel_1.get('valueAnimation');\n    var data_1 = seriesModel.getData();\n    var labelAnimationRecord_1 = {\n      lastFrameIndex: 0\n    };\n    var during = anyStateShowEndLabel(seriesModel) ? function (percent, clipRect) {\n      lineView._endLabelOnDuring(percent, clipRect, data_1, labelAnimationRecord_1, valueAnimation_1, endLabelModel_1, coordSys);\n    } : null;\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel, function () {\n      var endLabel = lineView._endLabel;\n\n      if (endLabel && hasAnimation) {\n        if (labelAnimationRecord_1.originalX != null) {\n          endLabel.attr({\n            x: labelAnimationRecord_1.originalX,\n            y: labelAnimationRecord_1.originalY\n          });\n        }\n      }\n    }, during); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    } // Set to the final frame. To make sure label layout is right.\n\n\n    if (during) {\n      during(1, clipPath);\n    }\n\n    return clipPath;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      if (seriesModel.get(['endLabel', 'show'])) {\n        console.warn('endLabel is not supported for lines in polar systems.');\n      }\n    }\n\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nfunction getEndLabelStateSpecified(endLabelModel, coordSys) {\n  var baseAxis = coordSys.getBaseAxis();\n  var isHorizontal = baseAxis.isHorizontal();\n  var isBaseInversed = baseAxis.inverse;\n  var align = isHorizontal ? isBaseInversed ? 'right' : 'left' : 'center';\n  var verticalAlign = isHorizontal ? 'middle' : isBaseInversed ? 'top' : 'bottom';\n  return {\n    normal: {\n      align: endLabelModel.get('align') || align,\n      verticalAlign: endLabelModel.get('verticalAlign') || verticalAlign\n    }\n  };\n}\n\nvar LineView =\n/** @class */\nfunction (_super) {\n  __extends(LineView, _super);\n\n  function LineView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineView.prototype.init = function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  };\n\n  LineView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.getLayout('points') || [];\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = isAreaChart && getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var connectNulls = seriesModel.get('connectNulls');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar ? seriesModel.get('step') : false;\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol;\n    var visualColor = getVisualGradient(data, coordSys, api) || data.getVisual('style')[data.getVisual('drawType')]; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      });\n      hasAnimation && this._initSymbolLabelAnimation(data, coordSys, clipShapeForSymbol);\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step, connectNulls);\n\n        if (stackedOnPoints) {\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step, connectNulls);\n        }\n      }\n\n      polyline = this._newPolyline(points);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } // If areaStyle is removed\n      else if (polygon) {\n          lineGroup.remove(polygon);\n          polygon = this._polygon = null;\n        } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      }\n\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      } // Update clipPath\n\n\n      var oldClipPath = lineGroup.getClipPath();\n\n      if (oldClipPath) {\n        var newClipPath = createLineClipPath(this, coordSys, false, seriesModel);\n        graphic.initProps(oldClipPath, {\n          shape: newClipPath.shape\n        }, seriesModel);\n      } else {\n        lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n      } // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._doUpdateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step, connectNulls);\n\n            if (stackedOnPoints) {\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step, connectNulls);\n            }\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    setStatesStylesFromModel(polyline, seriesModel, 'lineStyle');\n\n    if (polyline.style.lineWidth > 0 && seriesModel.get(['emphasis', 'lineStyle', 'width']) === 'bolder') {\n      var emphasisLineStyle = polyline.getState('emphasis').style;\n      emphasisLineStyle.lineWidth = +polyline.style.lineWidth + 1;\n    } // Needs seriesIndex for focus\n\n\n    getECData(polyline).seriesIndex = seriesModel.seriesIndex;\n    toggleHoverEmphasis(polyline, focus, blurScope, emphasisDisabled);\n    var smooth = getSmooth(seriesModel.get('smooth'));\n    var smoothMonotone = seriesModel.get('smoothMonotone');\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: smoothMonotone,\n      connectNulls: connectNulls\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel',\n        decal: data.getVisual('style').decal\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: smoothMonotone,\n        connectNulls: connectNulls\n      });\n      setStatesStylesFromModel(polygon, seriesModel, 'areaStyle'); // Needs seriesIndex for focus\n\n      getECData(polygon).seriesIndex = seriesModel.seriesIndex;\n      toggleHoverEmphasis(polygon, focus, blurScope, emphasisDisabled);\n    }\n\n    var changePolyState = function (toState) {\n      _this._changePolyState(toState);\n    };\n\n    data.eachItemGraphicEl(function (el) {\n      // Switch polyline / polygon state if element changed its state.\n      el && (el.onHoverStateChange = changePolyState);\n    });\n    this._polyline.onHoverStateChange = changePolyState;\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n\n    if (seriesModel.get('triggerLineEvent')) {\n      this.packEventData(seriesModel, polyline);\n      polygon && this.packEventData(seriesModel, polygon);\n    }\n  };\n\n  LineView.prototype.packEventData = function (seriesModel, el) {\n    getECData(el).eventData = {\n      componentType: 'series',\n      componentSubType: 'line',\n      componentIndex: seriesModel.componentIndex,\n      seriesIndex: seriesModel.seriesIndex,\n      seriesName: seriesModel.name,\n      seriesType: 'line'\n    };\n  };\n\n  LineView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('emphasis');\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var points = data.getLayout('points');\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var x = points[dataIndex * 2];\n        var y = points[dataIndex * 2 + 1];\n\n        if (isNaN(x) || isNaN(y)) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(x, y)) {\n          return;\n        }\n\n        var zlevel = seriesModel.get('zlevel') || 0;\n        var z = seriesModel.get('z') || 0;\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.x = x;\n        symbol.y = y;\n        symbol.setZ(zlevel, z); // ensure label text of the temporary symbol is in front of line and area polygon\n\n        var symbolLabel = symbol.getSymbolPath().getTextContent();\n\n        if (symbolLabel) {\n          symbolLabel.zlevel = zlevel;\n          symbolLabel.z = z;\n          symbolLabel.z2 = this._polyline.z2 + 1;\n        }\n\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('normal');\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype._changePolyState = function (toState) {\n    var polygon = this._polygon;\n    setStatesFlag(this._polyline, toState);\n    polygon && setStatesFlag(polygon, toState);\n  };\n\n  LineView.prototype._newPolyline = function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new ECPolyline({\n      shape: {\n        points: points\n      },\n      segmentIgnoreThreshold: 2,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  };\n\n  LineView.prototype._newPolygon = function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new ECPolygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      segmentIgnoreThreshold: 2\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  };\n\n  LineView.prototype._initSymbolLabelAnimation = function (data, coordSys, clipShape) {\n    var isHorizontalOrRadial;\n    var isCoordSysPolar;\n    var baseAxis = coordSys.getBaseAxis();\n    var isAxisInverse = baseAxis.inverse;\n\n    if (coordSys.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n      isCoordSysPolar = false;\n    } else if (coordSys.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n      isCoordSysPolar = true;\n    }\n\n    var seriesModel = data.hostModel;\n    var seriesDuration = seriesModel.get('animationDuration');\n\n    if (zrUtil.isFunction(seriesDuration)) {\n      seriesDuration = seriesDuration(null);\n    }\n\n    var seriesDalay = seriesModel.get('animationDelay') || 0;\n    var seriesDalayValue = zrUtil.isFunction(seriesDalay) ? seriesDalay(null) : seriesDalay;\n    data.eachItemGraphicEl(function (symbol, idx) {\n      var el = symbol;\n\n      if (el) {\n        var point = [symbol.x, symbol.y];\n        var start = void 0;\n        var end = void 0;\n        var current = void 0;\n\n        if (clipShape) {\n          if (isCoordSysPolar) {\n            var polarClip = clipShape;\n            var coord = coordSys.pointToCoord(point);\n\n            if (isHorizontalOrRadial) {\n              start = polarClip.startAngle;\n              end = polarClip.endAngle;\n              current = -coord[1] / 180 * Math.PI;\n            } else {\n              start = polarClip.r0;\n              end = polarClip.r;\n              current = coord[0];\n            }\n          } else {\n            var gridClip = clipShape;\n\n            if (isHorizontalOrRadial) {\n              start = gridClip.x;\n              end = gridClip.x + gridClip.width;\n              current = symbol.x;\n            } else {\n              start = gridClip.y + gridClip.height;\n              end = gridClip.y;\n              current = symbol.y;\n            }\n          }\n        }\n\n        var ratio = end === start ? 0 : (current - start) / (end - start);\n\n        if (isAxisInverse) {\n          ratio = 1 - ratio;\n        }\n\n        var delay = zrUtil.isFunction(seriesDalay) ? seriesDalay(idx) : seriesDuration * ratio + seriesDalayValue;\n        var symbolPath = el.getSymbolPath();\n        var text = symbolPath.getTextContent();\n        el.attr({\n          scaleX: 0,\n          scaleY: 0\n        });\n        el.animateTo({\n          scaleX: 1,\n          scaleY: 1\n        }, {\n          duration: 200,\n          setToFinal: true,\n          delay: delay\n        });\n\n        if (text) {\n          text.animateFrom({\n            style: {\n              opacity: 0\n            }\n          }, {\n            duration: 300,\n            delay: delay\n          });\n        }\n\n        symbolPath.disableLabelAnimation = true;\n      }\n    });\n  };\n\n  LineView.prototype._initOrUpdateEndLabel = function (seriesModel, coordSys, inheritColor) {\n    var endLabelModel = seriesModel.getModel('endLabel');\n\n    if (anyStateShowEndLabel(seriesModel)) {\n      var data_2 = seriesModel.getData();\n      var polyline = this._polyline; // series may be filtered.\n\n      var points = data_2.getLayout('points');\n\n      if (!points) {\n        polyline.removeTextContent();\n        this._endLabel = null;\n        return;\n      }\n\n      var endLabel = this._endLabel;\n\n      if (!endLabel) {\n        endLabel = this._endLabel = new graphic.Text({\n          z2: 200 // should be higher than item symbol\n\n        });\n        endLabel.ignoreClip = true;\n        polyline.setTextContent(this._endLabel);\n        polyline.disableLabelAnimation = true;\n      } // Find last non-NaN data to display data\n\n\n      var dataIndex = getLastIndexNotNull(points);\n\n      if (dataIndex >= 0) {\n        setLabelStyle(polyline, getLabelStatesModels(seriesModel, 'endLabel'), {\n          inheritColor: inheritColor,\n          labelFetcher: seriesModel,\n          labelDataIndex: dataIndex,\n          defaultText: function (dataIndex, opt, interpolatedValue) {\n            return interpolatedValue != null ? getDefaultInterpolatedLabel(data_2, interpolatedValue) : getDefaultLabel(data_2, dataIndex);\n          },\n          enableTextSetter: true\n        }, getEndLabelStateSpecified(endLabelModel, coordSys));\n        polyline.textConfig.position = null;\n      }\n    } else if (this._endLabel) {\n      this._polyline.removeTextContent();\n\n      this._endLabel = null;\n    }\n  };\n\n  LineView.prototype._endLabelOnDuring = function (percent, clipRect, data, animationRecord, valueAnimation, endLabelModel, coordSys) {\n    var endLabel = this._endLabel;\n    var polyline = this._polyline;\n\n    if (endLabel) {\n      // NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.\n      // The label is not prepared at this time.\n      if (percent < 1 && animationRecord.originalX == null) {\n        animationRecord.originalX = endLabel.x;\n        animationRecord.originalY = endLabel.y;\n      }\n\n      var points = data.getLayout('points');\n      var seriesModel = data.hostModel;\n      var connectNulls = seriesModel.get('connectNulls');\n      var precision = endLabelModel.get('precision');\n      var distance = endLabelModel.get('distance') || 0;\n      var baseAxis = coordSys.getBaseAxis();\n      var isHorizontal = baseAxis.isHorizontal();\n      var isBaseInversed = baseAxis.inverse;\n      var clipShape = clipRect.shape;\n      var xOrY = isBaseInversed ? isHorizontal ? clipShape.x : clipShape.y + clipShape.height : isHorizontal ? clipShape.x + clipShape.width : clipShape.y;\n      var distanceX = (isHorizontal ? distance : 0) * (isBaseInversed ? -1 : 1);\n      var distanceY = (isHorizontal ? 0 : -distance) * (isBaseInversed ? -1 : 1);\n      var dim = isHorizontal ? 'x' : 'y';\n      var dataIndexRange = getIndexRange(points, xOrY, dim);\n      var indices = dataIndexRange.range;\n      var diff = indices[1] - indices[0];\n      var value = void 0;\n\n      if (diff >= 1) {\n        // diff > 1 && connectNulls, which is on the null data.\n        if (diff > 1 && !connectNulls) {\n          var pt = getPointAtIndex(points, indices[0]);\n          endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          valueAnimation && (value = seriesModel.getRawValue(indices[0]));\n        } else {\n          var pt = polyline.getPointOn(xOrY, dim);\n          pt && endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          var startValue = seriesModel.getRawValue(indices[0]);\n          var endValue = seriesModel.getRawValue(indices[1]);\n          valueAnimation && (value = modelUtil.interpolateRawValues(data, precision, startValue, endValue, dataIndexRange.t));\n        }\n\n        animationRecord.lastFrameIndex = indices[0];\n      } else {\n        // If diff <= 0, which is the range is not found(Include NaN)\n        // Choose the first point or last point.\n        var idx = percent === 1 || animationRecord.lastFrameIndex > 0 ? indices[0] : 0;\n        var pt = getPointAtIndex(points, idx);\n        valueAnimation && (value = seriesModel.getRawValue(idx));\n        endLabel.attr({\n          x: pt[0] + distanceX,\n          y: pt[1] + distanceY\n        });\n      }\n\n      if (valueAnimation) {\n        labelInner(endLabel).setLabelText(value);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n\n\n  LineView.prototype._doUpdateAnimation = function (data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step, connectNulls);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step, connectNulls);\n      next = turnPointsIntoStep(diff.next, coordSys, step, connectNulls);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step, connectNulls);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.stopAnimation();\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.stopAnimation();\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    }\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    var target = {\n      shape: {\n        points: next\n      }\n    }; // Also animate the original points.\n    // If points reference is changed when turning into step line.\n\n    if (diff.current !== current) {\n      target.shape.__points = diff.next;\n    } // Stop previous animation.\n\n\n    polyline.stopAnimation();\n    graphic.updateProps(polyline, target, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        // Reuse the points with polyline.\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      polygon.stopAnimation();\n      graphic.updateProps(polygon, {\n        shape: {\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel); // If use attr directly in updateProps.\n\n      if (polyline.shape.points !== polygon.shape.points) {\n        polygon.shape.points = polyline.shape.points;\n      }\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        polygon && polygon.dirtyShape();\n        var points = polyline.shape.__points;\n\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          var offset = updatedDataInfo[i].ptIdx * 2;\n          el.x = points[offset];\n          el.y = points[offset + 1];\n          el.markRedraw();\n        }\n      });\n    }\n  };\n\n  LineView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;\n  };\n\n  LineView.type = 'line';\n  return LineView;\n}(ChartView);\n\nexport default LineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper.js';\nimport { createFloat32Array } from '../../util/vendor.js';\n\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nexport default function lineAnimationDiff(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // let newIdList = newData.mapArray(newData.getId);\n  // let oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin); // const oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  var oldPoints = oldData.getLayout('points') || [];\n  var newPoints = newData.getLayout('points') || [];\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true;\n    var oldIdx2 = void 0;\n    var newIdx2 = void 0; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        oldIdx2 = diffItem.idx * 2;\n        newIdx2 = diffItem.idx1 * 2;\n        var currentX = oldPoints[oldIdx2];\n        var currentY = oldPoints[oldIdx2 + 1];\n        var nextX = newPoints[newIdx2];\n        var nextY = newPoints[newIdx2 + 1]; // If previous data is NaN, use next point directly\n\n        if (isNaN(currentX) || isNaN(currentY)) {\n          currentX = nextX;\n          currentY = nextY;\n        }\n\n        currPoints.push(currentX, currentY);\n        nextPoints.push(nextX, nextY);\n        currStackedPoints.push(oldStackedOnPoints[oldIdx2], oldStackedOnPoints[oldIdx2 + 1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var newIdx = diffItem.idx;\n        var newDataDimsForPoint = newDataOldCoordInfo.dataDimsForPoint;\n        var oldPt = oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0], newIdx), newData.get(newDataDimsForPoint[1], newIdx)]);\n        newIdx2 = newIdx * 2;\n        currPoints.push(oldPt[0], oldPt[1]);\n        nextPoints.push(newPoints[newIdx2], newPoints[newIdx2 + 1]);\n        var stackedOnPoint = getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, newIdx);\n        currStackedPoints.push(stackedOnPoint[0], stackedOnPoint[1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(newIdx));\n        break;\n\n      case '-':\n        pointAdded = false;\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var len = currPoints.length;\n  var sortedCurrPoints = createFloat32Array(len);\n  var sortedNextPoints = createFloat32Array(len);\n  var sortedCurrStackedPoints = createFloat32Array(len);\n  var sortedNextStackedPoints = createFloat32Array(len);\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    var i2 = i * 2;\n    var idx2 = idx * 2;\n    sortedCurrPoints[i2] = currPoints[idx2];\n    sortedCurrPoints[i2 + 1] = currPoints[idx2 + 1];\n    sortedNextPoints[i2] = nextPoints[idx2];\n    sortedNextPoints[i2 + 1] = nextPoints[idx2 + 1];\n    sortedCurrStackedPoints[i2] = currStackedPoints[idx2];\n    sortedCurrStackedPoints[i2 + 1] = currStackedPoints[idx2 + 1];\n    sortedNextStackedPoints[i2] = nextStackedPoints[idx2];\n    sortedNextStackedPoints[i2 + 1] = nextStackedPoints[idx2 + 1];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LineSeries from './LineSeries.js';\nimport LineView from './LineView.js'; // In case developer forget to include grid component\n\nimport layoutPoints from '../../layout/points.js';\nimport dataSample from '../../processor/dataSample.js';\nexport function install(registers) {\n  registers.registerChartView(LineView);\n  registers.registerSeriesModel(LineSeries);\n  registers.registerLayout(layoutPoints('line', true));\n  registers.registerVisual({\n    seriesType: 'line',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData(); // Visual coding for legend\n\n      var lineStyle = seriesModel.getModel('lineStyle').getLineStyle();\n\n      if (lineStyle && !lineStyle.stroke) {\n        // Fill in visual should be palette color if\n        // has color callback\n        lineStyle.stroke = data.getVisual('style').fill;\n      }\n\n      data.setVisual('legendLineStyle', lineStyle);\n    }\n  }); // Down sample after filter\n\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map } from 'zrender/lib/core/util.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport { createFloat32Array } from '../util/vendor.js';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0])) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1])) {\n        dims[1] = stackResultDim;\n      }\n\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;","import { cubicSubdivide } from '../core/curve.js';\nimport PathProxy from '../core/PathProxy.js';\nvar CMD = PathProxy.CMD;\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArrayGroups = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArrayGroups.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArrayGroups.push(currentSubpath);\n    }\n    return bezierArrayGroups;\n}\nfunction adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, out, scale) {\n    if (aroundEqual(x0, x1) && aroundEqual(y0, y1) && aroundEqual(x2, x3) && aroundEqual(y2, y3)) {\n        out.push(x3, y3);\n        return;\n    }\n    var PIXEL_DISTANCE = 2 / scale;\n    var PIXEL_DISTANCE_SQR = PIXEL_DISTANCE * PIXEL_DISTANCE;\n    var dx = x3 - x0;\n    var dy = y3 - y0;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    dx /= d;\n    dy /= d;\n    var dx1 = x1 - x0;\n    var dy1 = y1 - y0;\n    var dx2 = x2 - x3;\n    var dy2 = y2 - y3;\n    var cp1LenSqr = dx1 * dx1 + dy1 * dy1;\n    var cp2LenSqr = dx2 * dx2 + dy2 * dy2;\n    if (cp1LenSqr < PIXEL_DISTANCE_SQR && cp2LenSqr < PIXEL_DISTANCE_SQR) {\n        out.push(x3, y3);\n        return;\n    }\n    var projLen1 = dx * dx1 + dy * dy1;\n    var projLen2 = -dx * dx2 - dy * dy2;\n    var d1Sqr = cp1LenSqr - projLen1 * projLen1;\n    var d2Sqr = cp2LenSqr - projLen2 * projLen2;\n    if (d1Sqr < PIXEL_DISTANCE_SQR && projLen1 >= 0\n        && d2Sqr < PIXEL_DISTANCE_SQR && projLen2 >= 0) {\n        out.push(x3, y3);\n        return;\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    cubicSubdivide(x0, x1, x2, x3, 0.5, tmpSegX);\n    cubicSubdivide(y0, y1, y2, y3, 0.5, tmpSegY);\n    adpativeBezier(tmpSegX[0], tmpSegY[0], tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], tmpSegX[3], tmpSegY[3], out, scale);\n    adpativeBezier(tmpSegX[4], tmpSegY[4], tmpSegX[5], tmpSegY[5], tmpSegX[6], tmpSegY[6], tmpSegX[7], tmpSegY[7], out, scale);\n}\nexport function pathToPolygons(path, scale) {\n    var bezierArrayGroups = pathToBezierCurves(path);\n    var polygons = [];\n    scale = scale || 1;\n    for (var i = 0; i < bezierArrayGroups.length; i++) {\n        var beziers = bezierArrayGroups[i];\n        var polygon = [];\n        var x0 = beziers[0];\n        var y0 = beziers[1];\n        polygon.push(x0, y0);\n        for (var k = 2; k < beziers.length;) {\n            var x1 = beziers[k++];\n            var y1 = beziers[k++];\n            var x2 = beziers[k++];\n            var y2 = beziers[k++];\n            var x3 = beziers[k++];\n            var y3 = beziers[k++];\n            adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, polygon, scale);\n            x0 = x3;\n            y0 = y3;\n        }\n        polygons.push(polygon);\n    }\n    return polygons;\n}\n","import { fromPoints } from '../core/bbox.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Point from '../core/Point.js';\nimport { map } from '../core/util.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Sector from '../graphic/shape/Sector.js';\nimport { pathToPolygons } from './convertPath.js';\nimport { clonePath } from './path.js';\nfunction getDividingGrids(dimSize, rowDim, count) {\n    var rowSize = dimSize[rowDim];\n    var columnSize = dimSize[1 - rowDim];\n    var ratio = Math.abs(rowSize / columnSize);\n    var rowCount = Math.ceil(Math.sqrt(ratio * count));\n    var columnCount = Math.floor(count / rowCount);\n    if (columnCount === 0) {\n        columnCount = 1;\n        rowCount = count;\n    }\n    var grids = [];\n    for (var i = 0; i < rowCount; i++) {\n        grids.push(columnCount);\n    }\n    var currentCount = rowCount * columnCount;\n    var remained = count - currentCount;\n    if (remained > 0) {\n        for (var i = 0; i < remained; i++) {\n            grids[i % rowCount] += 1;\n        }\n    }\n    return grids;\n}\nfunction divideSector(sectorShape, count, outShapes) {\n    var r0 = sectorShape.r0;\n    var r = sectorShape.r;\n    var startAngle = sectorShape.startAngle;\n    var endAngle = sectorShape.endAngle;\n    var angle = Math.abs(endAngle - startAngle);\n    var arcLen = angle * r;\n    var deltaR = r - r0;\n    var isAngleRow = arcLen > Math.abs(deltaR);\n    var grids = getDividingGrids([arcLen, deltaR], isAngleRow ? 0 : 1, count);\n    var rowSize = (isAngleRow ? angle : deltaR) / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = (isAngleRow ? deltaR : angle) / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            if (isAngleRow) {\n                newShape.startAngle = startAngle + rowSize * row;\n                newShape.endAngle = startAngle + rowSize * (row + 1);\n                newShape.r0 = r0 + columnSize * column;\n                newShape.r = r0 + columnSize * (column + 1);\n            }\n            else {\n                newShape.startAngle = startAngle + columnSize * column;\n                newShape.endAngle = startAngle + columnSize * (column + 1);\n                newShape.r0 = r0 + rowSize * row;\n                newShape.r = r0 + rowSize * (row + 1);\n            }\n            newShape.clockwise = sectorShape.clockwise;\n            newShape.cx = sectorShape.cx;\n            newShape.cy = sectorShape.cy;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction divideRect(rectShape, count, outShapes) {\n    var width = rectShape.width;\n    var height = rectShape.height;\n    var isHorizontalRow = width > height;\n    var grids = getDividingGrids([width, height], isHorizontalRow ? 0 : 1, count);\n    var rowSizeDim = isHorizontalRow ? 'width' : 'height';\n    var columnSizeDim = isHorizontalRow ? 'height' : 'width';\n    var rowDim = isHorizontalRow ? 'x' : 'y';\n    var columnDim = isHorizontalRow ? 'y' : 'x';\n    var rowSize = rectShape[rowSizeDim] / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = rectShape[columnSizeDim] / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            newShape[rowDim] = row * rowSize;\n            newShape[columnDim] = column * columnSize;\n            newShape[rowSizeDim] = rowSize;\n            newShape[columnSizeDim] = columnSize;\n            newShape.x += rectShape.x;\n            newShape.y += rectShape.y;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n}\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y;\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n    if (Math.abs(nmCrossProduct) < 1e-6) {\n        return null;\n    }\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n    if (p < 0 || p > 1) {\n        return null;\n    }\n    return new Point(p * mx + a1x, p * my + a1y);\n}\nfunction projPtOnLine(pt, lineA, lineB) {\n    var dir = new Point();\n    Point.sub(dir, lineB, lineA);\n    dir.normalize();\n    var dir2 = new Point();\n    Point.sub(dir2, pt, lineA);\n    var len = dir2.dot(dir);\n    return len;\n}\nfunction addToPoly(poly, pt) {\n    var last = poly[poly.length - 1];\n    if (last && last[0] === pt[0] && last[1] === pt[1]) {\n        return;\n    }\n    poly.push(pt);\n}\nfunction splitPolygonByLine(points, lineA, lineB) {\n    var len = points.length;\n    var intersections = [];\n    for (var i = 0; i < len; i++) {\n        var p0 = points[i];\n        var p1 = points[(i + 1) % len];\n        var intersectionPt = lineLineIntersect(p0[0], p0[1], p1[0], p1[1], lineA.x, lineA.y, lineB.x, lineB.y);\n        if (intersectionPt) {\n            intersections.push({\n                projPt: projPtOnLine(intersectionPt, lineA, lineB),\n                pt: intersectionPt,\n                idx: i\n            });\n        }\n    }\n    if (intersections.length < 2) {\n        return [{ points: points }, { points: points }];\n    }\n    intersections.sort(function (a, b) {\n        return a.projPt - b.projPt;\n    });\n    var splitPt0 = intersections[0];\n    var splitPt1 = intersections[intersections.length - 1];\n    if (splitPt1.idx < splitPt0.idx) {\n        var tmp = splitPt0;\n        splitPt0 = splitPt1;\n        splitPt1 = tmp;\n    }\n    var splitPt0Arr = [splitPt0.pt.x, splitPt0.pt.y];\n    var splitPt1Arr = [splitPt1.pt.x, splitPt1.pt.y];\n    var newPolyA = [splitPt0Arr];\n    var newPolyB = [splitPt1Arr];\n    for (var i = splitPt0.idx + 1; i <= splitPt1.idx; i++) {\n        addToPoly(newPolyA, points[i].slice());\n    }\n    addToPoly(newPolyA, splitPt1Arr);\n    addToPoly(newPolyA, splitPt0Arr);\n    for (var i = splitPt1.idx + 1; i <= splitPt0.idx + len; i++) {\n        addToPoly(newPolyB, points[i % len].slice());\n    }\n    addToPoly(newPolyB, splitPt0Arr);\n    addToPoly(newPolyB, splitPt1Arr);\n    return [{\n            points: newPolyA\n        }, {\n            points: newPolyB\n        }];\n}\nfunction binaryDividePolygon(polygonShape) {\n    var points = polygonShape.points;\n    var min = [];\n    var max = [];\n    fromPoints(points, min, max);\n    var boundingRect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    var width = boundingRect.width;\n    var height = boundingRect.height;\n    var x = boundingRect.x;\n    var y = boundingRect.y;\n    var pt0 = new Point();\n    var pt1 = new Point();\n    if (width > height) {\n        pt0.x = pt1.x = x + width / 2;\n        pt0.y = y;\n        pt1.y = y + height;\n    }\n    else {\n        pt0.y = pt1.y = y + height / 2;\n        pt0.x = x;\n        pt1.x = x + width;\n    }\n    return splitPolygonByLine(points, pt0, pt1);\n}\nfunction binaryDivideRecursive(divider, shape, count, out) {\n    if (count === 1) {\n        out.push(shape);\n    }\n    else {\n        var mid = Math.floor(count / 2);\n        var sub = divider(shape);\n        binaryDivideRecursive(divider, sub[0], mid, out);\n        binaryDivideRecursive(divider, sub[1], count - mid, out);\n    }\n    return out;\n}\nexport function clone(path, count) {\n    var paths = [];\n    for (var i = 0; i < count; i++) {\n        paths.push(clonePath(path));\n    }\n    return paths;\n}\nfunction copyPathProps(source, target) {\n    target.setStyle(source.style);\n    target.z = source.z;\n    target.z2 = source.z2;\n    target.zlevel = source.zlevel;\n}\nfunction polygonConvert(points) {\n    var out = [];\n    for (var i = 0; i < points.length;) {\n        out.push([points[i++], points[i++]]);\n    }\n    return out;\n}\nexport function split(path, count) {\n    var outShapes = [];\n    var shape = path.shape;\n    var OutShapeCtor;\n    switch (path.type) {\n        case 'rect':\n            divideRect(shape, count, outShapes);\n            OutShapeCtor = Rect;\n            break;\n        case 'sector':\n            divideSector(shape, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        case 'circle':\n            divideSector({\n                r0: 0, r: shape.r, startAngle: 0, endAngle: Math.PI * 2,\n                cx: shape.cx, cy: shape.cy\n            }, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        default:\n            var m = path.getComputedTransform();\n            var scale = m ? Math.sqrt(Math.max(m[0] * m[0] + m[1] * m[1], m[2] * m[2] + m[3] * m[3])) : 1;\n            var polygons = map(pathToPolygons(path.getUpdatedPathProxy(), scale), function (poly) { return polygonConvert(poly); });\n            var polygonCount = polygons.length;\n            if (polygonCount === 0) {\n                binaryDivideRecursive(binaryDividePolygon, {\n                    points: polygons[0]\n                }, count, outShapes);\n            }\n            else if (polygonCount === count) {\n                for (var i = 0; i < polygonCount; i++) {\n                    outShapes.push({\n                        points: polygons[i]\n                    });\n                }\n            }\n            else {\n                var totalArea_1 = 0;\n                var items = map(polygons, function (poly) {\n                    var min = [];\n                    var max = [];\n                    fromPoints(poly, min, max);\n                    var area = (max[1] - min[1]) * (max[0] - min[0]);\n                    totalArea_1 += area;\n                    return { poly: poly, area: area };\n                });\n                items.sort(function (a, b) { return b.area - a.area; });\n                var left = count;\n                for (var i = 0; i < polygonCount; i++) {\n                    var item = items[i];\n                    if (left <= 0) {\n                        break;\n                    }\n                    var selfCount = i === polygonCount - 1\n                        ? left\n                        : Math.ceil(item.area / totalArea_1 * count);\n                    if (selfCount < 0) {\n                        continue;\n                    }\n                    binaryDivideRecursive(binaryDividePolygon, {\n                        points: item.poly\n                    }, selfCount, outShapes);\n                    left -= selfCount;\n                }\n                ;\n            }\n            OutShapeCtor = Polygon;\n            break;\n    }\n    if (!OutShapeCtor) {\n        return clone(path, count);\n    }\n    var out = [];\n    for (var i = 0; i < outShapes.length; i++) {\n        var subPath = new OutShapeCtor();\n        subPath.setShape(outShapes[i]);\n        copyPathProps(path, subPath);\n        out.push(subPath);\n    }\n    return out;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport Path from '../graphic/Path.js';\nimport { defaults, map } from '../core/util.js';\nimport { lerp } from '../core/vector.js';\nimport { clonePath } from './path.js';\nimport Transformable from '../core/Transformable.js';\nimport { split } from './dividePath.js';\nimport { pathToBezierCurves } from './convertPath.js';\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr[k] = newX1;\n                    tmpArr[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr.length; m++) {\n                        newToSubpathBezier[m] = tmpArr[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function isCombineMorphing(path) {\n    return path.__isCombineMorphing;\n}\nexport function isMorphing(el) {\n    return el.__morphT >= 0;\n}\nvar SAVED_METHOD_PREFIX = '__mOriginal_';\nfunction saveAndModifyMethod(obj, methodName, modifiers) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    var originalMethod = obj[savedMethodName] || obj[methodName];\n    if (!obj[savedMethodName]) {\n        obj[savedMethodName] = obj[methodName];\n    }\n    var replace = modifiers.replace;\n    var after = modifiers.after;\n    var before = modifiers.before;\n    obj[methodName] = function () {\n        var args = arguments;\n        var res;\n        before && before.apply(this, args);\n        if (replace) {\n            res = replace.apply(this, args);\n        }\n        else {\n            res = originalMethod.apply(this, args);\n        }\n        after && after.apply(this, args);\n        return res;\n    };\n}\nfunction restoreMethod(obj, methodName) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    if (obj[savedMethodName]) {\n        obj[methodName] = obj[savedMethodName];\n        obj[savedMethodName] = null;\n    }\n}\nfunction applyTransformOnBeziers(bezierCurves, mm) {\n    for (var i = 0; i < bezierCurves.length; i++) {\n        var subBeziers = bezierCurves[i];\n        for (var k = 0; k < subBeziers.length;) {\n            var x = subBeziers[k];\n            var y = subBeziers[k + 1];\n            subBeziers[k++] = mm[0] * x + mm[2] * y + mm[4];\n            subBeziers[k++] = mm[1] * x + mm[3] * y + mm[5];\n        }\n    }\n}\nfunction prepareMorphPath(fromPath, toPath) {\n    var fromPathProxy = fromPath.getUpdatedPathProxy();\n    var toPathProxy = toPath.getUpdatedPathProxy();\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var fromPathTransform = fromPath.getComputedTransform();\n    var toPathTransform = toPath.getComputedTransform();\n    function updateIdentityTransform() {\n        this.transform = null;\n    }\n    fromPathTransform && applyTransformOnBeziers(fromBezierCurves, fromPathTransform);\n    toPathTransform && applyTransformOnBeziers(toBezierCurves, toPathTransform);\n    saveAndModifyMethod(toPath, 'updateTransform', { replace: updateIdentityTransform });\n    toPath.transform = null;\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    var tmpArr = [];\n    saveAndModifyMethod(toPath, 'buildPath', { replace: function (path) {\n            var t = toPath.__morphT;\n            var onet = 1 - t;\n            var newCp = [];\n            for (var i = 0; i < morphingData.length; i++) {\n                var item = morphingData[i];\n                var from = item.from;\n                var to = item.to;\n                var angle = item.rotation * t;\n                var fromCp = item.fromCp;\n                var toCp = item.toCp;\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                lerp(newCp, fromCp, toCp, t);\n                for (var m = 0; m < from.length; m += 2) {\n                    var x0_1 = from[m];\n                    var y0_1 = from[m + 1];\n                    var x1 = to[m];\n                    var y1 = to[m + 1];\n                    var x = x0_1 * onet + x1 * t;\n                    var y = y0_1 * onet + y1 * t;\n                    tmpArr[m] = (x * ca - y * sa) + newCp[0];\n                    tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n                }\n                var x0 = tmpArr[0];\n                var y0 = tmpArr[1];\n                path.moveTo(x0, y0);\n                for (var m = 2; m < from.length;) {\n                    var x1 = tmpArr[m++];\n                    var y1 = tmpArr[m++];\n                    var x2 = tmpArr[m++];\n                    var y2 = tmpArr[m++];\n                    var x3 = tmpArr[m++];\n                    var y3 = tmpArr[m++];\n                    if (x0 === x1 && y0 === y1 && x2 === x3 && y2 === y3) {\n                        path.lineTo(x3, y3);\n                    }\n                    else {\n                        path.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    }\n                    x0 = x3;\n                    y0 = y3;\n                }\n            }\n        } });\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    prepareMorphPath(fromPath, toPath);\n    toPath.__morphT = 0;\n    function restoreToPath() {\n        restoreMethod(toPath, 'buildPath');\n        restoreMethod(toPath, 'updateTransform');\n        toPath.__morphT = -1;\n        toPath.createPathProxy();\n        toPath.dirtyShape();\n    }\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreToPath();\n            oldDone && oldDone();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction hilbert(x, y, minX, minY, maxX, maxY) {\n    var bits = 16;\n    x = (maxX === minX) ? 0 : Math.round(32767 * (x - minX) / (maxX - minX));\n    y = (maxY === minY) ? 0 : Math.round(32767 * (y - minY) / (maxY - minY));\n    var d = 0;\n    var tmp;\n    for (var s = (1 << bits) / 2; s > 0; s /= 2) {\n        var rx = 0;\n        var ry = 0;\n        if ((x & s) > 0) {\n            rx = 1;\n        }\n        if ((y & s) > 0) {\n            ry = 1;\n        }\n        d += s * s * ((3 * rx) ^ ry);\n        if (ry === 0) {\n            if (rx === 1) {\n                x = s - 1 - x;\n                y = s - 1 - y;\n            }\n            tmp = x;\n            x = y;\n            y = tmp;\n        }\n    }\n    return d;\n}\nfunction sortPaths(pathList) {\n    var xMin = Infinity;\n    var yMin = Infinity;\n    var xMax = -Infinity;\n    var yMax = -Infinity;\n    var cps = map(pathList, function (path) {\n        var rect = path.getBoundingRect();\n        var m = path.getComputedTransform();\n        var x = rect.x + rect.width / 2 + (m ? m[4] : 0);\n        var y = rect.y + rect.height / 2 + (m ? m[5] : 0);\n        xMin = Math.min(x, xMin);\n        yMin = Math.min(y, yMin);\n        xMax = Math.max(x, xMax);\n        yMax = Math.max(y, yMax);\n        return [x, y];\n    });\n    var items = map(cps, function (cp, idx) {\n        return {\n            cp: cp,\n            z: hilbert(cp[0], cp[1], xMin, yMin, xMax, yMax),\n            path: pathList[idx]\n        };\n    });\n    return items.sort(function (a, b) { return a.z - b.z; }).map(function (item) { return item.path; });\n}\n;\nfunction defaultDividePath(param) {\n    return split(param.path, param.count);\n}\nfunction createEmptyReturn() {\n    return {\n        fromIndividuals: [],\n        toIndividuals: [],\n        count: 0\n    };\n}\nexport function combineMorph(fromList, toPath, animationOpts) {\n    var fromPathList = [];\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    addFromPath(fromList);\n    var separateCount = fromPathList.length;\n    if (!separateCount) {\n        return createEmptyReturn();\n    }\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    var toSubPathList = dividePath({\n        path: toPath, count: separateCount\n    });\n    if (toSubPathList.length !== separateCount) {\n        console.error('Invalid morphing: unmatched splitted path');\n        return createEmptyReturn();\n    }\n    fromPathList = sortPaths(fromPathList);\n    toSubPathList = sortPaths(toSubPathList);\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    var individualDelay = animationOpts.individualDelay;\n    var identityTransform = new Transformable();\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromPathList[i];\n        var to = toSubPathList[i];\n        to.parent = toPath;\n        to.copyTransform(identityTransform);\n        if (!individualDelay) {\n            prepareMorphPath(from, to);\n        }\n    }\n    toPath.__isCombineMorphing = true;\n    toPath.childrenRef = function () {\n        return toSubPathList;\n    };\n    function addToSubPathListToZr(zr) {\n        for (var i = 0; i < toSubPathList.length; i++) {\n            toSubPathList[i].addSelfToZr(zr);\n        }\n    }\n    saveAndModifyMethod(toPath, 'addSelfToZr', {\n        after: function (zr) {\n            addToSubPathListToZr(zr);\n        }\n    });\n    saveAndModifyMethod(toPath, 'removeSelfFromZr', {\n        after: function (zr) {\n            for (var i = 0; i < toSubPathList.length; i++) {\n                toSubPathList[i].removeSelfFromZr(zr);\n            }\n        }\n    });\n    function restoreToPath() {\n        toPath.__isCombineMorphing = false;\n        toPath.__morphT = -1;\n        toPath.childrenRef = null;\n        restoreMethod(toPath, 'addSelfToZr');\n        restoreMethod(toPath, 'removeSelfFromZr');\n    }\n    var toLen = toSubPathList.length;\n    if (individualDelay) {\n        var animating_1 = toLen;\n        var eachDone = function () {\n            animating_1--;\n            if (animating_1 === 0) {\n                restoreToPath();\n                oldDone && oldDone();\n            }\n        };\n        for (var i = 0; i < toLen; i++) {\n            var indivdualAnimationOpts = individualDelay ? defaults({\n                delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toSubPathList[i]),\n                done: eachDone\n            }, animationOpts) : animationOpts;\n            morphPath(fromPathList[i], toSubPathList[i], indivdualAnimationOpts);\n        }\n    }\n    else {\n        toPath.__morphT = 0;\n        toPath.animateTo({\n            __morphT: 1\n        }, defaults({\n            during: function (p) {\n                for (var i = 0; i < toLen; i++) {\n                    var child = toSubPathList[i];\n                    child.__morphT = toPath.__morphT;\n                    child.dirtyShape();\n                }\n                oldDuring && oldDuring(p);\n            },\n            done: function () {\n                restoreToPath();\n                for (var i = 0; i < fromList.length; i++) {\n                    restoreMethod(fromList[i], 'updateTransform');\n                }\n                oldDone && oldDone();\n            }\n        }, animationOpts));\n    }\n    if (toPath.__zr) {\n        addToSubPathListToZr(toPath.__zr);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toSubPathList,\n        count: toLen\n    };\n}\nexport function separateMorph(fromPath, toPathList, animationOpts) {\n    var toLen = toPathList.length;\n    var fromPathList = [];\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    if (isCombineMorphing(fromPath)) {\n        addFromPath(fromPath.childrenRef());\n        var fromLen = fromPathList.length;\n        if (fromLen < toLen) {\n            var k = 0;\n            for (var i = fromLen; i < toLen; i++) {\n                fromPathList.push(clonePath(fromPathList[k++ % fromLen]));\n            }\n        }\n        fromPathList.length = toLen;\n    }\n    else {\n        fromPathList = dividePath({ path: fromPath, count: toLen });\n        var fromPathTransform = fromPath.getComputedTransform();\n        for (var i = 0; i < fromPathList.length; i++) {\n            fromPathList[i].setLocalTransform(fromPathTransform);\n        }\n        if (fromPathList.length !== toLen) {\n            console.error('Invalid morphing: unmatched splitted path');\n            return createEmptyReturn();\n        }\n    }\n    fromPathList = sortPaths(fromPathList);\n    toPathList = sortPaths(toPathList);\n    var individualDelay = animationOpts.individualDelay;\n    for (var i = 0; i < toLen; i++) {\n        var indivdualAnimationOpts = individualDelay ? defaults({\n            delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toPathList[i])\n        }, animationOpts) : animationOpts;\n        morphPath(fromPathList[i], toPathList[i], indivdualAnimationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathList.length\n    };\n}\nexport { split as defaultDividePath };\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { separateMorph, combineMorph, morphPath, isCombineMorphing } from 'zrender/lib/tool/morphPath.js';\nimport { Path } from '../util/graphic.js';\nimport { defaults, isArray } from 'zrender/lib/core/util.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { clonePath } from 'zrender/lib/tool/path.js';\n\nfunction isMultiple(elements) {\n  return isArray(elements[0]);\n}\n\nfunction prepareMorphBatches(one, many) {\n  var batches = [];\n  var batchCount = one.length;\n\n  for (var i = 0; i < batchCount; i++) {\n    batches.push({\n      one: one[i],\n      many: []\n    });\n  }\n\n  for (var i = 0; i < many.length; i++) {\n    var len = many[i].length;\n    var k = void 0;\n\n    for (k = 0; k < len; k++) {\n      batches[k % batchCount].many.push(many[i][k]);\n    }\n  }\n\n  var off = 0; // If one has more paths than each one of many. average them.\n\n  for (var i = batchCount - 1; i >= 0; i--) {\n    if (!batches[i].many.length) {\n      var moveFrom = batches[off].many;\n\n      if (moveFrom.length <= 1) {\n        // Not enough\n        // Start from the first one.\n        if (off) {\n          off = 0;\n        } else {\n          return batches;\n        }\n      }\n\n      var len = moveFrom.length;\n      var mid = Math.ceil(len / 2);\n      batches[i].many = moveFrom.slice(mid, len);\n      batches[off].many = moveFrom.slice(0, mid);\n      off++;\n    }\n  }\n\n  return batches;\n}\n\nvar pathDividers = {\n  clone: function (params) {\n    var ret = []; // Fitting the alpha\n\n    var approxOpacity = 1 - Math.pow(1 - params.path.style.opacity, 1 / params.count);\n\n    for (var i = 0; i < params.count; i++) {\n      var cloned = clonePath(params.path);\n      cloned.setStyle('opacity', approxOpacity);\n      ret.push(cloned);\n    }\n\n    return ret;\n  },\n  // Use the default divider\n  split: null\n};\nexport function applyMorphAnimation(from, to, divideShape, seriesModel, dataIndex, animateOtherProps) {\n  if (!from.length || !to.length) {\n    return;\n  }\n\n  var updateAnimationCfg = getAnimationConfig('update', seriesModel, dataIndex);\n\n  if (!(updateAnimationCfg && updateAnimationCfg.duration > 0)) {\n    return;\n  }\n\n  var animationDelay = seriesModel.getModel('universalTransition').get('delay');\n  var animationCfg = Object.assign({\n    // Need to setToFinal so the further calculation based on the style can be correct.\n    // Like emphasis color.\n    setToFinal: true\n  }, updateAnimationCfg);\n  var many;\n  var one;\n\n  if (isMultiple(from)) {\n    // manyToOne\n    many = from;\n    one = to;\n  }\n\n  if (isMultiple(to)) {\n    // oneToMany\n    many = to;\n    one = from;\n  }\n\n  function morphOneBatch(batch, fromIsMany, animateIndex, animateCount, forceManyOne) {\n    var batchMany = batch.many;\n    var batchOne = batch.one;\n\n    if (batchMany.length === 1 && !forceManyOne) {\n      // Is one to one\n      var batchFrom = fromIsMany ? batchMany[0] : batchOne;\n      var batchTo = fromIsMany ? batchOne : batchMany[0];\n\n      if (isCombineMorphing(batchFrom)) {\n        // Keep doing combine animation.\n        morphOneBatch({\n          many: [batchFrom],\n          one: batchTo\n        }, true, animateIndex, animateCount, true);\n      } else {\n        var individualAnimationCfg = animationDelay ? defaults({\n          delay: animationDelay(animateIndex, animateCount)\n        }, animationCfg) : animationCfg;\n        morphPath(batchFrom, batchTo, individualAnimationCfg);\n        animateOtherProps(batchFrom, batchTo, batchFrom, batchTo, individualAnimationCfg);\n      }\n    } else {\n      var separateAnimationCfg = defaults({\n        dividePath: pathDividers[divideShape],\n        individualDelay: animationDelay && function (idx, count, fromPath, toPath) {\n          return animationDelay(idx + animateIndex, animateCount);\n        }\n      }, animationCfg);\n\n      var _a = fromIsMany ? combineMorph(batchMany, batchOne, separateAnimationCfg) : separateMorph(batchOne, batchMany, separateAnimationCfg),\n          fromIndividuals = _a.fromIndividuals,\n          toIndividuals = _a.toIndividuals;\n\n      var count = fromIndividuals.length;\n\n      for (var k = 0; k < count; k++) {\n        var individualAnimationCfg = animationDelay ? defaults({\n          delay: animationDelay(k, count)\n        }, animationCfg) : animationCfg;\n        animateOtherProps(fromIndividuals[k], toIndividuals[k], fromIsMany ? batchMany[k] : batch.one, fromIsMany ? batch.one : batchMany[k], individualAnimationCfg);\n      }\n    }\n  }\n\n  var fromIsMany = many ? many === from // Is one to one. If the path number not match. also needs do merge and separate morphing.\n  : from.length > to.length;\n  var morphBatches = many ? prepareMorphBatches(one, many) : prepareMorphBatches(fromIsMany ? to : from, [fromIsMany ? from : to]);\n  var animateCount = 0;\n\n  for (var i = 0; i < morphBatches.length; i++) {\n    animateCount += morphBatches[i].many.length;\n  }\n\n  var animateIndex = 0;\n\n  for (var i = 0; i < morphBatches.length; i++) {\n    morphOneBatch(morphBatches[i], fromIsMany, animateIndex, animateCount);\n    animateIndex += morphBatches[i].many.length;\n  }\n}\nexport function getPathList(elements) {\n  if (!elements) {\n    return [];\n  }\n\n  if (isArray(elements)) {\n    var pathList_1 = [];\n\n    for (var i = 0; i < elements.length; i++) {\n      pathList_1.push(getPathList(elements[i]));\n    }\n\n    return pathList_1;\n  }\n\n  var pathList = [];\n  elements.traverse(function (el) {\n    if (el instanceof Path && !el.disableMorphing && !el.invisible && !el.ignore) {\n      pathList.push(el);\n    }\n  });\n  return pathList;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Universal transitions that can animate between any shapes(series) and any properties in any amounts.\nimport { SERIES_UNIVERSAL_TRANSITION_PROP } from '../model/Series.js';\nimport { createHashMap, each, map, filter, isArray, extend } from 'zrender/lib/core/util.js';\nimport { applyMorphAnimation, getPathList } from './morphTransitionHelper.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { initProps } from '../util/graphic.js';\nimport DataDiffer from '../data/DataDiffer.js';\nimport { makeInner, normalizeToArray } from '../util/model.js';\nimport { warn } from '../util/log.js';\nimport { getAnimationConfig, getOldStyle } from './basicTransition.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nvar DATA_COUNT_THRESHOLD = 1e4;\n;\nvar getUniversalTransitionGlobalStore = makeInner();\n\nfunction getGroupIdDimension(data) {\n  var dimensions = data.dimensions;\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimInfo = data.getDimensionInfo(dimensions[i]);\n\n    if (dimInfo && dimInfo.otherDims.itemGroupId === 0) {\n      return dimensions[i];\n    }\n  }\n}\n\nfunction flattenDataDiffItems(list) {\n  var items = [];\n  each(list, function (seriesInfo) {\n    var data = seriesInfo.data;\n\n    if (data.count() > DATA_COUNT_THRESHOLD) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('Universal transition is disabled on large data > 10k.');\n      }\n\n      return;\n    }\n\n    var indices = data.getIndices();\n    var groupDim = getGroupIdDimension(data);\n\n    for (var dataIndex = 0; dataIndex < indices.length; dataIndex++) {\n      items.push({\n        data: data,\n        dim: seriesInfo.dim || groupDim,\n        divide: seriesInfo.divide,\n        dataIndex: dataIndex\n      });\n    }\n  });\n  return items;\n}\n\nfunction fadeInElement(newEl, newSeries, newIndex) {\n  newEl.traverse(function (el) {\n    if (el instanceof Path) {\n      // TODO use fade in animation for target element.\n      initProps(el, {\n        style: {\n          opacity: 0\n        }\n      }, newSeries, {\n        dataIndex: newIndex,\n        isFrom: true\n      });\n    }\n  });\n}\n\nfunction removeEl(el) {\n  if (el.parent) {\n    // Bake parent transform to element.\n    // So it can still have proper transform to transition after it's removed.\n    var computedTransform = el.getComputedTransform();\n    el.setLocalTransform(computedTransform);\n    el.parent.remove(el);\n  }\n}\n\nfunction stopAnimation(el) {\n  el.stopAnimation();\n\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.stopAnimation();\n    });\n  }\n}\n\nfunction animateElementStyles(el, dataIndex, seriesModel) {\n  var animationConfig = getAnimationConfig('update', seriesModel, dataIndex);\n  animationConfig && el.traverse(function (child) {\n    if (child instanceof Displayable) {\n      var oldStyle = getOldStyle(child);\n\n      if (oldStyle) {\n        child.animateFrom({\n          style: oldStyle\n        }, animationConfig);\n      }\n    }\n  });\n}\n\nfunction isAllIdSame(oldDiffItems, newDiffItems) {\n  var len = oldDiffItems.length;\n\n  if (len !== newDiffItems.length) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    var oldItem = oldDiffItems[i];\n    var newItem = newDiffItems[i];\n\n    if (oldItem.data.getId(oldItem.dataIndex) !== newItem.data.getId(newItem.dataIndex)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction transitionBetween(oldList, newList, api) {\n  var oldDiffItems = flattenDataDiffItems(oldList);\n  var newDiffItems = flattenDataDiffItems(newList);\n\n  function updateMorphingPathProps(from, to, rawFrom, rawTo, animationCfg) {\n    if (rawFrom || from) {\n      to.animateFrom({\n        style: rawFrom && rawFrom !== from ? // dividingMethod like clone may override the style(opacity)\n        // So extend it to raw style.\n        extend(extend({}, rawFrom.style), from.style) : from.style\n      }, animationCfg);\n    }\n  }\n\n  function findKeyDim(items) {\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].dim) {\n        return items[i].dim;\n      }\n    }\n  }\n\n  var oldKeyDim = findKeyDim(oldDiffItems);\n  var newKeyDim = findKeyDim(newDiffItems);\n  var hasMorphAnimation = false;\n\n  function createKeyGetter(isOld, onlyGetId) {\n    return function (diffItem) {\n      var data = diffItem.data;\n      var dataIndex = diffItem.dataIndex; // TODO if specified dim\n\n      if (onlyGetId) {\n        return data.getId(dataIndex);\n      } // Use group id as transition key by default.\n      // So we can achieve multiple to multiple animation like drilldown / up naturally.\n      // If group id not exits. Use id instead. If so, only one to one transition will be applied.\n\n\n      var dataGroupId = data.hostModel && data.hostModel.get('dataGroupId'); // If specified key dimension(itemGroupId by default). Use this same dimension from other data.\n      // PENDING: If only use key dimension of newData.\n\n      var keyDim = isOld ? oldKeyDim || newKeyDim : newKeyDim || oldKeyDim;\n      var dimInfo = keyDim && data.getDimensionInfo(keyDim);\n      var dimOrdinalMeta = dimInfo && dimInfo.ordinalMeta;\n\n      if (dimInfo) {\n        // Get from encode.itemGroupId.\n        var key = data.get(dimInfo.name, dataIndex);\n\n        if (dimOrdinalMeta) {\n          return dimOrdinalMeta.categories[key] || key + '';\n        }\n\n        return key + '';\n      } // Get groupId from raw item. { groupId: '' }\n\n\n      var itemVal = data.getRawDataItem(dataIndex);\n\n      if (itemVal && itemVal.groupId) {\n        return itemVal.groupId + '';\n      }\n\n      return dataGroupId || data.getId(dataIndex);\n    };\n  } // Use id if it's very likely to be an one to one animation\n  // It's more robust than groupId\n  // TODO Check if key dimension is specified.\n\n\n  var useId = isAllIdSame(oldDiffItems, newDiffItems);\n  var isElementStillInChart = {};\n\n  if (!useId) {\n    // We may have different diff strategy with basicTransition if we use other dimension as key.\n    // If so, we can't simply check if oldEl is same with newEl. We need a map to check if oldEl is still being used in the new chart.\n    // We can't use the elements that already being morphed. Let it keep it's original basic transition.\n    for (var i = 0; i < newDiffItems.length; i++) {\n      var newItem = newDiffItems[i];\n      var el = newItem.data.getItemGraphicEl(newItem.dataIndex);\n\n      if (el) {\n        isElementStillInChart[el.id] = true;\n      }\n    }\n  }\n\n  function updateOneToOne(newIndex, oldIndex) {\n    var oldItem = oldDiffItems[oldIndex];\n    var newItem = newDiffItems[newIndex];\n    var newSeries = newItem.data.hostModel; // TODO Mark this elements is morphed and don't morph them anymore\n\n    var oldEl = oldItem.data.getItemGraphicEl(oldItem.dataIndex);\n    var newEl = newItem.data.getItemGraphicEl(newItem.dataIndex); // Can't handle same elements.\n\n    if (oldEl === newEl) {\n      newEl && animateElementStyles(newEl, newItem.dataIndex, newSeries);\n      return;\n    }\n\n    if ( // We can't use the elements that already being morphed\n    oldEl && isElementStillInChart[oldEl.id]) {\n      return;\n    }\n\n    if (newEl) {\n      // TODO: If keep animating the group in case\n      // some of the elements don't want to be morphed.\n      // TODO Label?\n      stopAnimation(newEl);\n\n      if (oldEl) {\n        stopAnimation(oldEl); // If old element is doing leaving animation. stop it and remove it immediately.\n\n        removeEl(oldEl);\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldEl), getPathList(newEl), newItem.divide, newSeries, newIndex, updateMorphingPathProps);\n      } else {\n        fadeInElement(newEl, newSeries, newIndex);\n      }\n    } // else keep oldEl leaving animation.\n\n  }\n\n  new DataDiffer(oldDiffItems, newDiffItems, createKeyGetter(true, useId), createKeyGetter(false, useId), null, 'multiple').update(updateOneToOne).updateManyToOne(function (newIndex, oldIndices) {\n    var newItem = newDiffItems[newIndex];\n    var newData = newItem.data;\n    var newSeries = newData.hostModel;\n    var newEl = newData.getItemGraphicEl(newItem.dataIndex);\n    var oldElsList = filter(map(oldIndices, function (idx) {\n      return oldDiffItems[idx].data.getItemGraphicEl(oldDiffItems[idx].dataIndex);\n    }), function (oldEl) {\n      return oldEl && oldEl !== newEl && !isElementStillInChart[oldEl.id];\n    });\n\n    if (newEl) {\n      stopAnimation(newEl);\n\n      if (oldElsList.length) {\n        // If old element is doing leaving animation. stop it and remove it immediately.\n        each(oldElsList, function (oldEl) {\n          stopAnimation(oldEl);\n          removeEl(oldEl);\n        });\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldElsList), getPathList(newEl), newItem.divide, newSeries, newIndex, updateMorphingPathProps);\n      } else {\n        fadeInElement(newEl, newSeries, newItem.dataIndex);\n      }\n    } // else keep oldEl leaving animation.\n\n  }).updateOneToMany(function (newIndices, oldIndex) {\n    var oldItem = oldDiffItems[oldIndex];\n    var oldEl = oldItem.data.getItemGraphicEl(oldItem.dataIndex); // We can't use the elements that already being morphed\n\n    if (oldEl && isElementStillInChart[oldEl.id]) {\n      return;\n    }\n\n    var newElsList = filter(map(newIndices, function (idx) {\n      return newDiffItems[idx].data.getItemGraphicEl(newDiffItems[idx].dataIndex);\n    }), function (el) {\n      return el && el !== oldEl;\n    });\n    var newSeris = newDiffItems[newIndices[0]].data.hostModel;\n\n    if (newElsList.length) {\n      each(newElsList, function (newEl) {\n        return stopAnimation(newEl);\n      });\n\n      if (oldEl) {\n        stopAnimation(oldEl); // If old element is doing leaving animation. stop it and remove it immediately.\n\n        removeEl(oldEl);\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldEl), getPathList(newElsList), oldItem.divide, // Use divide on old.\n        newSeris, newIndices[0], updateMorphingPathProps);\n      } else {\n        each(newElsList, function (newEl) {\n          return fadeInElement(newEl, newSeris, newIndices[0]);\n        });\n      }\n    } // else keep oldEl leaving animation.\n\n  }).updateManyToMany(function (newIndices, oldIndices) {\n    // If two data are same and both have groupId.\n    // Normally they should be diff by id.\n    new DataDiffer(oldIndices, newIndices, function (rawIdx) {\n      return oldDiffItems[rawIdx].data.getId(oldDiffItems[rawIdx].dataIndex);\n    }, function (rawIdx) {\n      return newDiffItems[rawIdx].data.getId(newDiffItems[rawIdx].dataIndex);\n    }).update(function (newIndex, oldIndex) {\n      // Use the original index\n      updateOneToOne(newIndices[newIndex], oldIndices[oldIndex]);\n    }).execute();\n  }).execute();\n\n  if (hasMorphAnimation) {\n    each(newList, function (_a) {\n      var data = _a.data;\n      var seriesModel = data.hostModel;\n      var view = seriesModel && api.getViewOfSeriesModel(seriesModel);\n      var animationCfg = getAnimationConfig('update', seriesModel, 0); // use 0 index.\n\n      if (view && seriesModel.isAnimationEnabled() && animationCfg && animationCfg.duration > 0) {\n        view.group.traverse(function (el) {\n          if (el instanceof Path && !el.animators.length) {\n            // We can't accept there still exists element that has no animation\n            // if universalTransition is enabled\n            el.animateFrom({\n              style: {\n                opacity: 0\n              }\n            }, animationCfg);\n          }\n        });\n      }\n    });\n  }\n}\n\nfunction getSeriesTransitionKey(series) {\n  var seriesKey = series.getModel('universalTransition').get('seriesKey');\n\n  if (!seriesKey) {\n    // Use series id by default.\n    return series.id;\n  }\n\n  return seriesKey;\n}\n\nfunction convertArraySeriesKeyToString(seriesKey) {\n  if (isArray(seriesKey)) {\n    // Order independent.\n    return seriesKey.sort().join(',');\n  }\n\n  return seriesKey;\n}\n\nfunction getDivideShapeFromData(data) {\n  if (data.hostModel) {\n    return data.hostModel.getModel('universalTransition').get('divideShape');\n  }\n}\n\nfunction findTransitionSeriesBatches(globalStore, params) {\n  var updateBatches = createHashMap();\n  var oldDataMap = createHashMap(); // Map that only store key in array seriesKey.\n  // Which is used to query the old data when transition from one to multiple series.\n\n  var oldDataMapForSplit = createHashMap();\n  each(globalStore.oldSeries, function (series, idx) {\n    var oldData = globalStore.oldData[idx];\n    var transitionKey = getSeriesTransitionKey(series);\n    var transitionKeyStr = convertArraySeriesKeyToString(transitionKey);\n    oldDataMap.set(transitionKeyStr, oldData);\n\n    if (isArray(transitionKey)) {\n      // Same key can't in different array seriesKey.\n      each(transitionKey, function (key) {\n        oldDataMapForSplit.set(key, {\n          data: oldData,\n          key: transitionKeyStr\n        });\n      });\n    }\n  });\n\n  function checkTransitionSeriesKeyDuplicated(transitionKeyStr) {\n    if (updateBatches.get(transitionKeyStr)) {\n      warn(\"Duplicated seriesKey in universalTransition \" + transitionKeyStr);\n    }\n  }\n\n  each(params.updatedSeries, function (series) {\n    if (series.isUniversalTransitionEnabled() && series.isAnimationEnabled()) {\n      var newData = series.getData();\n      var transitionKey = getSeriesTransitionKey(series);\n      var transitionKeyStr = convertArraySeriesKeyToString(transitionKey); // Only transition between series with same id.\n\n      var oldData = oldDataMap.get(transitionKeyStr); // string transition key is the best match.\n\n      if (oldData) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkTransitionSeriesKeyDuplicated(transitionKeyStr);\n        } // TODO check if data is same?\n\n\n        updateBatches.set(transitionKeyStr, {\n          oldSeries: [{\n            divide: getDivideShapeFromData(oldData),\n            data: oldData\n          }],\n          newSeries: [{\n            divide: getDivideShapeFromData(newData),\n            data: newData\n          }]\n        });\n      } else {\n        // Transition from multiple series.\n        if (isArray(transitionKey)) {\n          if (process.env.NODE_ENV !== 'production') {\n            checkTransitionSeriesKeyDuplicated(transitionKeyStr);\n          }\n\n          var oldSeries_1 = [];\n          each(transitionKey, function (key) {\n            var oldData = oldDataMap.get(key);\n\n            if (oldData) {\n              oldSeries_1.push({\n                divide: getDivideShapeFromData(oldData),\n                data: oldData\n              });\n            }\n          });\n\n          if (oldSeries_1.length) {\n            updateBatches.set(transitionKeyStr, {\n              oldSeries: oldSeries_1,\n              newSeries: [{\n                data: newData,\n                divide: getDivideShapeFromData(newData)\n              }]\n            });\n          }\n        } else {\n          // Try transition to multiple series.\n          var oldData_1 = oldDataMapForSplit.get(transitionKey);\n\n          if (oldData_1) {\n            var batch = updateBatches.get(oldData_1.key);\n\n            if (!batch) {\n              batch = {\n                oldSeries: [{\n                  data: oldData_1.data,\n                  divide: getDivideShapeFromData(oldData_1.data)\n                }],\n                newSeries: []\n              };\n              updateBatches.set(oldData_1.key, batch);\n            }\n\n            batch.newSeries.push({\n              data: newData,\n              divide: getDivideShapeFromData(newData)\n            });\n          }\n        }\n      }\n    }\n  });\n  return updateBatches;\n}\n\nfunction querySeries(series, finder) {\n  for (var i = 0; i < series.length; i++) {\n    var found = finder.seriesIndex != null && finder.seriesIndex === series[i].seriesIndex || finder.seriesId != null && finder.seriesId === series[i].id;\n\n    if (found) {\n      return i;\n    }\n  }\n}\n\nfunction transitionSeriesFromOpt(transitionOpt, globalStore, params, api) {\n  var from = [];\n  var to = [];\n  each(normalizeToArray(transitionOpt.from), function (finder) {\n    var idx = querySeries(globalStore.oldSeries, finder);\n\n    if (idx >= 0) {\n      from.push({\n        data: globalStore.oldData[idx],\n        // TODO can specify divideShape in transition.\n        divide: getDivideShapeFromData(globalStore.oldData[idx]),\n        dim: finder.dimension\n      });\n    }\n  });\n  each(normalizeToArray(transitionOpt.to), function (finder) {\n    var idx = querySeries(params.updatedSeries, finder);\n\n    if (idx >= 0) {\n      var data = params.updatedSeries[idx].getData();\n      to.push({\n        data: data,\n        divide: getDivideShapeFromData(data),\n        dim: finder.dimension\n      });\n    }\n  });\n\n  if (from.length > 0 && to.length > 0) {\n    transitionBetween(from, to, api);\n  }\n}\n\nexport function installUniversalTransition(registers) {\n  registers.registerUpdateLifecycle('series:beforeupdate', function (ecMOdel, api, params) {\n    each(normalizeToArray(params.seriesTransition), function (transOpt) {\n      each(normalizeToArray(transOpt.to), function (finder) {\n        var series = params.updatedSeries;\n\n        for (var i = 0; i < series.length; i++) {\n          if (finder.seriesIndex != null && finder.seriesIndex === series[i].seriesIndex || finder.seriesId != null && finder.seriesId === series[i].id) {\n            series[i][SERIES_UNIVERSAL_TRANSITION_PROP] = true;\n          }\n        }\n      });\n    });\n  });\n  registers.registerUpdateLifecycle('series:transition', function (ecModel, api, params) {\n    // TODO api provide an namespace that can save stuff per instance\n    var globalStore = getUniversalTransitionGlobalStore(api); // TODO multiple to multiple series.\n\n    if (globalStore.oldSeries && params.updatedSeries && params.optionChanged) {\n      // Use give transition config if its' give;\n      var transitionOpt = params.seriesTransition;\n\n      if (transitionOpt) {\n        each(normalizeToArray(transitionOpt), function (opt) {\n          transitionSeriesFromOpt(opt, globalStore, params, api);\n        });\n      } else {\n        // Else guess from series based on transition series key.\n        var updateBatches_1 = findTransitionSeriesBatches(globalStore, params);\n        each(updateBatches_1.keys(), function (key) {\n          var batch = updateBatches_1.get(key);\n          transitionBetween(batch.oldSeries, batch.newSeries, api);\n        });\n      } // Reset\n\n\n      each(params.updatedSeries, function (series) {\n        // Reset;\n        if (series[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n          series[SERIES_UNIVERSAL_TRANSITION_PROP] = false;\n        }\n      });\n    } // Save all series of current update. Not only the updated one.\n\n\n    var allSeries = ecModel.getSeries();\n    var savedSeries = globalStore.oldSeries = [];\n    var savedData = globalStore.oldData = [];\n\n    for (var i = 0; i < allSeries.length; i++) {\n      var data = allSeries[i].getData(); // Only save the data that can have transition.\n      // Avoid large data costing too much extra memory\n\n      if (data.count() < DATA_COUNT_THRESHOLD) {\n        savedSeries.push(allSeries[i]);\n        savedData.push(data);\n      }\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n\nvar SliderZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomModel, _super);\n\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\n\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\n\nvar SliderZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomView, _super);\n\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  };\n\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  };\n\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Dont use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n\n    barGroup.add(clickPanel);\n  };\n\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    this._displayables.dataShadowSegs = [];\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts; // Not re-render if data doesn't change.\n\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim); // Nice extent.\n\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0; // Optimize for large data shadow\n\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        } // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n        var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n        var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent_1, otherShadowExtent_1, true); // Attempt to draw data shadow precisely when there are empty value.\n\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n\n      this._displayables.sliderGroup.add(group);\n\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n\n    this._updateDataInfo(nonRealtime);\n  };\n\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n\n    if (!brushRect) {\n      return;\n    }\n\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n\n    var viewExtend = this._getViewExtent();\n\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n\n    this._updateView();\n\n    this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  };\n\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel.js';\nimport SliderZoomView from './SliderZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}"],"sourceRoot":""}