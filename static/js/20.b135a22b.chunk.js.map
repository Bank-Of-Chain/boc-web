{"version":3,"sources":["pages/Usdr/Deposit/style.js","pages/Usdr/Deposit/index.jsx","pages/Usdr/Withdraw/style.js","pages/Usdr/Withdraw/index.jsx","pages/Usdr/style.js","pages/Usdr/index.jsx"],"names":["componentsStyle","modal","display","alignItems","justifyContent","modalBody","textAlign","depositContainer","border","padding","borderTopLeftRadius","borderTopRightRadius","estimateContainer","marginTop","borderBottomLeftRadius","borderBottomRightRadius","estimateWrapper","fontSize","estimateText","color","margin","estimateBalanceNum","balance","footerContainer","tokenInputWrapper","marginBottom","inputLabelWrapper","input","maxWidth","tokenInfo","tokenName","tokenLogo","width","borderRadius","marginRight","depositModal","backgroundColor","setting","position","right","top","cursor","i","Contract","ethers","BigNumber","useStyles","makeStyles","styles","Deposit","address","estimatedTotalAssets","userProvider","VAULT_ABI","VAULT_ADDRESS","isBalanceLoading","minimumInvestmentAmount","wantTokenBalance","wantTokenDecimals","wantTokenSymbol","wantTokenForVault","manageFeeBps","classes","dispatch","useDispatch","useState","value","setValue","isLoading","setIsLoading","deposit","amount","from","mul","pow","signer","getSigner","tokenContract","IERC20_ABI","tokenContractWithUser","connect","allowance","allowanceAmount","gt","increaseAllowance","sub","then","tx","wait","catch","e","console","table","code","Promise","reject","approve","vaultContract","vaultContractWithUser","extendObj","isNumber","MULTIPLE_OF_GAS","estimateGas","lend","gas","gasLimit","Math","ceil","maxGasLimit","MAX_GAS_LIMIT","error","errorMsg","errorTextOutput","tip","isEs","isAd","isRp","isDistributing","isLessThanMinValue","toFixed","BN_18","warmDialog","open","type","message","log","isLogin","isEmpty","isValid","decimals","replace","isNaN","Number","nextValue","BN","nextFromValue","multipliedBy","toString","lte","indexOf","lt","isValidValue","bps","GridContainer","root","className","GridItem","xs","sm","md","lg","alt","src","CustomTextField","onChange","event","target","placeholder","maxEndAdornment","onMaxClick","maxValue","formatBalance","showAll","isUndefined","title","loading","Button","disabled","onClick","style","Tooltip","tooltip","placement","marginLeft","Modal","aria-labelledby","aria-describedby","Paper","elevation","CircularProgress","withdrawContainer","outputContainer","height","widthdrawLoadingPaper","steps","Withdraw","reloadBalance","toValue","setToValue","isWithdrawLoading","setIsWithdrawLoading","currentStep","setCurrentStep","withdrawError","setWithdrawError","withdraw","isValidToValue","vaultContractWithSigner","withdrawAmount","redeem","events","args","length","_redeemAmount","isMaxLoss","isLossMuch","isExchangeFail","setTimeout","nextToValue","handleMaxClick","nexttotalAsset","isValidToValueFlag","alternativeLabel","activeStep","connector","map","index","Step","key","StepIconComponent","BocStepIcon","verticalAlign","theme","container","zIndex","center","breakpoints","down","wrapper","background","wrapperMobile","symbol","gradientText","footer","item","minWidth","centerItem","balanceCard","check","balanceCardValue","lineHeight","fontWeight","balanceCardLabel","addTokenIcon","scanToken","hidden","brand","subtitle","main","mainRaised","link","textDecoration","textCenter","switchBar","img","radioUnchecked","radioChecked","radioRoot","radio","investCard","overflow","tableCell","letterSpacing","switchBase","switchChecked","minHeight","boxShadow","outline","stepContainer","stepItem","tabsRoot","tabsIndicator","tabTextColor","tabRoot","detailWrapper","slider","left","text","spliter","bottom","transition","tokens","USDC_ADDRESS_MATIC","useVersionWapper","props","isLayoutSm","useMediaQuery","VAULT_FACTORY_ADDRESS","VAULT_FACTORY_ABI","UNISWAPV3_RISK_ON_VAULT","UNISWAPV3_RISK_ON_HELPER","setIsBalanceLoading","personalVaultAddress","setPersonalVaultAddress","setWantTokenForVault","setWantTokenBalance","setWantTokenDecimals","setWantTokenSymbol","isVisiable","setIsVisiable","current","useSelector","state","investReducer","currentTab","setCurrent","tab","loadData","setCurrentTab","baseInfo","useVaultOnRisk","netMarketMakingAmount","handleAddToken","useCallback","addToken","wantTokenContract","all","balanceOf","finally","useEffect","setInterval","spacing","paddingLeft","List","ListItem","button","classNames","INVEST_TAB","account","ListItemIcon","ListItemText","primary","modalOpenHandle","paddingTop","Card","balanceCardItem","MyStatementForRiskOn","MyVault","vaultChangeHandle","token","modalCloseHandle"],"mappings":"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","file":"static/js/20.b135a22b.chunk.js","sourcesContent":["const componentsStyle = () => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  depositContainer: {\n    border: '1px solid #A68EFD',\n    padding: '2.6875rem 2.25rem',\n    borderTopLeftRadius: '1rem',\n    borderTopRightRadius: '1rem'\n  },\n  estimateContainer: {\n    border: '1px solid #A68EFD',\n    marginTop: '0.5rem',\n    borderBottomLeftRadius: '1rem',\n    borderBottomRightRadius: '1rem',\n    padding: '2.0625rem 2.6875rem'\n  },\n  estimateWrapper: {\n    display: 'flex',\n    marginTop: '1rem',\n    justifyContent: 'space-between',\n    fontSize: '1.625rem'\n  },\n  estimateText: {\n    color: '#A0A0A0',\n    margin: 0,\n    display: 'flex'\n  },\n  estimateBalanceNum: {\n    color: '#A0A0A0'\n  },\n  balance: {\n    display: 'flex',\n    color: '#A0A0A0',\n    marginTop: '1rem'\n  },\n  footerContainer: {\n    marginTop: '2.5rem'\n  },\n  tokenInputWrapper: {\n    marginBottom: '16px'\n  },\n  inputLabelWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  input: {\n    maxWidth: '14rem'\n  },\n  tokenInfo: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  tokenName: {\n    fontSize: '1.625rem'\n  },\n  tokenLogo: {\n    width: 30,\n    borderRadius: '50%',\n    marginRight: 8\n  },\n  depositModal: {\n    padding: '1rem',\n    maxWidth: '500px',\n    color: 'rgba(255, 255, 255, 0.87)',\n    border: '1px solid #A68EFE',\n    backgroundColor: '#000',\n    borderRadius: '1rem'\n  },\n  setting: {\n    position: 'absolute',\n    right: '1rem',\n    top: '1rem',\n    cursor: 'pointer'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\n// === Components === //\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Modal from '@material-ui/core/Modal'\nimport Paper from '@material-ui/core/Paper'\nimport Loading from '@/components/LoadingComponent'\n\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport CustomTextField from '@/components/CustomTextField'\nimport Button from '@/components/CustomButtons/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport InfoIcon from '@material-ui/icons/Info'\n\n// === Utils === //\nimport isUndefined from 'lodash/isUndefined'\nimport isEmpty from 'lodash/isEmpty'\nimport isNumber from 'lodash/isNumber'\nimport * as ethers from 'ethers'\nimport BN from 'bignumber.js'\nimport { warmDialog } from '@/reducers/meta-reducer'\nimport { toFixed, formatBalance } from '@/helpers/number-format'\n\n// === Constants === //\nimport { isAd, isEs, isRp, isDistributing, errorTextOutput, isLessThanMinValue } from '@/helpers/error-handler'\nimport { BN_18 } from '@/constants/big-number'\nimport { MULTIPLE_OF_GAS, MAX_GAS_LIMIT, IERC20_ABI } from '@/constants'\n\n// === Styles === //\nimport styles from './style'\n\nconst { Contract, BigNumber } = ethers\nconst useStyles = makeStyles(styles)\n\nexport default function Deposit({\n  address,\n  estimatedTotalAssets,\n  userProvider,\n  VAULT_ABI,\n  VAULT_ADDRESS,\n  isBalanceLoading,\n  minimumInvestmentAmount,\n  wantTokenBalance,\n  wantTokenDecimals,\n  wantTokenSymbol,\n  wantTokenForVault,\n  manageFeeBps\n}) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [value, setValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  /**\n   * check if value is valid\n   * @returns\n   */\n  function isValidValue() {\n    const balance = wantTokenBalance\n    const decimals = wantTokenDecimals\n    if (value === '' || value === '-' || value === '0' || isEmpty(value.replace(/ /g, ''))) return\n    // not a number\n    if (isNaN(Number(value))) return false\n    const nextValue = BN(value)\n    const nextFromValue = nextValue.multipliedBy(BigNumber.from(10).pow(decimals).toString())\n    // less than 0\n    if (nextFromValue.lte(0)) return false\n    // value should be integer\n    const nextFromValueString = nextValue.multipliedBy(BigNumber.from(10).pow(decimals).toString())\n    if (nextFromValueString.toFixed().indexOf('.') !== -1) return false\n    // balance less than value\n    if (balance.lt(BigNumber.from(nextFromValue.toFixed()))) return false\n\n    return true\n  }\n\n  const handleInputChange = event => {\n    setValue(event.target.value)\n  }\n\n  const handleMaxClick = () => {\n    const maxValue = wantTokenBalance\n    setValue(\n      formatBalance(maxValue.gt(0) ? maxValue : 0, wantTokenDecimals, {\n        showAll: true\n      })\n    )\n  }\n\n  const deposit = async () => {\n    setIsLoading(true)\n    try {\n      const amount = BigNumber.from(value).mul(BigNumber.from(10).pow(wantTokenDecimals))\n      const signer = userProvider.getSigner()\n      const tokenContract = new Contract(wantTokenForVault, IERC20_ABI, userProvider)\n      const tokenContractWithUser = tokenContract.connect(signer)\n      const allowanceAmount = await tokenContractWithUser.allowance(address, VAULT_ADDRESS)\n      // If deposit amount greater than allow amount, need approve\n      if (amount.gt(allowanceAmount)) {\n        // If allowance gt 0, increaseAllowance, otherwise approve nextAmount\n        if (allowanceAmount.gt(0)) {\n          await tokenContractWithUser\n            .increaseAllowance(VAULT_ADDRESS, amount.sub(allowanceAmount))\n            .then(tx => tx.wait())\n            .catch(async e => {\n              console.table(e)\n              // cancel by user\n              if (e.code === 4001 || e.code === 'ACTION_REJECTED') {\n                return Promise.reject(e)\n              }\n              // If increase failed, approve 0 and approve nextAmounts\n              await tokenContractWithUser.approve(VAULT_ADDRESS, 0)\n              await tokenContractWithUser.approve(VAULT_ADDRESS, amount).then(tx => tx.wait())\n            })\n        } else {\n          await tokenContractWithUser.approve(VAULT_ADDRESS, amount)\n        }\n      }\n\n      const vaultContract = new Contract(VAULT_ADDRESS, VAULT_ABI, userProvider)\n      const vaultContractWithUser = vaultContract.connect(signer)\n\n      const extendObj = {}\n      // if gasLimit times not 1, need estimateGas\n      if (isNumber(MULTIPLE_OF_GAS) && MULTIPLE_OF_GAS !== 1) {\n        const gas = await vaultContractWithUser.estimateGas.lend(amount)\n        const gasLimit = Math.ceil(gas * MULTIPLE_OF_GAS)\n        // gasLimit not exceed maximum\n        const maxGasLimit = gasLimit < MAX_GAS_LIMIT ? gasLimit : MAX_GAS_LIMIT\n        extendObj.gasLimit = maxGasLimit\n      }\n      await vaultContractWithUser\n        .lend(amount, extendObj)\n        .then(tx => tx.wait())\n        .catch(error => {\n          const errorMsg = errorTextOutput(error)\n          let tip = ''\n          if (isEs(errorMsg)) {\n            tip = 'Vault has been shut down, please try again later!'\n          } else if (isAd(errorMsg)) {\n            tip = 'Vault is in adjustment status, please try again later!'\n          } else if (isRp(errorMsg)) {\n            tip = 'Vault is in rebase status, please try again later!'\n          } else if (isDistributing(errorMsg)) {\n            tip = 'Vault is in distributing, please try again later!'\n          } else if (isLessThanMinValue(errorMsg)) {\n            tip = `Deposit Amount must be greater than ${toFixed(minimumInvestmentAmount, BN_18, 2)}ETH!`\n          }\n          if (tip) {\n            dispatch(\n              warmDialog({\n                open: true,\n                type: 'error',\n                message: tip\n              })\n            )\n          }\n          setIsLoading(false)\n        })\n      setValue('')\n      setIsLoading(false)\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'success',\n          message: 'Success'\n        })\n      )\n    } catch (error) {\n      console.log('error', error)\n      setIsLoading(false)\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'error',\n          message: 'Deposit failed'\n        })\n      )\n    }\n  }\n\n  const isLogin = !isEmpty(userProvider)\n  const isValid = isValidValue()\n  const bps = manageFeeBps ? manageFeeBps.toString() / 10000 : 0\n\n  return (\n    <>\n      <GridContainer classes={{ root: classes.depositContainer }}>\n        <p className={classes.estimateText}>From</p>\n        <GridItem xs={12} sm={12} md={12} lg={12} className={classes.tokenInputWrapper}>\n          <GridContainer>\n            <GridItem xs={12} sm={12} md={12} lg={12}>\n              <div className={classes.inputLabelWrapper}>\n                <div className={classes.tokenInfo}>\n                  <img className={classes.tokenLogo} alt=\"\" src={`./images/${wantTokenForVault}.png`} />\n                  <span className={classes.tokenName}>{wantTokenSymbol}</span>\n                </div>\n                <CustomTextField\n                  classes={{ root: classes.input }}\n                  value={value}\n                  onChange={handleInputChange}\n                  placeholder=\"deposit amount\"\n                  maxEndAdornment\n                  onMaxClick={handleMaxClick}\n                  error={!isUndefined(isValid) && !isValid}\n                />\n              </div>\n            </GridItem>\n            <GridItem xs={12} sm={12} md={12} lg={12}>\n              <p\n                className={classes.estimateText}\n                title={formatBalance(wantTokenBalance, wantTokenDecimals, {\n                  showAll: true\n                })}\n              >\n                Balance:&nbsp;&nbsp;\n                <Loading loading={isBalanceLoading}>{formatBalance(wantTokenBalance, wantTokenDecimals)}</Loading>\n              </p>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n      </GridContainer>\n      <GridContainer className={classes.estimateContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>To</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.estimateWrapper}>\n            <span>{wantTokenSymbol} VAULT</span>\n            <span className={classes.estimateBalanceNum}>{Number(value) * (1 - bps)}</span>\n          </div>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p\n            className={classes.balance}\n            title={formatBalance(estimatedTotalAssets, wantTokenDecimals, {\n              showAll: true\n            })}\n          >\n            Balance:&nbsp;&nbsp;\n            <Loading loading={isBalanceLoading}>{formatBalance(estimatedTotalAssets, wantTokenDecimals)}</Loading>\n          </p>\n        </GridItem>\n      </GridContainer>\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.footerContainer}>\n            <Button disabled={!isLogin || (isLogin && !isValid)} color=\"colorfull\" onClick={deposit} style={{ width: '100%' }}>\n              Deposit\n              <Tooltip\n                classes={{\n                  tooltip: classes.tooltip\n                }}\n                placement=\"top\"\n                title={`${bps * 100}% manage fee of the principal.`}\n              >\n                <InfoIcon style={{ marginLeft: '0.5rem' }} />\n              </Tooltip>\n            </Button>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <Modal className={classes.modal} open={isLoading} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n        <Paper elevation={3} className={classes.depositModal}>\n          <div className={classes.modalBody}>\n            <CircularProgress color=\"inherit\" />\n            <div style={{ marginTop: '1rem' }}>On Deposit...</div>\n          </div>\n        </Paper>\n      </Modal>\n    </>\n  )\n}\n","const componentsStyle = () => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  withdrawContainer: {\n    padding: '2.6875rem 2.25rem',\n    border: '1px solid #A68EFD',\n    borderTopLeftRadius: '1rem',\n    borderTopRightRadius: '1rem'\n  },\n  outputContainer: {\n    padding: '2.6875rem 2.25rem',\n    border: '1px solid #A68EFD',\n    marginTop: '0.5rem',\n    borderBottomLeftRadius: '1rem',\n    borderBottomRightRadius: '1rem'\n  },\n  estimateText: {\n    height: '1.25rem',\n    color: '#A0A0A0',\n    margin: 0,\n    display: 'flex',\n    marginTop: '0.5rem',\n    alignItems: 'center'\n  },\n  input: {\n    maxWidth: '14rem'\n  },\n  footerContainer: {\n    marginTop: '2.5rem'\n  },\n  inputLabelWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  tokenInfo: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  tokenName: {\n    fontSize: '1.625rem'\n  },\n  widthdrawLoadingPaper: {\n    padding: '1rem',\n    maxWidth: '500px',\n    color: 'rgba(255, 255, 255, 0.87)',\n    border: '1px solid #A68EFE',\n    backgroundColor: '#000',\n    borderRadius: '1rem',\n    width: '100%'\n  },\n  estimateWrapper: {\n    display: 'flex',\n    marginTop: '1rem',\n    justifyContent: 'space-between',\n    fontSize: '1.625rem'\n  },\n  estimateBalanceNum: {\n    color: '#A0A0A0'\n  },\n  setting: {\n    position: 'absolute',\n    right: '1rem',\n    top: '1rem',\n    cursor: 'pointer'\n  },\n  root: {\n    padding: '1.5rem 0'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState } from 'react'\nimport * as ethers from 'ethers'\nimport BN from 'bignumber.js'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Modal from '@material-ui/core/Modal'\nimport Paper from '@material-ui/core/Paper'\nimport Step from '@material-ui/core/Step'\nimport WarningIcon from '@material-ui/icons/Warning'\n\nimport CustomTextField from '@/components/CustomTextField'\nimport BocStepper from '@/components/Stepper/Stepper'\nimport BocStepLabel from '@/components/Stepper/StepLabel'\nimport BocStepIcon from '@/components/Stepper/StepIcon'\nimport BocStepConnector from '@/components/Stepper/StepConnector'\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport Button from '@/components/CustomButtons/Button'\nimport Loading from '@/components/LoadingComponent'\n\n// === Hooks === //\nimport { warmDialog } from '@/reducers/meta-reducer'\n\n// === Utils === //\nimport isUndefined from 'lodash/isUndefined'\nimport map from 'lodash/map'\nimport isEmpty from 'lodash/isEmpty'\nimport isNumber from 'lodash/isNumber'\nimport {  formatBalance } from '@/helpers/number-format'\nimport { isAd, isEs, isRp, isMaxLoss, isLossMuch, isExchangeFail, errorTextOutput } from '@/helpers/error-handler'\n\n// === Constants === //\nimport { MULTIPLE_OF_GAS, MAX_GAS_LIMIT } from '@/constants'\n\n// === Styles === //\nimport styles from './style'\n\nconst { Contract, BigNumber } = ethers\nconst useStyles = makeStyles(styles)\n\nconst steps = [{ title: 'Shares Validation' }, { title: 'Gas Estimates' }, { title: 'Withdraw' }]\n\nexport default function Withdraw({\n  userProvider,\n  VAULT_ADDRESS,\n  VAULT_ABI,\n  isBalanceLoading,\n  reloadBalance,\n  estimatedTotalAssets,\n  wantTokenDecimals,\n  wantTokenSymbol\n}) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [toValue, setToValue] = useState('')\n  const [isWithdrawLoading, setIsWithdrawLoading] = useState(false)\n  const [currentStep, setCurrentStep] = useState(0)\n  const [withdrawError, setWithdrawError] = useState({})\n\n  const withdraw = async () => {\n    setIsWithdrawLoading(true)\n    console.log('----------start withdraw----------')\n    if (!isValidToValue()) {\n      return setWithdrawError({\n        type: 'warning',\n        message: 'Please enter the correct value.'\n      })\n    }\n    setCurrentStep(1)\n    const vaultContract = new Contract(VAULT_ADDRESS, VAULT_ABI, userProvider)\n    const signer = userProvider.getSigner()\n    try {\n      const vaultContractWithSigner = vaultContract.connect(signer)\n      setCurrentStep(2)\n      let tx\n      const withdrawAmount = BigNumber.from(toValue).mul(BigNumber.from(10).pow(wantTokenDecimals))\n      // if gasLimit times not 1, need estimateGas\n      if (isNumber(MULTIPLE_OF_GAS) && MULTIPLE_OF_GAS !== 1) {\n        const gas = await vaultContractWithSigner.estimateGas.redeem(withdrawAmount, estimatedTotalAssets)\n        setCurrentStep(3)\n        const gasLimit = Math.ceil(gas * MULTIPLE_OF_GAS)\n        // gasLimit not exceed maximum\n        const maxGasLimit = gasLimit < MAX_GAS_LIMIT ? gasLimit : MAX_GAS_LIMIT\n        tx = await vaultContractWithSigner.redeem(withdrawAmount, estimatedTotalAssets, {\n          gasLimit: maxGasLimit\n        })\n      } else {\n        tx = await vaultContractWithSigner.redeem(withdrawAmount, estimatedTotalAssets)\n      }\n\n      const { events } = await tx.wait()\n      let args = []\n      for (let i = events.length - 1; i >= 0; i--) {\n        if (events[i].event === 'Redeem') {\n          args = events[i].args\n          break\n        }\n      }\n      console.log('args', args)\n      const { _redeemAmount } = args\n      console.log('_redeemAmount', _redeemAmount.toString())\n      setCurrentStep(4)\n      setToValue('')\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'success',\n          message: `Withdraw ${formatBalance(_redeemAmount, wantTokenDecimals)} ${wantTokenSymbol}`\n        })\n      )\n    } catch (error) {\n      console.log('withdraw original error :', error)\n      const errorMsg = errorTextOutput(error)\n      let tip = ''\n      if (isEs(errorMsg)) {\n        tip = 'Vault has been shut down, please try again later!'\n      } else if (isAd(errorMsg)) {\n        tip = 'Vault is in adjustment status, please try again later!'\n      } else if (isRp(errorMsg)) {\n        tip = 'Vault is in rebase status, please try again later!'\n      } else if (isMaxLoss(errorMsg)) {\n        tip = 'Failed to withdraw, please increase the Max Loss!'\n      } else if (isLossMuch(errorMsg)) {\n        tip = 'Failed to exchange, please increase the exchange slippage!'\n      } else if (isExchangeFail(errorMsg)) {\n        tip = 'Failed to exchange, Please try again later!'\n      } else {\n        tip = 'Withdraw failed'\n      }\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'error',\n          message: tip\n        })\n      )\n    }\n    setTimeout(() => {\n      setIsWithdrawLoading(false)\n      setWithdrawError({})\n      setCurrentStep(0)\n    }, 2000)\n  }\n\n  /**\n   * check if toValue is valid\n   * @returns\n   */\n  const isValidToValue = () => {\n    if (toValue === '' || toValue === '-' || isEmpty(toValue.replace(/ /g, ''))) return\n    // should be a number\n    if (isNaN(Number(toValue))) return false\n    const nextValue = BN(toValue)\n    const nextToValue = nextValue.multipliedBy(BigNumber.from(10).pow(wantTokenDecimals).toString())\n    // should be positive\n    if (nextToValue.lte(0)) return false\n    // should be integer\n    const nextToValueString = nextValue.multipliedBy(BigNumber.from(10).pow(wantTokenDecimals).toString())\n    if (nextToValueString.toFixed().indexOf('.') !== -1) return false\n    // balance less than value\n    if (estimatedTotalAssets.lt(BigNumber.from(nextToValue.toFixed()))) return false\n    return true\n  }\n\n  const handleAmountChange = event => {\n    try {\n      setToValue(event.target.value)\n    } catch (error) {\n      setToValue('')\n    }\n  }\n\n  const handleMaxClick = async () => {\n    const [nexttotalAsset] = await reloadBalance()\n    setToValue(formatBalance(nexttotalAsset, wantTokenDecimals, { showAll: true }))\n  }\n\n  const isValidToValueFlag = isValidToValue()\n\n  const isLogin = !isEmpty(userProvider)\n\n  return (\n    <>\n      <GridContainer className={classes.withdrawContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>From</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.inputLabelWrapper}>\n            <div className={classes.tokenInfo}>\n              <span className={classes.tokenName}>{wantTokenSymbol} VAULT</span>\n            </div>\n            <CustomTextField\n              classes={{ root: classes.input }}\n              value={toValue}\n              placeholder=\"withdraw amount\"\n              maxEndAdornment\n              onMaxClick={() => handleMaxClick()}\n              onChange={handleAmountChange}\n              error={!isUndefined(isValidToValueFlag) && !isValidToValueFlag && toValue !== '0'}\n            />\n          </div>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText} title={formatBalance(estimatedTotalAssets, wantTokenDecimals, { showAll: true })}>\n            Balance:&nbsp;\n            <Loading loading={isBalanceLoading}>{formatBalance(estimatedTotalAssets, wantTokenDecimals)}</Loading>\n          </p>\n        </GridItem>\n      </GridContainer>\n      <GridContainer className={classes.outputContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>To</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.estimateWrapper}>\n            <span>{wantTokenSymbol}</span>\n            <span className={classes.estimateBalanceNum}>{toValue}</span>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.footerContainer}>\n            <Button\n              disabled={!isLogin || (isLogin && (isUndefined(isValidToValueFlag) || !isValidToValueFlag))}\n              color=\"colorfull\"\n              onClick={withdraw}\n              style={{ width: '100%', padding: '12px 16px' }}\n            >\n              Withdraw\n            </Button>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <Modal className={classes.modal} open={isWithdrawLoading} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n        <Paper elevation={3} className={classes.widthdrawLoadingPaper}>\n          <div className={classes.modalBody}>\n            {isEmpty(withdrawError) && <CircularProgress color=\"inherit\" />}\n            {isEmpty(withdrawError) ? <p>In Withdrawing...</p> : <p>Withdraw Error !</p>}\n            <BocStepper\n              classes={{\n                root: classes.root\n              }}\n              alternativeLabel\n              activeStep={currentStep}\n              connector={<BocStepConnector />}\n            >\n              {map(steps, (i, index) => {\n                return (\n                  <Step key={index}>\n                    <BocStepLabel StepIconComponent={BocStepIcon}>{i.title}</BocStepLabel>\n                  </Step>\n                )\n              })}\n            </BocStepper>\n            {!isEmpty(withdrawError) && (\n              <p\n                style={{\n                  color: withdrawError.type === 'error' ? 'red' : 'yellow'\n                }}\n              >\n                <WarningIcon style={{ verticalAlign: 'bottom' }}></WarningIcon>\n                &nbsp;&nbsp;&nbsp;{withdrawError.message}\n              </p>\n            )}\n            <Button\n              color=\"danger\"\n              onClick={() => {\n                setIsWithdrawLoading(false)\n                setWithdrawError({})\n                setCurrentStep(0)\n              }}\n            >\n              Cancel\n            </Button>\n          </div>\n        </Paper>\n      </Modal>\n    </>\n  )\n}\n","import { container } from '@/assets/jss/material-kit-react.js'\nimport { gradientText } from '@/assets/jss/common.js'\n\nconst componentsStyle = theme => ({\n  container: {\n    zIndex: '12',\n    color: '#FFFFFF',\n    marginTop: '1rem',\n    marginBottom: 100,\n    ...container\n  },\n  center: {\n    justifyContent: 'center',\n    padding: '50px 72px 50px',\n    backgroundColor: '#0c0735cc',\n    [theme.breakpoints.down('md')]: {\n      padding: '50px 16px 50px'\n    },\n    margin: 0\n  },\n  wrapper: {\n    padding: '5rem 3rem',\n    borderRadius: '1.25rem',\n    background: 'linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)'\n  },\n  wrapperMobile: {\n    padding: '3rem 2rem',\n    borderRadius: '1.25rem',\n    background: 'linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)'\n  },\n  deposit: {\n    padding: '1rem',\n    border: '1px solid #F4ACF3',\n    borderTopLeftRadius: '1.25rem',\n    borderTopRightRadius: '1.25rem'\n  },\n  balance: {\n    marginTop: '0.5rem',\n    marginBottom: '2rem',\n    padding: '1rem',\n    border: '1px solid #F4ACF3',\n    borderBottomLeftRadius: '1.25rem',\n    borderBottomRightRadius: '1.25rem'\n  },\n  symbol: {\n    color: '#A68EFD',\n    marginLeft: '1rem',\n    ...gradientText\n  },\n  footer: {},\n  item: {\n    color: '#fff',\n    marginBottom: 20,\n    '& .MuiListItemIcon-root': {\n      minWidth: '38px'\n    }\n  },\n  centerItem: {\n    width: '630px'\n  },\n  balanceCard: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    margin: '0 0 1rem 0',\n    textAlign: 'left',\n    padding: '2.8125rem 2.4375rem',\n    background: '#323338',\n    color: '#fff',\n    borderRadius: '1.25rem'\n  },\n  check: {\n    color: '#A68EFE'\n  },\n  balanceCardValue: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    height: 30,\n    lineHeight: '30px',\n    fontSize: 26,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 8\n  },\n  balanceCardLabel: {\n    color: '#b2add1',\n    fontSize: 14\n  },\n  tokenInfo: {\n    display: 'flex',\n    position: 'absolute',\n    right: 12,\n    top: 9\n  },\n  addTokenIcon: {\n    cursor: 'pointer',\n    marginLeft: '1rem',\n    display: 'flex'\n  },\n  scanToken: {\n    width: 24,\n    height: 'auto',\n    cursor: 'pointer',\n    borderRadius: '50%',\n    backgroundColor: '#fff'\n  },\n  hidden: {\n    display: 'none'\n  },\n  brand: {\n    color: '#FFFFFF',\n    textAlign: 'left'\n  },\n  title: {\n    fontSize: '4.2rem',\n    fontWeight: '600',\n    display: 'inline-block',\n    position: 'relative'\n  },\n  subtitle: {\n    fontSize: '1.313rem',\n    width: 'auto',\n    margin: '10px 0 0'\n  },\n  main: {\n    position: 'relative',\n    backgroundColor: 'transparent'\n  },\n  mainRaised: {\n    margin: '0 auto',\n    marginTop: 65\n  },\n  link: {\n    textDecoration: 'none'\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  switchBar: {\n    backgroundColor: '#91d5ff !important'\n  },\n  img: {\n    width: '25px'\n  },\n  radioUnchecked: {\n    width: '0px',\n    height: '0px',\n    padding: '7px',\n    border: '1px solid #fff',\n    borderRadius: '50%'\n  },\n  radioChecked: {\n    width: '16px',\n    height: '16px',\n    border: '1px solid #fff',\n    borderRadius: '50%'\n  },\n  radioRoot: {\n    padding: '12px',\n    '&:hover': {\n      backgroundColor: 'unset'\n    }\n  },\n  radio: {\n    color: '#fff !important'\n  },\n  investCard: {\n    padding: '20px 24px',\n    borderRadius: 6,\n    backgroundColor: 'rgba(39, 31, 114, 0.8)',\n    overflow: 'visible'\n  },\n  table: {\n    backgroundColor: '#150752',\n    border: '1px solid rgb(222, 217, 213)'\n  },\n  tableCell: {\n    color: '#fff',\n    fontSize: '12px',\n    letterSpacing: '0.01071em'\n  },\n  switchBase: {\n    color: '#ddd'\n  },\n  switchChecked: {\n    color: '#40a9ff'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '& .MuiPaper-root': {\n      minWidth: 430,\n      minHeight: 120,\n      padding: '32px 24px',\n      fontSize: 16,\n      border: 0,\n      color: '#fff',\n      boxShadow: '0px 15px 15px rgba(0, 0, 0, 0.05)',\n      borderRadius: '20px',\n      background: '#292B2E',\n      outline: 0,\n      width: '550px'\n    }\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  stepContainer: {\n    padding: 20\n  },\n  stepItem: {\n    color: '#fff'\n  },\n  tabsRoot: {\n    padding: '0 20px'\n  },\n  tabsIndicator: {\n    backgroundColor: 'transparent',\n    display: 'flex',\n    justifyContent: 'center',\n    '& > span': {\n      maxWidth: 120,\n      width: '100%',\n      backgroundColor: '#fff'\n    }\n  },\n  tabTextColor: {\n    color: '#fff'\n  },\n  tabRoot: {\n    width: '50%',\n    fontSize: '16px',\n    maxWidth: 'none'\n  },\n  detailWrapper: {\n    margin: '42px 0 0 0'\n  },\n  slider: {\n    position: 'absolute',\n    top: '50px',\n    left: 'calc(50% - 33rem)',\n    backgroundColor: '#271f72',\n    color: 'azure'\n  },\n  text: {\n    color: 'azure'\n  },\n  spliter: {\n    display: 'flex',\n    justifyContent: 'center',\n    bottom: 0,\n    height: 2,\n    position: 'absolute',\n    transition: 'all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '54%',\n    backgroundColor: '#fff'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState, useEffect } from 'react'\nimport classNames from 'classnames'\nimport { makeStyles } from '@material-ui/core/styles'\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport Card from '@material-ui/core/Card'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet'\nimport SaveAltIcon from '@material-ui/icons/SaveAlt'\nimport UndoIcon from '@material-ui/icons/Undo'\nimport Loading from '@/components/LoadingComponent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\n// === Components === //\nimport Deposit from './Deposit'\nimport Withdraw from './Withdraw'\nimport MyStatementForRiskOn from '@/components/MyStatement/MyStatementForRiskOn'\nimport MyVault from '@/components/MyVault'\nimport Modal from '@material-ui/core/Modal'\nimport Paper from '@material-ui/core/Paper'\n\n// === Reducers === //\nimport { setCurrentTab } from '@/reducers/invest-reducer'\n\n// === constants === //\nimport { USDC_ADDRESS_MATIC } from '@/constants/tokens'\nimport { INVEST_TAB } from '@/constants/invest'\nimport { IERC20_ABI } from '@/constants'\n\n// === Utils === //\nimport { formatBalance } from '@/helpers/number-format'\nimport isEmpty from 'lodash/isEmpty'\nimport * as ethers from 'ethers'\nimport useVersionWapper from '@/hooks/useVersionWapper'\nimport { addToken } from '@/helpers/wallet'\n\n// === Hooks === //\nimport { useSelector, useDispatch } from 'react-redux'\nimport useVaultOnRisk from '@/hooks/useVaultOnRisk'\n\n// === Styles === //\nimport styles from './style'\nimport { useCallback } from 'react'\n\nconst useStyles = makeStyles(styles)\nconst { BigNumber } = ethers\n\nconst tokens = [USDC_ADDRESS_MATIC]\n\nfunction Usdr(props) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const isLayoutSm = useMediaQuery('(max-width: 960px)')\n\n  const { address, userProvider, VAULT_FACTORY_ADDRESS, VAULT_FACTORY_ABI, UNISWAPV3_RISK_ON_VAULT, UNISWAPV3_RISK_ON_HELPER } = props\n\n  const [isBalanceLoading, setIsBalanceLoading] = useState(false)\n  const [personalVaultAddress, setPersonalVaultAddress] = useState()\n  const [wantTokenForVault, setWantTokenForVault] = useState()\n  const [wantTokenBalance, setWantTokenBalance] = useState(BigNumber.from(0))\n  const [wantTokenDecimals, setWantTokenDecimals] = useState(0)\n  const [wantTokenSymbol, setWantTokenSymbol] = useState('')\n  const [isVisiable, setIsVisiable] = useState(true)\n\n  const current = useSelector(state => state.investReducer.currentTab)\n  const setCurrent = tab => {\n    loadData()\n    dispatch(setCurrentTab(tab))\n  }\n  const { baseInfo } = useVaultOnRisk(\n    VAULT_FACTORY_ADDRESS,\n    VAULT_FACTORY_ABI,\n    personalVaultAddress,\n    UNISWAPV3_RISK_ON_VAULT,\n    UNISWAPV3_RISK_ON_HELPER,\n    userProvider\n  )\n  const { netMarketMakingAmount, estimatedTotalAssets, manageFeeBps, minimumInvestmentAmount } = baseInfo\n\n  const handleAddToken = useCallback(() => {\n    addToken(wantTokenForVault, wantTokenSymbol, wantTokenDecimals)\n  }, [wantTokenForVault, wantTokenSymbol, wantTokenDecimals])\n\n  const loadData = useCallback(() => {\n    if (isEmpty(wantTokenForVault) || isEmpty(personalVaultAddress)) return\n\n    setIsBalanceLoading(true)\n    const wantTokenContract = new ethers.Contract(wantTokenForVault, IERC20_ABI, userProvider)\n\n    Promise.all([wantTokenContract.balanceOf(address), wantTokenContract.decimals(), wantTokenContract.symbol()])\n      .then(([balance, decimals, symbol]) => {\n        setWantTokenBalance(balance)\n        setWantTokenDecimals(decimals)\n        setWantTokenSymbol(symbol)\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setIsBalanceLoading(false)\n        }, 500)\n      })\n    return loadData\n  }, [wantTokenForVault, personalVaultAddress, address, userProvider])\n\n  useEffect(() => {\n    loadData()\n    setInterval(loadData, 30000)\n  }, [loadData])\n\n  return (\n    <div className={classes.container}>\n      <GridContainer spacing={0}>\n        <GridItem xs={2} sm={2} md={3} style={{ paddingLeft: '2rem' }}>\n          <List>\n            <ListItem key=\"My Account\" button className={classNames(classes.item)} onClick={() => setCurrent(INVEST_TAB.account)}>\n              <ListItemIcon>\n                <AccountBalanceWalletIcon style={{ color: current === INVEST_TAB.account ? '#A68EFE' : '#fff' }} />\n              </ListItemIcon>\n              {!isLayoutSm && (\n                <ListItemText primary={'My Account'} className={classNames(current === INVEST_TAB.account ? classes.check : classes.text)} />\n              )}\n            </ListItem>\n            <ListItem\n              key=\"Deposit\"\n              button\n              className={classNames(classes.item, current === INVEST_TAB.deposit && classes.check)}\n              onClick={() => setCurrent(INVEST_TAB.deposit)}\n            >\n              <ListItemIcon>\n                <SaveAltIcon style={{ color: current === INVEST_TAB.deposit ? '#A68EFE' : '#fff' }} />\n              </ListItemIcon>\n              {!isLayoutSm && (\n                <ListItemText primary={'Deposit'} className={classNames(current === INVEST_TAB.deposit ? classes.check : classes.text)} />\n              )}\n            </ListItem>\n            <ListItem key=\"Withdraw\" button className={classNames(classes.item)} onClick={() => setCurrent(INVEST_TAB.withdraw)}>\n              <ListItemIcon>\n                <UndoIcon style={{ color: current === INVEST_TAB.withdraw ? '#A68EFE' : '#fff' }} />\n              </ListItemIcon>\n              {!isLayoutSm && (\n                <ListItemText primary={'Withdraw'} className={classNames(current === INVEST_TAB.withdraw ? classes.check : classes.text)} />\n              )}\n            </ListItem>\n          </List>\n        </GridItem>\n        {current === INVEST_TAB.deposit && (\n          <GridItem xs={9} sm={9} md={6}>\n            <div className={isLayoutSm ? classes.wrapperMobile : classes.wrapper}>\n              <Deposit\n                address={address}\n                estimatedTotalAssets={estimatedTotalAssets}\n                wantTokenBalance={wantTokenBalance}\n                wantTokenDecimals={wantTokenDecimals}\n                userProvider={userProvider}\n                wantTokenSymbol={wantTokenSymbol}\n                wantTokenForVault={wantTokenForVault}\n                VAULT_ADDRESS={personalVaultAddress}\n                VAULT_ABI={UNISWAPV3_RISK_ON_VAULT}\n                isBalanceLoading={isBalanceLoading}\n                minimumInvestmentAmount={minimumInvestmentAmount}\n                manageFeeBps={manageFeeBps}\n                modalOpenHandle={() => setIsVisiable(true)}\n              />\n            </div>\n          </GridItem>\n        )}\n        {current === INVEST_TAB.withdraw && (\n          <GridItem xs={9} sm={9} md={6}>\n            <div className={isLayoutSm ? classes.wrapperMobile : classes.wrapper}>\n              <Withdraw\n                address={address}\n                userProvider={userProvider}\n                estimatedTotalAssets={estimatedTotalAssets}\n                wantTokenDecimals={wantTokenDecimals}\n                wantTokenSymbol={wantTokenSymbol}\n                VAULT_ADDRESS={personalVaultAddress}\n                VAULT_ABI={UNISWAPV3_RISK_ON_VAULT}\n                isBalanceLoading={isBalanceLoading}\n                reloadBalance={loadData}\n                modalOpenHandle={() => setIsVisiable(true)}\n              />\n            </div>\n          </GridItem>\n        )}\n        {current === INVEST_TAB.account && (\n          <GridItem xs={9} sm={9} md={9}>\n            <div className={isLayoutSm ? classes.wrapperMobile : classes.wrapper} style={{ background: 'none', paddingTop: '1rem', paddingLeft: 0 }}>\n              <Card className={classes.balanceCard}>\n                <div className={classes.balanceCardItem}>\n                  <div className={classes.balanceCardValue}>\n                    <span\n                      title={formatBalance(netMarketMakingAmount, wantTokenDecimals, {\n                        showAll: true\n                      })}\n                    >\n                      <Loading loading={isBalanceLoading}>{formatBalance(netMarketMakingAmount, wantTokenDecimals)}</Loading>\n                    </span>\n                    <span className={classes.symbol}>\n                      <Loading loading={isEmpty(wantTokenSymbol) && isBalanceLoading}>{wantTokenSymbol}</Loading>\n                    </span>\n                    {userProvider && (\n                      <span title=\"Add token address to wallet\">\n                        <AddCircleOutlineIcon className={classes.addTokenIcon} onClick={handleAddToken} fontSize=\"small\" />\n                      </span>\n                    )}\n                  </div>\n                  <div className={classes.balanceCardLabel}>AVAILABLE BALANCE</div>\n                </div>\n              </Card>\n              {!isEmpty(address) && !isEmpty(personalVaultAddress) && (\n                <MyStatementForRiskOn\n                  userProvider={userProvider}\n                  VAULT_FACTORY_ABI={VAULT_FACTORY_ABI}\n                  personalVaultAddress={personalVaultAddress}\n                  wantTokenSymbol={wantTokenSymbol}\n                  VAULT_FACTORY_ADDRESS={VAULT_FACTORY_ADDRESS}\n                  UNISWAPV3_RISK_ON_VAULT={UNISWAPV3_RISK_ON_VAULT}\n                  UNISWAPV3_RISK_ON_HELPER={UNISWAPV3_RISK_ON_HELPER}\n                />\n              )}\n            </div>\n          </GridItem>\n        )}\n        <Modal className={classes.modal} open={isVisiable} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n          <Paper elevation={3}>\n            <MyVault\n              tokens={tokens}\n              address={address}\n              userProvider={userProvider}\n              VAULT_FACTORY_ADDRESS={VAULT_FACTORY_ADDRESS}\n              VAULT_FACTORY_ABI={VAULT_FACTORY_ABI}\n              vaultChangeHandle={(address, token) => {\n                setIsVisiable(false)\n                setPersonalVaultAddress(address)\n                setWantTokenForVault(token)\n              }}\n              modalCloseHandle={() => setIsVisiable(false)}\n            />\n          </Paper>\n        </Modal>\n      </GridContainer>\n    </div>\n  )\n}\n\nexport default useVersionWapper(Usdr, 'usdr')\n"],"sourceRoot":""}