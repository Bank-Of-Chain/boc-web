/*! For license information please see 14.158679a4.chunk.js.LICENSE.txt */
(this["webpackJsonpboc-web"]=this["webpackJsonpboc-web"]||[]).push([[14],{1054:function(e,t){var a=Array.prototype.reverse;e.exports=function(e){return null==e?e:a.call(e)}},1074:function(e,t,a){"use strict";var r=a(18),n=a(108),o=a(20),i=a(60),c=a(0),l=a.n(c),s=a(441),u=a(44),d=a.n(u),m=a(288),p=a(114),f=a(988),b=a(989),h=a(992),g=a.n(h),v=a(837),y=a(838),E=a(4),x=a(9),w=(a(450),a(17)),O=a(29),j=a(42),A=a(23);y.a.styles;var k=c.forwardRef((function(e,t){var a=e.children,r=e.classes,n=e.className,o=e.color,i=void 0===o?"default":o,l=e.component,s=void 0===l?"div":l,u=e.disabled,d=void 0!==u&&u,m=e.disableElevation,p=void 0!==m&&m,f=e.disableFocusRipple,b=void 0!==f&&f,h=e.disableRipple,g=void 0!==h&&h,v=e.fullWidth,y=void 0!==v&&v,j=e.orientation,A=void 0===j?"horizontal":j,k=e.size,S=void 0===k?"medium":k,C=e.variant,L=void 0===C?"outlined":C,T=Object(x.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),B=Object(w.a)(r.grouped,r["grouped".concat(Object(O.a)(A))],r["grouped".concat(Object(O.a)(L))],r["grouped".concat(Object(O.a)(L)).concat(Object(O.a)(A))],r["grouped".concat(Object(O.a)(L)).concat("default"!==i?Object(O.a)(i):"")],d&&r.disabled);return c.createElement(s,Object(E.a)({role:"group",className:Object(w.a)(r.root,n,y&&r.fullWidth,p&&r.disableElevation,"contained"===L&&r.contained,"vertical"===A&&r.vertical),ref:t},T),c.Children.map(a,(function(e){return c.isValidElement(e)?c.cloneElement(e,{className:Object(w.a)(B,e.props.className),color:e.props.color||i,disabled:e.props.disabled||d,disableElevation:e.props.disableElevation||p,disableFocusRipple:b,disableRipple:g,fullWidth:y,size:e.props.size||S,variant:e.props.variant||L}):null})))})),S=Object(A.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(j.c)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(j.c)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(k),C=a(1010),L=a(949),T=a(1011),B=a(889),N=a.n(B),D=a(990),F=a.n(D),R=a(94),I=a.n(R),_=a(1054),P=a.n(_),U=a(106),V=a.n(U),M=a(454),G=a.n(M),z=a(863),W=["DAY","WEEK","MONTH"],H=a(954),Y=a(955),X=a(991),Z=Object(s.a)(X.a),q=function(e){return'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'.concat(e,';"></span>')};t.a=function(e){var t=e.address,a=e.type,s=e.chain,u="USDi"===a,h=Z(),E=Object(c.useState)([]),x=Object(i.a)(E,2),w=x[0],O=x[1],j=Object(c.useState)(!1),A=Object(i.a)(j,2),k=A[0],B=A[1],D=Object(c.useState)("DAY"),R=Object(i.a)(D,2),_=R[0],U=R[1],M=Object(c.useState)({}),X=Object(i.a)(M,2),K=X[0],J=X[1],$=Object(c.useState)({}),Q=Object(i.a)($,2),ee=Q[0],te=Q[1],ae=Object(T.a)(s,a,t,a),re=ae.dataSource,ne=ae.loading,oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="WEEK"===_;if(t){var a=e.split("-"),r=Object(i.a)(a,2),n=r[1];return"No.".concat(n)}var o="MONTH"===_;if(o)return"".concat(N()(e).format("MMM"),".");var c="DAY"===_;if(c){var l=e.split("-"),s=Object(i.a)(l,3),u=s[1],d=s[2];return"".concat(u,"-").concat(d)}return e};Object(c.useEffect)((function(){V()(_)||(B(!0),Object(L.h)(t,s,a,_).then((function(e){O(I()(P()(e.profits),(function(e){return Object(o.a)(Object(o.a)({},e),{},{segmentTime:oe(e.segmentTime),value:1*e.profit})})))})).finally((function(){return setTimeout((function(){B(!1)}),500)})))}),[s,t,a,_]),Object(c.useEffect)((function(){var e=re.tvls,t=void 0===e?[]:e,a=P()(Object(n.a)(t)),r=G()(a,(function(e,t){return!(t<=2)&&(t===a.length||Math.abs(e.balance-a[t-1].balance)>.005*e.balance)})),o=-1===r?0:100.5-100*r/t.length,i=Object(C.a)(t,"balance",re.token,{format:"MM-DD",dataZoom:[{start:o,end:100}],xAxis:{axisTick:{alignWithLabel:!0}}});console.log("option1=",i),J(i)}),[re,t]),Object(c.useEffect)((function(){var e={title:{show:!0,textStyle:{color:"rgb(157 157 157)",fontSize:25},text:V()(w)?"No Data":"",left:"center",top:"center"},textStyle:{color:"#fff"},color:["#A68EFE","#5470c6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0],a="";return a+="".concat(t.name),a+="<br/>".concat(t.marker).concat(t.seriesName,": ").concat(Object(z.b)("".concat(t.value),1,u?Y.a:H.c)),"WEEK"===_&&(a+="<br/>".concat(q("#fff"),"Begin: ").concat(t.data.segmentBegin),a+="<br/>".concat(q("#fff"),"End: ").concat(t.data.segmentEnd)),a}},grid:{left:"3%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},xAxis:{data:I()(w,"segmentTime"),axisLine:{onZero:!0},splitLine:{show:!1},splitArea:{show:!1},axisTick:{alignWithLabel:!0}},yAxis:{splitLine:{lineStyle:{color:"#454459"}}},series:[{name:"Profits",type:"bar",data:w}]};te(e)}),[w,t]);var ie=re.day7Apy,ce=re.day30Apy,le=re.profit,se=re.latestProfit,ue=void 0===se?{profit:"0",tokenType:""}:se,de=[{title:"Profits",tip:l.a.createElement(v.a,{classes:{tooltip:h.tooltip},placement:"right",title:"Total profits from BoC that are withdrawable and cumulative."},l.a.createElement(g.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:F()(Object(z.b)(le,H.a,u?Y.a:H.b)).format(u?"0,0.[00]":"0,0.[0000]"),footer:l.a.createElement("span",null,"+".concat(F()(null===ue||void 0===ue?void 0:ue.profit).format(u?"0,0.[00]":"0,0.[000000]")," ").concat(null===ue||void 0===ue?void 0:ue.tokenType),"\xa0\xa0",l.a.createElement(v.a,{classes:{tooltip:h.tooltip},placement:"right",title:"Profits obtained each time after rebase."},l.a.createElement(g.a,{style:{fontSize:"0.875rem",color:"rgba(255,255,255,0.45)"}}))),unit:null===ue||void 0===ue?void 0:ue.tokenType},{title:"APY (last 7 days)",tip:l.a.createElement(v.a,{classes:{tooltip:h.tooltip},placement:"right",title:"Yield over the past week."},l.a.createElement(g.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:F()(null===ie||void 0===ie?void 0:ie.apy).format("0,0.00"),isAPY:!0,unit:"%"},{title:"APY (last 30 days)",tip:l.a.createElement(v.a,{classes:{tooltip:h.tooltip},placement:"right",title:"Yield over the past month."},l.a.createElement(g.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:F()(null===ce||void 0===ce?void 0:ce.apy).format("0,0.00"),isAPY:!0,unit:"%"}];return l.a.createElement(m.a,null,l.a.createElement(p.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(m.a,null,I()(de,(function(e,t){return l.a.createElement(p.a,{key:t,xs:12,sm:12,md:4,lg:4},l.a.createElement(f.a,e))}))),l.a.createElement(m.a,{className:h.lineChart},l.a.createElement(p.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(f.a,{loading:ne,title:l.a.createElement("span",null,u?"USDi":"ETHi"," variation curve",l.a.createElement(v.a,{title:"Curve of daily change in the total ".concat(u?"USDi":"ETHi"," held by the user.")},l.a.createElement(g.a,{style:{marginLeft:8,fontSize:"1rem"}}))),loadingOption:{width:"100%",height:"2rem"}},l.a.createElement(b.b,{option:K,style:{minHeight:"20rem"}})))),l.a.createElement(m.a,{className:h.barChart},l.a.createElement(p.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(f.a,{loading:k,title:"Profits",tip:l.a.createElement(S,{classes:{groupedOutlinedPrimary:h.groupedOutlinedPrimary},value:_,size:"small",color:"primary"},I()(W,(function(e,t){return l.a.createElement(y.a,{className:d()(Object(r.a)({},h.groupButtonCheck,e===_)),onClick:function(){return U(e)},key:t},e)}))),loadingOption:{width:"100%",height:"2rem"}},l.a.createElement(b.a,{option:ee,style:{minHeight:"20rem",width:"100%"}}))))))}},1662:function(e,t,a){"use strict";a.r(t);var r=a(60),n=a(0),o=a.n(n),i=a(44),c=a.n(i),l=a(441),s=a(841),u=a(1648),d=a(811),m=a(812),p=a(1651),f=a(1652),b=a(940),h=a.n(b),g=a(837),v=a(892),y=a.n(v),E=a(995),x=a.n(E),w=a(996),O=a.n(w),j=a(997),A=a.n(j),k=a(872),S=a(114),C=a(288),L=a(10),T=a(20),B=a(18),N=a(16),D=a(167),F=a(871),R=a.n(F),I=a(77),_=a(233),P=a.n(_),U=a(94),V=a.n(U),M=a(1024),G=a.n(M),z=a(1025),W=a.n(z),H=a(969),Y=a.n(H),X=a(888),Z=a.n(X),q=a(106),K=a.n(q),J=a(877),$=a.n(J),Q=a(889),ee=a.n(Q),te=a(948),ae=a(890),re=a(1647),ne=a(904),oe=a(905),ie=a(906),ce=a(907),le=a(1645),se=a(849),ue=a(851),de=a(810),me=a(884),pe=a(79),fe=a(86),be=a(863),he=a(32),ge=a(891),ve=a(19),ye=function(){return{container:ve.b,modal:{display:"flex",alignItems:"center",justifyContent:"center"},modalBody:{textAlign:"center"},depositContainer:{border:"1px solid #A68EFD",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",padding:"2.6875rem 2.25rem"},estimateContainer:{border:"1px solid #A68EFD",marginTop:"0.5rem",borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem",padding:"2.0625rem 2.6875rem"},estimateText:{color:"#A0A0A0",margin:0,display:"flex"},estimateBalanceTitle:{fontSize:"1.625rem"},estimateBalanceNum:{float:"right",fontSize:"1rem"},footerContainer:{marginTop:"2.5rem"},tokenInputWrapper:{marginBottom:"16px"},inputLabelWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"},input:{maxWidth:"12.5rem"},depositComfirmArea:{display:"flex",justifyContent:"space-between"},tokenInfo:{display:"flex",alignItems:"center"},tokenLogo:{width:30,borderRadius:"50%",marginRight:8},tokenName:{fontSize:"16px",color:"#A0A0A0"},flexText:{display:"inline-flex",justifyContent:"center",alignItems:"center"},ModalTokenLogo:{width:25,borderRadius:"50%",margin:"0 8px"},labelToolTipIcon:{fontSize:16},depositModal:{padding:"1rem",maxWidth:"500px",color:"rgba(255, 255, 255, 0.87)",border:"1px solid #A68EFE",backgroundColor:"#000",borderRadius:"1rem","&:active":{outline:"none"}},root:{padding:"1.5rem 0"},item:{paddingTop:"3rem"},subTitle:{color:"#A68EFE"}}};function Ee(){Ee=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof d?t:d,o=Object.create(n.prototype),i=new O(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return A()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function m(){}function p(){}var f={};c(f,n,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(j([])));h&&h!==t&&a.call(h,n)&&(f=h);var g=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(n,o){function i(){return new t((function(r,i){!function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,c(g,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),c(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new y(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),c(g,i,"Generator"),c(g,n,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var xe=N.a,we=Object(l.a)(ye),Oe="USDT",je="USDC",Ae="DAI",ke=["Step1: Deposit","Get USDi Ticket","Step2: Allocation Action","Get USDi"];function Se(e){var t,a=e.address,i=e.usdtBalance,c=e.usdtDecimals,l=e.usdcBalance,s=e.usdcDecimals,u=e.daiBalance,d=e.daiDecimals,m=e.usdiDecimals,p=e.userProvider,f=e.VAULT_ABI,b=e.VAULT_ADDRESS,h=e.vaultBufferBalance,v=e.vaultBufferDecimals,E=e.isBalanceLoading,x=e.minimumInvestmentAmount,w=we(),O=Object(I.b)(),j=Object(n.useState)(""),A=Object(r.a)(j,2),N=A[0],F=A[1],_=Object(n.useState)(""),U=Object(r.a)(_,2),M=U[0],z=U[1],H=Object(n.useState)(""),X=Object(r.a)(H,2),q=X[0],J=X[1],Q=Object(n.useState)(!1),ve=Object(r.a)(Q,2),ye=ve[0],Se=ve[1],Ce=Object(n.useState)(!1),Le=Object(r.a)(Ce,2),Te=Le[0],Be=Le[1],Ne=Object(n.useState)(!1),De=Object(r.a)(Ne,2),Fe=De[0],Re=De[1],Ie=Object(n.useState)(xe.from(0)),_e=Object(r.a)(Ie,2),Pe=_e[0],Ue=_e[1],Ve=Object(n.useRef)(),Me=Object(te.a)(),Ge=(t={},Object(B.a)(t,Oe,{value:N,balance:i,decimals:c}),Object(B.a)(t,je,{value:M,balance:l,decimals:s}),Object(B.a)(t,Ae,{value:q,balance:u,decimals:d}),t),ze=[Object(T.a)({name:Oe,address:he.w,image:"./images/0x55d398326f99059fF775485246999027B3197955.png",setValue:F,isValid:We(Oe)},Ge[Oe]),Object(T.a)({name:je,address:he.v,image:"./images/0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d.png",setValue:z,isValid:We(je)},Ge[je]),Object(T.a)({name:Ae,address:he.d,image:"./images/0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3.png",setValue:J,isValid:We(Ae)},Ge[Ae])];function We(e){var t=Ge[e],a=t.value,r=t.balance,n=t.decimals;if(""!==a&&"-"!==a&&"0"!==a&&!K()(a.replace(/ /g,""))){if(isNaN(Number(a)))return!1;var o=R()(a),i=o.multipliedBy(xe.from(10).pow(n).toString());return!i.lte(0)&&(-1===o.multipliedBy(xe.from(10).pow(n).toString()).toFixed().indexOf(".")&&!r.lt(xe.from(i.toFixed())))}}var He=function(){var e=We(Oe),t=We(je),a=We(Ae),r=[],n=[];if(e){var o=xe.from(R()(N).multipliedBy(xe.from(10).pow(c).toString()).toFixed());n.push(o),r.push(he.w)}if(t){var i=xe.from(R()(M).multipliedBy(xe.from(10).pow(s).toString()).toFixed());n.push(i),r.push(he.v)}if(a){var l=xe.from(R()(q).multipliedBy(xe.from(10).pow(d).toString()).toFixed());n.push(l),r.push(he.d)}return[r,n]},Ye=function(){var e=Object(L.a)(Ee().mark((function e(){var t,n,o,i,c,l,s,u,d,m,h,g,v,y,E,w,j;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(Ve.current),t=We(Oe),n=We(je),o=We(Ae),t||n||o){e.next=6;break}return e.abrupt("return",O(Object(fe.b)({open:!0,type:"warning",message:"Please enter the correct value"})));case 6:Se(!0),i=He(),c=Object(r.a)(i,2),l=c[0],s=c[1],console.log("nextTokens=",l,s),u=p.getSigner(),d=Ee().mark((function e(t){var r,n,o;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new D.b(l[t],he.i,p),n=r.connect(u),e.next=4,n.allowance(a,b);case 4:if(o=e.sent,!s[t].gt(o)){e.next=15;break}if(!o.gt(0)){e.next=12;break}return console.log("add allowance:",s[t].sub(o).toString()),e.next=10,n.increaseAllowance(b,s[t].sub(o)).then((function(e){return e.wait()})).catch((function(e){return 4001===e.code?(Se(!1),Promise.reject(e)):n.approve(b,0).then((function(e){return e.wait()})).then((function(){return n.approve(b,s[t]).then((function(e){return e.wait()}))}))}));case 10:e.next=15;break;case 12:return console.log("current allowance:",o.toString(),"next allowance:",s[t].toString()),e.next=15,n.approve(b,s[t]).then((function(e){return e.wait()})).catch((function(e){if(4001===e.code)return Se(!1),Promise.reject(e)}));case 15:case"end":return e.stop()}}),e)})),e.t0=Ee().keys(l);case 12:if((e.t1=e.t0()).done){e.next=17;break}return m=e.t1.value,e.delegateYield(d(m),"t2",15);case 15:e.next=12;break;case 17:if(h=new D.b(b,f,p),g=h.connect(u),v=!1,y={},!$()(he.o)||1===he.o){e.next=28;break}return e.next=24,g.estimateGas.mint(l,s,0);case 24:E=e.sent,w=Math.ceil(E*he.o),j=w<he.m?w:he.m,y.gasLimit=j;case 28:return e.next=30,g.mint(l,s,0,y).then((function(e){return e.wait()})).then((function(){v=!0})).catch((function(e){var t=Object(ae.a)(e),a="";Object(ae.d)(t)?a="Vault has been shut down, please try again later!":Object(ae.b)(t)?a="Vault is in adjustment status, please try again later!":Object(ae.i)(t)?a="Vault is in rebase status, please try again later!":Object(ae.c)(t)?a="Vault is in distributing, please try again later!":Object(ae.f)(t)&&(a="Deposit Amount must be greater than ".concat(Object(be.b)(x,ge.a,2),"USD!")),a&&O(Object(fe.b)({open:!0,type:"error",message:a})),Se(!1)}));case 30:v&&(F(""),z(""),J("")),Ve.current=setTimeout((function(){Se(!1),Re(!1),v&&O(Object(fe.b)({open:!0,type:"success",message:"Success!"}))}),2e3);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=Object(n.useCallback)(Z()(Object(L.a)(Ee().mark((function e(){var t,a,n,o,i,c,l,s,u,d;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=We(Oe),a=We(je),n=We(Ae),o=function(e){return!1===e},i=He(),c=Object(r.a)(i,2),l=c[0],s=c[1],!(o(t)||o(a)||o(n)||0===l.length)){e.next=9;break}return Ue(xe.from(0)),Be(!1),e.abrupt("return");case 9:return u=new D.b(b,f,p),e.next=12,u.estimateMint(l,s).catch((function(e){var t=Object(ae.a)(e),a="";return Object(ae.d)(t)?a="Vault has been shut down, please try again later!":Object(ae.b)(t)?a="Vault is in adjustment status, please try again later!":Object(ae.i)(t)?a="Vault is in rebase status, please try again later!":Object(ae.c)(t)?a="Vault is in distributing, please try again later!":Object(ae.f)(t)&&(a="Deposit Amount must be greater than ".concat(Object(be.b)(x,ge.a,2),"USD!")),a&&O(Object(fe.b)({open:!0,type:"error",message:a})),xe.from(0)}));case 12:d=e.sent,Ue(d),Be(!1);case 15:case"end":return e.stop()}}),e)}))),1500));Object(n.useEffect)((function(){return Xe(),function(){return Xe.cancel()}}),[M,N,q]);var Ze=!K()(p);return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{classes:{root:w.depositContainer}},o.a.createElement("p",{className:w.estimateText},"From"),V()(ze,(function(e){return o.a.createElement(S.a,{key:e.name,xs:12,sm:12,md:12,lg:12,className:w.tokenInputWrapper},o.a.createElement(C.a,null,o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:w.inputLabelWrapper},o.a.createElement("div",{className:w.tokenInfo},o.a.createElement("img",{className:w.tokenLogo,alt:"",src:e.image}),o.a.createElement("span",{className:w.tokenName},e.name)),o.a.createElement(me.a,{classes:{root:w.input},value:e.value,onChange:function(t){return function(e,t){try{Be(!0),t.setValue(e.target.value)}catch(a){t.setValue("")}}(t,e)},placeholder:"deposit amount",maxEndAdornment:!0,onMaxClick:function(){return function(e){e.setValue(Object(be.a)(e.balance,e.decimals,{showAll:!0}))}(e)},error:!P()(e.isValid)&&!e.isValid}))),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:w.estimateText,title:Object(be.a)(e.balance,e.decimals,{showAll:!0})},"Balance:\xa0\xa0",o.a.createElement(k.a,{loading:E},Object(be.a)(e.balance,e.decimals))))))}))),o.a.createElement(C.a,{classes:{root:w.estimateContainer}},o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:w.estimateText},"To"),o.a.createElement("p",{className:w.estimateBalanceTitle},"USDi Ticket:",o.a.createElement("span",{className:w.estimateBalanceNum},o.a.createElement(k.a,{loading:Te},Object(be.b)(Pe,xe.from(10).pow(m))))),o.a.createElement("p",{className:w.estimateText},"Balance:\xa0\xa0",o.a.createElement("span",null,o.a.createElement(k.a,{loading:E},Object(be.a)(h,v)))))),o.a.createElement(C.a,null,o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:w.footerContainer},o.a.createElement(pe.a,{disabled:!Ze||Ze&&(G()(ze,(function(e){return!1===We(e.name)}))||W()(ze,(function(e){return!0!==We(e.name)}))),color:"colorfull",onClick:function(){Re(!0)},style:{width:"100%"}},"Deposit")))),o.a.createElement(ue.a,{className:w.modal,open:Fe,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement(de.a,{elevation:3,className:w.depositModal},o.a.createElement(ne.a,{classes:{root:w.root},alternativeLabel:!0,activeStep:1,connector:o.a.createElement(ce.a,null)},V()(ke,(function(e,t){return o.a.createElement(re.a,{key:t},o.a.createElement(oe.a,{StepIconComponent:ie.a},e))}))),o.a.createElement(C.a,null,o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12,className:w.item},o.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0,className:w.subTitle},"Deposit Amounts:\xa0",Y()(V()(ze,(function(e){var t=e.name,a=e.value,r=e.image,n=e.isValid,i=e.address;if(n)return o.a.createElement("span",{key:i,className:w.flexText},o.a.createElement("span",{style:{color:"chocolate",marginRight:5}},a)," ",t,"\xa0",o.a.createElement("img",{className:w.ModalTokenLogo,alt:"",src:r}))})),(function(e,t,a){return K()(t)||(K()(e)||e.push(o.a.createElement("span",{key:a}," + ")),e.push(t)),e}),[]))),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12,className:w.item},o.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0,className:w.subTitle},"Estimate User Get:\xa0",o.a.createElement("span",{style:{color:"darkturquoise"}},"\xa0 + ",Object(be.b)(Pe,xe.from(10).pow(m)),"\xa0"),"\xa0 USDi Tickets")),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12,className:w.item},o.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0,className:w.subTitle},"Exchange\xa0",o.a.createElement(g.a,{classes:{tooltip:w.tooltip},placement:"top",title:"Estimated amount of USDi that can be exchanged"},o.a.createElement(y.a,{classes:{root:w.labelToolTipIcon}})),":\xa0From\xa0",o.a.createElement("span",{style:{color:"chocolate"}},Object(be.b)(Pe,xe.from(10).pow(m))),"\xa0 USDi Tickets ",o.a.createElement("span",{style:{fontWeight:"bold",color:"dimgrey"}},"To"),"\xa0",o.a.createElement("span",{style:{color:"darkturquoise"}},o.a.createElement(k.a,{loading:Te},Object(be.b)(Pe.mul(9987).div(1e4),xe.from(10).pow(m),2))),"\xa0 USDi")),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12,className:w.item},o.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0,className:w.subTitle},"Exchange Time\xa0",o.a.createElement(g.a,{classes:{tooltip:w.tooltip},placement:"top",title:"The latest planned execution date may not be executed due to cost and other factors"},o.a.createElement(y.a,{classes:{root:w.labelToolTipIcon}})),":\xa0",o.a.createElement("span",{style:{color:"chocolate"}},ee()(Me).format("YYYY-MM-DD HH:mm:ss")))),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12,className:w.item,style:{textAlign:"center"}},o.a.createElement(pe.a,{color:"colorfull",onClick:Ye,style:{width:"50%"}},"Continue"),o.a.createElement(pe.a,{style:{marginLeft:20},color:"danger",onClick:function(){return Re(!1)}},"Cancel"))))),o.a.createElement(ue.a,{className:w.modal,open:ye,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement(de.a,{elevation:3,className:w.depositModal},o.a.createElement("div",{className:w.modalBody},o.a.createElement(se.a,{color:"inherit"}),o.a.createElement("p",null,"On Deposit...")))))}var Ce=a(108),Le=a(985),Te=a.n(Le),Be=a(939),Ne=a.n(Be),De=a(987),Fe=a.n(De),Re=a(1673),Ie=a(1250),_e=a(1646),Pe=a(986),Ue=a.n(Pe),Ve=a(1008),Me=a(291),Ge=a(984),ze=a(150),We=a.n(ze),He=a(931),Ye=a.n(He),Xe=function(){return{container:ve.b,switchBar:{backgroundColor:"#91d5ff !important"},img:{width:"25px"},switchBase:{color:"#ddd"},switchChecked:{color:"#40a9ff"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},modalBody:{textAlign:"center"},swapBody:{width:"42rem",outline:0},withdrawContainer:{padding:"2.6875rem 2.25rem",border:"1px solid #A68EFD",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},outputContainer:{padding:"2.6875rem 2.25rem",border:"1px solid #A68EFD",marginTop:"0.5rem",borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem"},estimateText:{height:"1.25rem",color:"#A0A0A0",margin:0,display:"flex",marginTop:"0.5rem",alignItems:"center"},input:{maxWidth:"12.5rem"},footerContainer:{marginTop:"2.5rem"},inputLabelWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectorlWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 0"},depositComfirmArea:{display:"flex",justifyContent:"space-between"},tokenInfo:{display:"flex",alignItems:"center"},receiveTokenItem:{marginBottom:0},settingBtn:{color:"#39d0d8",textAlign:"right",lineHeight:"36px",padding:"10px 0",marginRight:"16px"},settingTitle:{color:"#fff",fontSize:16,letterSpacing:"0.01071em",lineHeight:1.5,textAlign:"center",width:"100%"},settingItem:{height:38,lineHeight:"38px",marginBottom:16,"&:first-child":{marginTop:24}},settingItemLabel:{position:"relative",minWidth:100,marginRight:16,textAlign:"right"},mutedLabel:{position:"relative",display:"inline-block"},maxLossFormCtrl:{width:"160px"},exchanged:{position:"relative",paddingLeft:16},tooltip:{fontSize:"14px"},slippageItem:{display:"flex",alignItems:"center"},slippageInput:{width:96,marginLeft:16},widthdrawLoadingPaper:{padding:"1rem",maxWidth:"500px",color:"rgba(255, 255, 255, 0.87)",border:"1px solid #A68EFE",backgroundColor:"#000",borderRadius:"1rem",width:"100%"},root:{padding:"1.5rem 0"},setting:{position:"absolute",right:"1rem",top:"1rem",cursor:"pointer"},popover:{width:"15rem",background:"#292B2E",border:" 1px solid #666666",borderRadius:"1.25rem",padding:"1rem"},popoverTitle:{color:"#A0A0A0",margin:0,padding:"0.5rem 0"},estimateItem:{textAlign:"center",minHeight:"100px",color:"#A0A0A0",paddingTop:"35px"},tokenName:{fontSize:"1.625rem"}}};function Ze(){Ze=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof d?t:d,o=Object.create(n.prototype),i=new O(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return A()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=E(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function m(){}function p(){}var f={};c(f,n,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(j([])));h&&h!==t&&a.call(h,n)&&(f=h);var g=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(n,o){function i(){return new t((function(r,i){!function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,c(g,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),c(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new y(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(g),c(g,i,"Generator"),c(g,n,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var qe=N.a,Ke=Object(l.a)(Xe),Je=[{title:"Shares Validation"},{title:"Gas Estimates"},{title:"Withdraw"}];function $e(e){var t=e.address,a=e.toBalance,i=e.usdiDecimals,c=e.userProvider,l=e.VAULT_ADDRESS,s=e.VAULT_ABI,u=e.EXCHANGE_AGGREGATOR_ABI,d=e.exchangeManager,m=e.EXCHANGE_ADAPTER_ABI,p=e.isBalanceLoading,f=e.reloadBalance,b=Ke(),h=Object(I.b)(),v=Object(n.useState)("Mix"),E=Object(r.a)(v,2),x=E[0],w=E[1],O=Object(n.useState)(""),j=Object(r.a)(O,2),A=j[0],T=j[1],B=Object(n.useState)("0.3"),N=Object(r.a)(B,2),F=N[0],_=N[1],U=Object(n.useState)("0.3"),M=Object(r.a)(U,2),G=M[0],z=M[1],W=Object(n.useState)([]),H=Object(r.a)(W,2),Y=H[0],X=H[1],q=Object(n.useState)(!1),J=Object(r.a)(q,2),Q=J[0],ee=J[1],te=Object(n.useState)(!1),le=Object(r.a)(te,2),ve=le[0],ye=le[1],Ee=Object(n.useState)(0),xe=Object(r.a)(Ee,2),we=xe[0],Oe=xe[1],je=Object(n.useState)({}),Ae=Object(r.a)(je,2),ke=Ae[0],Se=Ae[1],Le=Object(n.useState)([]),Be=Object(r.a)(Le,2),De=Be[0],ze=Be[1],He=Object(n.useState)(!1),Xe=Object(r.a)(He,2),$e=Xe[0],Qe=Xe[1],et=Object(n.useState)(ge.a),tt=Object(r.a)(et,2),at=tt[0],rt=tt[1],nt=Object(Ge.a)({userProvider:c,VAULT_ADDRESS:l,VAULT_ABI:s}).value.toNumber()/100,ot="Mix"!==x,it=ot?x:he.w,ct=Object(n.useCallback)(Z()(Object(L.a)(Ze().mark((function e(){var t,a,n,o,u,d,m,p,f,b,g,v,y;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),t=new D.b(l,s,c),a=qe.from(R()(A).multipliedBy(qe.from(10).pow(i).toString()).toFixed()),n=a.mul(at).div(ge.a.toFixed()),o=qe.from(1e4-parseInt(100*(parseFloat(F)+nt))).mul(n).div(qe.from(1e4)),u=c.getSigner(),d=t.connect(u),e.prev=7,e.next=10,d.callStatic.burn(a,o);case 10:return m=e.sent,p=Object(r.a)(m,2),f=p[0],b=p[1],console.log("tokens, amounts=",f,V()(b,(function(e){return e.toString()}))),e.t0=Ye.a,e.next=18,Promise.all(V()(f,function(){var e=Object(L.a)(Ze().mark((function e(t,a){var r,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new D.b(t,he.i,c),!(n=We()(b,a,qe.from(0))).gt(0)){e.next=9;break}return e.t0=t,e.next=6,r.decimals();case 6:return e.t1=e.sent,e.t2=n,e.abrupt("return",{tokenAddress:e.t0,decimals:e.t1,amounts:e.t2});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 18:e.t1=e.sent,g=(0,e.t0)(e.t1),X(g),e.next=31;break;case 23:e.prev=23,e.t2=e.catch(7),console.log("estimate withdraw error",e.t2),v=Object(ae.a)(e.t2),y="",y=Object(ae.d)(v)?"Vault has been shut down, please try again later!":Object(ae.b)(v)?"Vault is in adjustment status, please try again later!":Object(ae.i)(v)?"Vault is in rebase status, please try again later!":Object(ae.h)(v)?"Failed to withdraw, please increase the Max Loss!":Object(ae.g)(v)?"Failed to exchange, please increase the exchange slippage or choose mixed token!":Object(ae.e)(v)?"Failed to exchange, Please try again later or choose mixed token!":v,h(Object(fe.b)({open:!0,type:"error",message:y})),X(void 0);case 31:return e.prev=31,setTimeout((function(){ee(!1)}),500),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[7,23,31,34]])}))),1500)),lt=function(e,t,a,r,n,o){return console.log("handleBurn"),console.log("tokens",n),console.log("amounts",o.map((function(e){return e.toString()}))),Promise.all(V()(n,function(){var e=Object(L.a)(Ze().mark((function e(t,a){var r,n,i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new D.b(t,he.i,c),e.next=3,r.decimals();case 3:if(n=e.sent,i=o[a],!qe.from(10).pow(n).gt(i)){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",{address:t,amount:Object(be.b)(o[a],1)});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then((function(e){var t=Ye()(e);K()(t)||(ze(t),Qe(!0))}))},st=function(){var e=Object(L.a)(Ze().mark((function e(){var t,a,r,n,o,u,d,m,p,f,b,g,v,y,E,x,w,O,j,k,S,C,L,B,N,I,_,P,U,V,M,G,z,W,H,Y;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Date.now(),a=0,r=0,n=0,o=0,u=0,d=0,ye(!0),console.log("----------start withdraw----------"),dt()){e.next=5;break}return e.abrupt("return",Se({type:"warning",message:"Please enter the correct value."}));case 5:if(mt()){e.next=7;break}return e.abrupt("return",Se({type:"warning",message:"Enter the correct Max Loss value."}));case 7:if(!ot||pt()){e.next=9;break}return e.abrupt("return",Se({type:"warning",message:"Please enter the correct slippage value."}));case 9:if(a=Date.now(),Oe(1),m=new D.b(l,s,c),p=c.getSigner(),f=qe.from(R()(A).multipliedBy(qe.from(10).pow(i).toString()).toFixed()),b=f.mul(at).div(ge.a.toFixed()),g=qe.from(1e4-parseInt(100*(parseFloat(F)+nt))).mul(b).div(qe.from(1e4)),e.prev=16,v=m.connect(p),n=Date.now(),Oe(2),!$()(he.o)||1===he.o){e.next=33;break}return e.next=23,v.estimateGas.burn(f,g);case 23:return E=e.sent,Oe(3),o=Date.now(),x=Math.ceil(E*he.o),w=x<he.m?x:he.m,e.next=30,v.burn(f,g,{gasLimit:w});case 30:y=e.sent,e.next=36;break;case 33:return e.next=35,v.burn(f,g);case 35:y=e.sent;case 36:return u=Date.now(),e.next=39,y.wait();case 39:O=e.sent,j=O.events,k=[],S=j.length-1;case 43:if(!(S>=0)){e.next=50;break}if("Burn"!==j[S].event){e.next=47;break}return k=j[S].args,e.abrupt("break",50);case 47:S--,e.next=43;break;case 50:lt.apply(void 0,Object(Ce.a)(k)),d=Date.now(),Oe(4),T(""),h(Object(fe.b)({open:!0,type:"success",message:"Success!"})),e.next=64;break;case 57:e.prev=57,e.t0=e.catch(16),console.log("withdraw original error :",e.t0),C=Object(ae.a)(e.t0),L="",L=Object(ae.d)(C)?"Vault has been shut down, please try again later!":Object(ae.b)(C)?"Vault is in adjustment status, please try again later!":Object(ae.i)(C)?"Vault is in rebase status, please try again later!":Object(ae.h)(C)?"Failed to withdraw, please increase the Max Loss!":Object(ae.g)(C)?"Failed to exchange, please increase the exchange slippage or choose mixed token!":Object(ae.e)(C)?"Failed to exchange, Please try again later or choose mixed token!":C,h(Object(fe.b)({open:!0,type:"error",message:L}));case 64:setTimeout((function(){ye(!1),Se({}),Oe(0)}),2e3),I=(100*(N=a-t)/(B=d-t)).toFixed(2),P=(100*(_=0===r?0:r-a)/B).toFixed(2),V=(100*(U=0===r?n-a:n-r)/B).toFixed(2),G=(100*(M=0===o?0:o-n)/B).toFixed(2),W=(100*(z=0===o?u-n:u-o)/B).toFixed(2),Y=(100*(H=d-u)/B).toFixed(2),console.table({valid:"".concat(N,"(").concat(I,"%)"),preWithdraw:"".concat(_,"(").concat(P,"%)"),getSwapPath:"".concat(U,"(").concat(V,"%)"),estimateGas:"".concat(M,"(").concat(G,"%)"),withdraw:"".concat(z,"(").concat(W,"%)"),transaction:"".concat(H,"(").concat(Y,"%)")});case 79:case"end":return e.stop()}}),e,null,[[16,57]])})));return function(){return e.apply(this,arguments)}}();function ut(e){var t=e;(t.srcElement?t.srcElement:t.target).src="/default.png"}var dt=function(){if(""!==A&&"-"!==A&&!K()(A.replace(/ /g,""))){if(isNaN(Number(A)))return!1;var e=R()(A),t=e.multipliedBy(qe.from(10).pow(i).toString());return!t.lte(0)&&(-1===e.multipliedBy(qe.from(10).pow(i).toString()).toFixed().indexOf(".")&&!a.lt(qe.from(t.toFixed())))}},mt=function(){if(""!==F&&!K()(F.replace(/ /g,"")))return!isNaN(F)&&!(F<0||F>50)},pt=function(){if(""!==G&&!K()(G.replace(/ /g,"")))return!isNaN(G)&&!(G<0||G>45)};Object(n.useEffect)((function(){return mt()&&pt()&&dt()&&ct(),K()(A)&&(X([]),ee(!1)),function(){return X([]),ct.cancel()}}),[A,F,G,ot,it]);var ft=function(){var e=Object(L.a)(Ze().mark((function e(){var t,a,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,a=Object(r.a)(t,1),n=a[0],T(Object(be.a)(n,i,{showAll:!0}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=[{label:"USDT",value:he.w||"USDT",img:"./images/0x55d398326f99059fF775485246999027B3197955.png"},{label:"USDC",value:he.v||"USDC",img:"./images/0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d.png"},{label:"DAI",value:he.d||"DAI",img:"./images/0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3.png"},{label:"Mix",value:"Mix",img:["./images/0x55d398326f99059fF775485246999027B3197955.png","./images/0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d.png","./images/0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3.png"]}],ht=dt(),gt=mt(),vt=!K()(c);return Object(n.useEffect)((function(){if(!(K()(t)||K()(l)||K()(s))){var e=setInterval(function e(){return new D.b(l,s,c).getPegTokenPrice().then((function(e){setTimeout((function(){rt(e)}),500)})),e}(),1e4);return function(){return clearInterval(e)}}}),[t,l,s]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:b.setting},o.a.createElement(Ue.a,{variant:"popover",popupId:"setting-popover"},(function(e){return o.a.createElement("div",null,o.a.createElement("svg",Object.assign({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(Pe.bindTrigger)(e)),o.a.createElement("path",{d:"M15 20.625C18.1066 20.625 20.625 18.1066 20.625 15C20.625 11.8934 18.1066 9.375 15 9.375C11.8934 9.375 9.375 11.8934 9.375 15C9.375 18.1066 11.8934 20.625 15 20.625Z",stroke:"#A0A0A0",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M21.5273 7.62891C21.8242 7.90234 22.1055 8.18359 22.3711 8.47266L25.5703 8.92969C26.0916 9.83497 26.4934 10.804 26.7656 11.8125L24.8203 14.4023C24.8203 14.4023 24.8555 15.1992 24.8203 15.5977L26.7656 18.1875C26.4946 19.1965 26.0928 20.1656 25.5703 21.0703L22.3711 21.5273C22.3711 21.5273 21.8203 22.1016 21.5273 22.3711L21.0703 25.5703C20.165 26.0916 19.196 26.4934 18.1875 26.7656L15.5977 24.8203C15.2 24.8555 14.8 24.8555 14.4023 24.8203L11.8125 26.7656C10.8035 26.4946 9.83438 26.0928 8.92969 25.5703L8.47266 22.3711C8.18359 22.0977 7.90234 21.8164 7.62891 21.5273L4.42969 21.0703C3.90842 20.165 3.50663 19.196 3.23438 18.1875L5.17969 15.5977C5.17969 15.5977 5.14453 14.8008 5.17969 14.4023L3.23438 11.8125C3.50537 10.8035 3.90722 9.83438 4.42969 8.92969L7.62891 8.47266C7.90234 8.18359 8.18359 7.90234 8.47266 7.62891L8.92969 4.42969C9.83497 3.90842 10.804 3.50663 11.8125 3.23438L14.4023 5.17969C14.8 5.14452 15.2 5.14452 15.5977 5.17969L18.1875 3.23438C19.1965 3.50537 20.1656 3.90722 21.0703 4.42969L21.5273 7.62891Z",stroke:"#A0A0A0",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round"})),o.a.createElement(_e.a,Object.assign({classes:{paper:b.popover}},Object(Pe.bindPopover)(e),{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}}),o.a.createElement(Re.a,{p:2},o.a.createElement(C.a,null,o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:b.popoverTitle},"Max Loss"),o.a.createElement(me.a,{classes:{root:b.input},value:F,placeholder:"Allow loss percent",maxEndAdornment:!0,onMaxClick:function(){return _("50")},onChange:function(e){var t=e.target.value;_(t)},error:!P()(gt)&&!gt}))))))}))),o.a.createElement(C.a,{className:b.withdrawContainer},o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:b.estimateText},"From")),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.inputLabelWrapper},o.a.createElement("div",{className:b.tokenInfo},o.a.createElement("span",{className:b.tokenName},"USDi")),o.a.createElement(me.a,{classes:{root:b.input},value:A,placeholder:"withdraw amount",maxEndAdornment:!0,onMaxClick:function(){return ft()},onChange:function(e){try{T(e.target.value)}catch(t){T("")}},error:!P()(ht)&&!ht&&"0"!==A}))),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:b.estimateText,title:Object(be.a)(a,i,{showAll:!0})},"Balance:\xa0",o.a.createElement(k.a,{loading:p},Object(be.a)(a,i)))),t&&o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:b.estimateText,title:Object(be.b)(at,ge.a)},o.a.createElement("span",null,"1 USDi \u2248 ",Object(be.b)(at,ge.a,6)," USD")))),o.a.createElement(C.a,{className:b.outputContainer},o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("p",{className:b.estimateText},"To")),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.selectorlWrapper},o.a.createElement(Ie.a,{disabled:!0,value:x,onChange:function(e){w(e)},options:bt}),o.a.createElement("p",{className:b.estimateText},"Mix"===x&&o.a.createElement(g.a,{classes:{tooltip:b.tooltip},placement:"top",title:"Mix mode will return a variety of coins, such as USDT/USDC/TUSD/BUSD, etc."},o.a.createElement(y.a,null))))),o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement(C.a,null,Q?o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.estimateItem},o.a.createElement(se.a,{fontSize:"large"}),o.a.createElement("p",null,"loading..."))):P()(Y)?o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.estimateItem},o.a.createElement(Te.a,{fontSize:"large"}),o.a.createElement("p",null,"Amount estimate failed, please try again!"))):K()(Y)||K()(A)?o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.estimateItem},o.a.createElement("p",{style:{fontSize:26,textAlign:"right"}},"0.00"))):V()(Y,(function(e){return o.a.createElement(S.a,{key:e.tokenAddress,xs:12,sm:12,md:6,lg:6},o.a.createElement(pe.a,{title:"Add token address to wallet",color:"transparent",target:"_blank",style:{fontSize:"1rem",color:"#A0A0A0"},onClick:function(){return Object(Me.a)(e.tokenAddress)}},o.a.createElement(Ne.a,{fontSize:"small",style:{position:"absolute",top:25,left:45}}),o.a.createElement("img",{className:b.img,style:{borderRadius:"50%"},alt:"",src:"./images/".concat(e.tokenAddress,".png"),onError:ut}),"\xa0\xa0~\xa0",Object(be.b)(e.amounts,qe.from(10).pow(e.decimals),6)))}))))),o.a.createElement(C.a,null,o.a.createElement(S.a,{xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{className:b.footerContainer},o.a.createElement(pe.a,{disabled:!vt||vt&&(P()(ht)||!ht),color:"colorfull",onClick:st,style:{width:"100%"}},"Withdraw",o.a.createElement(g.a,{classes:{tooltip:b.tooltip},placement:"top",title:"".concat(nt,"% withdrawal fee of the principal.")},o.a.createElement(y.a,{style:{marginLeft:"0.5rem"}})))))),o.a.createElement(ue.a,{className:b.modal,open:ve,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement(de.a,{elevation:3,className:b.widthdrawLoadingPaper},o.a.createElement("div",{className:b.modalBody},K()(ke)&&o.a.createElement(se.a,{color:"inherit"}),K()(ke)?o.a.createElement("p",null,"In Withdrawing..."):o.a.createElement("p",null,"Withdraw Error !"),o.a.createElement(ne.a,{classes:{root:b.root},alternativeLabel:!0,activeStep:we,connector:o.a.createElement(ce.a,null)},V()(Je,(function(e,t){return o.a.createElement(re.a,{key:t},o.a.createElement(oe.a,{StepIconComponent:ie.a},e.title))}))),!K()(ke)&&o.a.createElement("p",{style:{color:"error"===ke.type?"red":"yellow"}},o.a.createElement(Fe.a,{style:{verticalAlign:"bottom"}}),"\xa0\xa0\xa0",ke.message),o.a.createElement(pe.a,{color:"danger",onClick:function(){ye(!1),Se({}),Oe(0)}},"Cancel")))),o.a.createElement(ue.a,{className:b.modal,open:$e&&!!t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{className:b.swapBody},!K()(t)&&!K()(d)&&o.a.createElement(Ve.a,{address:t,tokens:De,userProvider:c,exchangeManager:d,EXCHANGE_ADAPTER_ABI:m,EXCHANGE_AGGREGATOR_ABI:u,slippage:G,onSlippageChange:z,handleClose:function(){return Qe(!1)}}))))}var Qe=a(1074),et=a(183),tt=a(296),at=a(993),rt=a.n(at),nt=a(149),ot=a.n(nt),it=a(1009),ct=a(994),lt=a(917),st=function(e){var t;return{container:Object(T.a)({zIndex:"12",color:"#FFFFFF",marginTop:65,marginBottom:100},ve.b),center:(t={justifyContent:"center",padding:"50px 72px 50px",backgroundColor:"#0c0735cc"},Object(B.a)(t,e.breakpoints.down("md"),{padding:"50px 16px 50px"}),Object(B.a)(t,"margin",0),t),wrapper:{padding:"5rem 3rem",borderRadius:"1.25rem",background:"linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)"},wrapperMobile:{padding:"3rem 2rem",borderRadius:"1.25rem",background:"linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)"},deposit:{padding:"1rem",border:"1px solid #F4ACF3",borderTopLeftRadius:"1.25rem",borderTopRightRadius:"1.25rem"},symbol:Object(T.a)({color:"#A68EFD",marginLeft:"1rem"},lt.a),balance:{marginTop:"0.5rem",marginBottom:"2rem",padding:"1rem",border:"1px solid #F4ACF3",borderBottomLeftRadius:"1.25rem",borderBottomRightRadius:"1.25rem"},footer:{},item:{color:"#fff",marginBottom:20,"& .MuiListItemIcon-root":{minWidth:"38px"}},centerItem:{width:"630px"},balanceCard:{position:"relative",display:"flex",margin:"0 1rem 1rem 0",alignItems:"center",justifyContent:"flex-start",textAlign:"left",padding:"2.8125rem 2.4375rem",background:"#323338",color:"#fff",borderRadius:"1.25rem"},check:{color:"#A68EFE"},balanceCardValue:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:30,lineHeight:"30px",fontSize:26,fontWeight:"bold",color:"#fff",marginBottom:8},balanceCardLabel:{color:"#b2add1",fontSize:14},tokenInfo:{display:"flex",position:"absolute",right:12,top:9},addTokenIcon:{cursor:"pointer",marginLeft:"1rem",display:"flex"},scanToken:{width:24,height:"auto",cursor:"pointer",borderRadius:"50%",backgroundColor:"#fff"},hidden:{display:"none"},brand:{color:"#FFFFFF",textAlign:"left"},title:{fontSize:"4.2rem",fontWeight:"600",display:"inline-block",position:"relative"},subtitle:{fontSize:"1.313rem",width:"auto",margin:"10px 0 0"},main:{position:"relative",backgroundColor:"transparent"},mainRaised:{margin:"0 auto",marginTop:65},link:{textDecoration:"none"},textCenter:{textAlign:"center"},switchBar:{backgroundColor:"#91d5ff !important"},img:{width:"25px"},radioUnchecked:{width:"0px",height:"0px",padding:"7px",border:"1px solid #fff",borderRadius:"50%"},radioChecked:{width:"16px",height:"16px",border:"1px solid #fff",borderRadius:"50%"},radioRoot:{padding:"12px","&:hover":{backgroundColor:"unset"}},radio:{color:"#fff !important"},investCard:{padding:"20px 24px",borderRadius:6,backgroundColor:"rgba(39, 31, 114, 0.8)",overflow:"visible"},table:{backgroundColor:"#150752",border:"1px solid rgb(222, 217, 213)"},tableCell:{color:"#fff",fontSize:"12px",letterSpacing:"0.01071em"},switchBase:{color:"#ddd"},switchChecked:{color:"#40a9ff"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},modalBody:{textAlign:"center"},stepContainer:{padding:20},stepItem:{color:"#fff"},tabsRoot:{padding:"0 20px"},tabsIndicator:{backgroundColor:"transparent",display:"flex",justifyContent:"center","& > span":{maxWidth:120,width:"100%",backgroundColor:"#fff"}},tabTextColor:{color:"#fff"},tabRoot:{width:"50%",fontSize:"16px",maxWidth:"none"},detailWrapper:{margin:"42px 0 0 0"},slider:{position:"absolute",top:"50px",left:"calc(50% - 33rem)",backgroundColor:"#271f72",color:"azure"},text:{color:"azure"},spliter:{display:"flex",justifyContent:"center",bottom:0,height:2,position:"absolute",transition:"all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"54%",backgroundColor:"#fff"}}},ut=Object(l.a)(st),dt=N.a;t.default=Object(it.a)((function(e){var t=ut(),a=Object(I.b)(),i=Object(s.a)("(max-width: 960px)"),l=e.address,b=e.userProvider,v=e.VAULT_ADDRESS,E=e.VAULT_ABI,w=e.USDI_ADDRESS,j=e.EXCHANGE_AGGREGATOR_ABI,L=e.EXCHANGE_ADAPTER_ABI,T=e.VAULT_BUFFER_ADDRESS,B=e.VAULT_BUFFER_ABI,N=e.abi_version,F=Object(n.useState)(dt.from(0)),R=Object(r.a)(F,2),_=R[0],P=R[1],U=Object(n.useState)(0),V=Object(r.a)(U,2),M=V[0],G=V[1],z=Object(n.useState)(dt.from(0)),W=Object(r.a)(z,2),H=W[0],Y=W[1],X=Object(n.useState)(0),Z=Object(r.a)(X,2),q=Z[0],J=Z[1],$=Object(n.useState)(dt.from(0)),Q=Object(r.a)($,2),ae=Q[0],re=Q[1],ne=Object(n.useState)(0),oe=Object(r.a)(ne,2),ie=oe[0],ce=oe[1],le=Object(n.useState)(0),se=Object(r.a)(le,2),ue=se[0],de=se[1],me=Object(n.useState)(dt.from(0)),pe=Object(r.a)(me,2),ge=pe[0],ve=pe[1],ye=Object(n.useState)(dt.from(0)),Ee=Object(r.a)(ye,2),xe=Ee[0],we=Ee[1],Oe=Object(n.useState)(dt.from(0)),je=Object(r.a)(Oe,2),Ae=je[0],ke=je[1],Ce=Object(n.useState)(dt.from(0)),Le=Object(r.a)(Ce,2),Te=Le[0],Be=Le[1],Ne=Object(n.useState)(0),De=Object(r.a)(Ne,2),Fe=De[0],Re=De[1],Ie=Object(n.useState)(!1),_e=Object(r.a)(Ie,2),Pe=_e[0],Ue=_e[1],Ve=Object(I.c)((function(e){return e.investReducer.currentTab})),Ge=function(e){Ze(),a(Object(et.b)(e))},ze=Object(te.a)(),We=Object(ct.a)(v,E,b),He=We.minimumInvestmentAmount,Ye=We.exchangeManager,Xe=function(){if(!(K()(l)||K()(w)||K()(T))){var e=new D.b(he.w,he.i,b),t=new D.b(he.v,he.i,b),r=new D.b(he.d,he.i,b),n=new D.b(w,he.i,b);new D.b(T,B,b).decimals().then(Re).catch((function(){return Re(1)})),Promise.all([Ze(),Je().then((function(e){ke(e)})).catch(ot.a),e.decimals().then(G),t.decimals().then(J),r.decimals().then(ce),n.decimals().then(de).catch((function(){return de(1)}))]).catch((function(){a(Object(fe.b)({open:!0,type:"warning",message:"Please confirm wallet's network!"}))}))}},Ze=function(){if(!(K()(l)||K()(T)||K()(w))){Ue(!0);var e=new D.b(he.w,he.i,b),t=new D.b(he.v,he.i,b),a=new D.b(he.d,he.i,b),n=new D.b(w,he.i,b),o=new D.b(T,B,b);return Promise.all([n.balanceOf(l).catch((function(){return dt.from(0)})),e.balanceOf(l),t.balanceOf(l),a.balanceOf(l),o.balanceOf(l).catch((function(){return dt.from(0)}))]).then((function(e){var t=Object(r.a)(e,5),a=t[0],n=t[1],o=t[2],i=t[3],c=t[4];return ve(a),P(n),Y(o),re(i),Be(c),[a,n,o,i,c]})).finally((function(){setTimeout((function(){Ue(!1)}),1e3)}))}};function qe(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=rt()(t);r&&r.getTransaction().then((function(e){return e.wait()})).then(Xe)}function Ke(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=rt()(t);r&&r.getTransaction().then((function(e){return e.wait()})).then(Xe)}Object(n.useEffect)((function(){if(!K()(v)){var e=setInterval((function(){return Je().then((function(e){e.eq(xe)||(we(Ae),ke(e))})).catch(ot.a)}),3e3);return function(){return clearInterval(e)}}}),[Ae.toString()]),Object(n.useEffect)((function(){return function(){if(!K()(E)&&!K()(b)&&(Xe(),!K()(v))){var e=new D.b(v,E,b);return K()(l)?void 0:(e.on("Mint",qe),e.on("Burn",Ke),function(){e.off("Mint",qe),e.off("Burn",Ke)})}}()}),[l,v,E,b]);var Je=function(){return new D.b(v,E,b).totalAssetsIncludeVaultBuffer()};return o.a.createElement("div",{className:t.container},o.a.createElement(C.a,{spacing:0,style:{paddingTop:"100px"}},o.a.createElement(S.a,{xs:2,sm:2,md:3,style:{padding:"0 2rem"}},o.a.createElement(d.a,null,o.a.createElement(m.a,{key:"My Account",button:!0,className:c()(t.item),onClick:function(){return Ge(tt.a.account)}},o.a.createElement(p.a,null,o.a.createElement(x.a,{style:{color:0===Ve?"#A68EFE":"#fff"}})),!i&&o.a.createElement(f.a,{primary:"My Account",className:c()(0===Ve?t.check:t.text)})),o.a.createElement(m.a,{key:"Deposit",button:!0,className:c()(t.item,Ve===tt.a.deposit&&t.check),onClick:function(){return Ge(tt.a.deposit)}},o.a.createElement(p.a,null,o.a.createElement(O.a,{style:{color:Ve===tt.a.deposit?"#A68EFE":"#fff"}})),!i&&o.a.createElement(f.a,{primary:"Deposit",className:c()(Ve===tt.a.deposit?t.check:t.text)})),o.a.createElement(m.a,{key:"Withdraw",button:!0,className:c()(t.item,Ve===tt.a.withdraw&&t.check),onClick:function(){return Ge(tt.a.withdraw)}},o.a.createElement(p.a,null,o.a.createElement(A.a,{style:{color:Ve===tt.a.withdraw?"#A68EFE":"#fff"}})),!i&&o.a.createElement(f.a,{primary:"Withdraw",className:c()(Ve===tt.a.withdraw?t.check:t.text)})))),Ve===tt.a.account&&o.a.createElement(S.a,{xs:9,sm:9,md:9},o.a.createElement("div",{className:i?t.wrapperMobile:t.wrapper,style:{background:"none",paddingTop:"1rem",paddingLeft:0}},o.a.createElement(u.a,{className:t.balanceCard},o.a.createElement("div",{className:t.balanceCardItem},o.a.createElement("div",{className:t.balanceCardValue},o.a.createElement("span",{title:Object(be.a)(ge,ue,{showAll:!0})},o.a.createElement(k.a,{loading:Pe},Object(be.a)(ge,ue))),o.a.createElement("span",{className:t.symbol},"USDi"),b&&o.a.createElement("span",{title:"Add token address to wallet"},o.a.createElement(h.a,{className:t.addTokenIcon,onClick:function(){Object(Me.a)(w,"USDi",ue)},fontSize:"small"}))),o.a.createElement("div",{className:t.balanceCardValue,style:{fontSize:"1rem"}},o.a.createElement("span",{title:Object(be.a)(Te,Fe,{showAll:!0})},o.a.createElement(k.a,{loading:Pe},Object(be.a)(Te,Fe))),o.a.createElement("span",{className:t.symbol},"USDi Ticket\xa0\xa0"),o.a.createElement(g.a,{classes:{tooltip:t.tooltip},placement:"right",title:o.a.createElement("span",null,"USDi Ticket functions as parallel USDi that will be converted into USDi after fund allocations have been successful. Last execution time was\xa0",o.a.createElement("span",{style:{fontWeight:"bold"}},ee()(ze).format("yyyy-MM-DD HH:mm")))},o.a.createElement(y.a,{style:{fontSize:"1rem"}}))),o.a.createElement("div",{className:t.balanceCardLabel},"AVAILABLE BALANCE"))),!K()(l)&&o.a.createElement(Qe.a,{address:l,chain:"".concat(he.b),VAULT_ADDRESS:v,type:"USDi"}))),Ve===tt.a.deposit&&o.a.createElement(S.a,{xs:9,sm:9,md:6},o.a.createElement("div",{className:i?t.wrapperMobile:t.wrapper},o.a.createElement(Se,{address:l,usdtBalance:_,usdtDecimals:M,usdcBalance:H,usdcDecimals:q,daiBalance:ae,daiDecimals:ie,usdiDecimals:ue,userProvider:b,VAULT_ABI:E,IERC20_ABI:he.i,VAULT_ADDRESS:v,abi_version:N,toBalance:ge,vaultBufferBalance:Te,vaultBufferDecimals:Fe,isBalanceLoading:Pe,reloadBalance:Ze,minimumInvestmentAmount:He}))),Ve===tt.a.withdraw&&o.a.createElement(S.a,{xs:9,sm:9,md:6},o.a.createElement("div",{className:i?t.wrapperMobile:t.wrapper},o.a.createElement($e,{address:l,exchangeManager:Ye,toBalance:ge,usdiDecimals:ue,userProvider:b,VAULT_ADDRESS:v,VAULT_ABI:E,IERC20_ABI:he.i,EXCHANGE_AGGREGATOR_ABI:j,EXCHANGE_ADAPTER_ABI:L,isBalanceLoading:Pe,reloadBalance:Ze})))))}),"mutilCoins")}}]);
//# sourceMappingURL=14.158679a4.chunk.js.map