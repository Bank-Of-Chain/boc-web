{"version":3,"sources":["pages/Ethr/Deposit/style.js","pages/Ethr/Deposit/index.jsx","pages/Ethr/Withdraw/style.js","pages/Ethr/Withdraw/index.jsx","pages/Ethr/style.js","pages/Ethr/index.jsx"],"names":["componentsStyle","modal","display","alignItems","justifyContent","modalBody","textAlign","depositContainer","border","padding","borderTopLeftRadius","borderTopRightRadius","estimateContainer","marginTop","borderBottomLeftRadius","borderBottomRightRadius","estimateWrapper","fontSize","estimateText","color","margin","estimateBalanceNum","balance","footerContainer","tokenInputWrapper","marginBottom","inputLabelWrapper","input","maxWidth","tokenInfo","tokenName","tokenLogo","width","borderRadius","marginRight","depositModal","backgroundColor","setting","position","right","top","cursor","min","i","Contract","ethers","BigNumber","useStyles","makeStyles","styles","Deposit","address","estimatedTotalAssets","userProvider","VAULT_ABI","VAULT_ADDRESS","isBalanceLoading","minInvestment","wantTokenBalance","wantTokenDecimals","wantTokenSymbol","wantTokenForVault","manageFeeBps","onDepositSuccess","classes","dispatch","useDispatch","useState","value","setValue","isLoading","setIsLoading","deposit","amount","from","BN","times","pow","toFixed","totalInvest","add","lt","warmDialog","open","type","message","signer","getSigner","tokenContract","IERC20_ABI","tokenContractWithUser","connect","allowance","allowanceAmount","gt","increaseAllowance","sub","then","tx","wait","catch","e","console","table","code","Promise","reject","approve","vaultContract","vaultContractWithUser","extendObj","isNumber","MULTIPLE_OF_GAS","estimateGas","lend","gas","gasLimit","Math","ceil","maxGasLimit","MAX_GAS_LIMIT","log","isLogin","isEmpty","isValid","decimals","replace","isNaN","Number","nextValue","nextFromValue","multipliedBy","toString","lte","indexOf","isValidValue","bps","GridContainer","root","className","GridItem","xs","sm","md","lg","alt","src","CustomTextField","onChange","num","handleInputChange","target","placeholder","maxEndAdornment","onMaxClick","maxValue","formatBalance","showAll","error","isUndefined","title","loading","Button","disabled","onClick","style","Tooltip","tooltip","placement","marginLeft","Modal","aria-labelledby","aria-describedby","Paper","elevation","CircularProgress","withdrawContainer","outputContainer","height","widthdrawLoadingPaper","steps","Withdraw","onWithdrawSuccess","toValue","setToValue","isWithdrawLoading","setIsWithdrawLoading","currentStep","setCurrentStep","withdrawError","setWithdrawError","withdraw","isValidToValue","vaultContractWithSigner","withdrawAmount","redeem","events","args","length","event","_redeemAmount","errorMsg","errorTextOutput","tip","isEs","isAd","isRp","isMaxLoss","isLossMuch","isExchangeFail","setTimeout","nextToValue","isValidToValueFlag","alternativeLabel","activeStep","connector","map","index","Step","key","StepIconComponent","BocStepIcon","verticalAlign","theme","container","zIndex","center","breakpoints","down","wrapper","background","wrapperMobile","symbol","gradientText","footer","item","minWidth","centerItem","balanceCard","check","balanceCardValue","lineHeight","fontWeight","balanceCardLabel","addTokenIcon","scanToken","hidden","brand","subtitle","main","mainRaised","link","textDecoration","textCenter","switchBar","img","radioUnchecked","radioChecked","radioRoot","radio","investCard","overflow","tableCell","letterSpacing","switchBase","switchChecked","minHeight","boxShadow","outline","stepContainer","stepItem","tabsRoot","tabsIndicator","tabTextColor","tabRoot","detailWrapper","slider","left","text","spliter","bottom","transition","tokens","WETH_ADDRESS_MATIC","useVersionWapper","props","isLayoutSm","useMediaQuery","VAULT_FACTORY_ADDRESS","VAULT_FACTORY_ABI","UNISWAPV3_RISK_ON_VAULT","UNISWAPV3_RISK_ON_HELPER","setIsBalanceLoading","personalVaultAddress","setPersonalVaultAddress","setWantTokenForVault","setWantTokenBalance","setWantTokenDecimals","setWantTokenSymbol","myVaultVisible","setMyVaultVisible","current","useSelector","state","investReducer","currentTab","setCurrent","tab","loadData","setCurrentTab","useVaultOnRisk","VAULT_TYPE","ETHr","baseInfo","queryBaseInfo","currentLiquidationThreshold","useCallback","wantTokenContract","all","balanceOf","finally","useEffect","setInterval","spacing","paddingLeft","List","ListItem","button","classNames","ListItemIcon","Skeleton","variant","animation","paddingRight","MyVaultPage","vaultChangeHandle","token","INVEST_TAB","account","ListItemText","primary","reloadBalance","paddingTop","MyStatementForRiskOn"],"mappings":"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","file":"static/js/19.77004bd9.chunk.js","sourcesContent":["const componentsStyle = () => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  depositContainer: {\n    border: '1px solid #A68EFD',\n    padding: '2.6875rem 2.25rem',\n    borderTopLeftRadius: '1rem',\n    borderTopRightRadius: '1rem'\n  },\n  estimateContainer: {\n    border: '1px solid #A68EFD',\n    marginTop: '0.5rem',\n    borderBottomLeftRadius: '1rem',\n    borderBottomRightRadius: '1rem',\n    padding: '2.0625rem 2.6875rem'\n  },\n  estimateWrapper: {\n    display: 'flex',\n    marginTop: '1rem',\n    justifyContent: 'space-between',\n    fontSize: '1.625rem'\n  },\n  estimateText: {\n    color: '#A0A0A0',\n    margin: 0\n  },\n  estimateBalanceNum: {\n    color: '#A0A0A0'\n  },\n  balance: {\n    display: 'flex',\n    color: '#A0A0A0',\n    marginTop: '1rem'\n  },\n  footerContainer: {\n    marginTop: '2.5rem'\n  },\n  tokenInputWrapper: {\n    marginBottom: '16px'\n  },\n  inputLabelWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  input: {\n    maxWidth: '12.5rem'\n  },\n  tokenInfo: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  tokenName: {\n    fontSize: '1.625rem'\n  },\n  tokenLogo: {\n    width: 30,\n    borderRadius: '50%',\n    marginRight: 8\n  },\n  depositModal: {\n    padding: '1rem',\n    maxWidth: '500px',\n    color: 'rgba(255, 255, 255, 0.87)',\n    border: '1px solid #A68EFE',\n    backgroundColor: '#000',\n    borderRadius: '1rem'\n  },\n  setting: {\n    position: 'absolute',\n    right: '1rem',\n    top: '1rem',\n    cursor: 'pointer'\n  },\n  min: {\n    marginTop: '1rem',\n    color: '#A0A0A0',\n    fontSize: '0.875rem'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\n\n// === Components === //\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Modal from '@material-ui/core/Modal'\nimport Paper from '@material-ui/core/Paper'\nimport Loading from '@/components/LoadingComponent'\n\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport CustomTextField from '@/components/CustomTextField'\nimport Button from '@/components/CustomButtons/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport InfoIcon from '@material-ui/icons/Info'\n\n// === Utils === //\nimport isUndefined from 'lodash/isUndefined'\nimport isEmpty from 'lodash/isEmpty'\nimport isNumber from 'lodash/isNumber'\nimport * as ethers from 'ethers'\nimport BN from 'bignumber.js'\nimport { warmDialog } from '@/reducers/meta-reducer'\nimport { formatBalance } from '@/helpers/number-format'\n\n// === Constants === //\nimport { MULTIPLE_OF_GAS, MAX_GAS_LIMIT, IERC20_ABI } from '@/constants'\n\n// === Styles === //\nimport styles from './style'\n\nconst { Contract, BigNumber } = ethers\nconst useStyles = makeStyles(styles)\n\nexport default function Deposit({\n  address,\n  estimatedTotalAssets,\n  userProvider,\n  VAULT_ABI,\n  VAULT_ADDRESS,\n  isBalanceLoading,\n  minInvestment,\n  wantTokenBalance,\n  wantTokenDecimals,\n  wantTokenSymbol,\n  wantTokenForVault,\n  manageFeeBps,\n  onDepositSuccess\n}) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [value, setValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  /**\n   * check if value is valid\n   * @returns\n   */\n  function isValidValue() {\n    const balance = wantTokenBalance\n    const decimals = wantTokenDecimals\n    if (value === '' || value === '-' || value === '0' || isEmpty(value.replace(/ /g, ''))) return\n    // not a number\n    if (isNaN(Number(value))) return false\n    const nextValue = BN(value)\n    const nextFromValue = nextValue.multipliedBy(BigNumber.from(10).pow(decimals).toString())\n    // less than 0\n    if (nextFromValue.lte(0)) return false\n    // value should be integer\n    const nextFromValueString = nextValue.multipliedBy(BigNumber.from(10).pow(decimals).toString())\n    if (nextFromValueString.toFixed().indexOf('.') !== -1) return false\n    // balance less than value\n    if (balance.lt(BigNumber.from(nextFromValue.toFixed()))) return false\n\n    return true\n  }\n\n  const handleInputChange = value => {\n    const num = Number(value)\n    if (isNaN(num) || num < 0) {\n      return\n    }\n    setValue(value)\n  }\n\n  const handleMaxClick = () => {\n    const maxValue = wantTokenBalance\n    setValue(\n      formatBalance(maxValue.gt(0) ? maxValue : 0, wantTokenDecimals, {\n        showAll: true\n      })\n    )\n  }\n\n  const deposit = async () => {\n    const amount = BigNumber.from(BN(value).times(BN(10).pow(wantTokenDecimals)).toFixed())\n    const totalInvest = amount.add(estimatedTotalAssets)\n    const lessThanMin = totalInvest.lt(minInvestment)\n    if (lessThanMin) {\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'warning',\n          message: 'Less than minimum investment'\n        })\n      )\n      return\n    }\n    setIsLoading(true)\n    try {\n      const signer = userProvider.getSigner()\n      const tokenContract = new Contract(wantTokenForVault, IERC20_ABI, userProvider)\n      const tokenContractWithUser = tokenContract.connect(signer)\n      const allowanceAmount = await tokenContractWithUser.allowance(address, VAULT_ADDRESS)\n      // If deposit amount greater than allow amount, need approve\n      if (amount.gt(allowanceAmount)) {\n        // If allowance gt 0, increaseAllowance, otherwise approve nextAmount\n        if (allowanceAmount.gt(0)) {\n          await tokenContractWithUser\n            .increaseAllowance(VAULT_ADDRESS, amount.sub(allowanceAmount))\n            .then(tx => tx.wait())\n            .catch(async e => {\n              console.table(e)\n              // cancel by user\n              if (e.code === 4001 || e.code === 'ACTION_REJECTED') {\n                return Promise.reject(e)\n              }\n              // If increase failed, approve 0 and approve nextAmounts\n              await tokenContractWithUser.approve(VAULT_ADDRESS, 0)\n              await tokenContractWithUser.approve(VAULT_ADDRESS, amount).then(tx => tx.wait())\n            })\n        } else {\n          await tokenContractWithUser.approve(VAULT_ADDRESS, amount)\n        }\n      }\n\n      const vaultContract = new Contract(VAULT_ADDRESS, VAULT_ABI, userProvider)\n      const vaultContractWithUser = vaultContract.connect(signer)\n\n      const extendObj = {}\n      // if gasLimit times not 1, need estimateGas\n      if (isNumber(MULTIPLE_OF_GAS) && MULTIPLE_OF_GAS !== 1) {\n        const gas = await vaultContractWithUser.estimateGas.lend(amount)\n        const gasLimit = Math.ceil(gas * MULTIPLE_OF_GAS)\n        // gasLimit not exceed maximum\n        const maxGasLimit = gasLimit < MAX_GAS_LIMIT ? gasLimit : MAX_GAS_LIMIT\n        extendObj.gasLimit = maxGasLimit\n      }\n      await vaultContractWithUser.lend(amount, extendObj).then(tx => tx.wait())\n      setValue('')\n      setIsLoading(false)\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'success',\n          message: 'Success'\n        })\n      )\n      onDepositSuccess()\n    } catch (error) {\n      console.log('error', error)\n      setIsLoading(false)\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'error',\n          message: 'Deposit failed'\n        })\n      )\n    }\n  }\n\n  const isLogin = !isEmpty(userProvider)\n  const isValid = isValidValue()\n  const bps = manageFeeBps ? manageFeeBps.toString() / 10000 : 0\n\n  return (\n    <>\n      <GridContainer classes={{ root: classes.depositContainer }}>\n        <p className={classes.estimateText}>From</p>\n        <GridItem xs={12} sm={12} md={12} lg={12} className={classes.tokenInputWrapper}>\n          <GridContainer>\n            <GridItem xs={12} sm={12} md={12} lg={12}>\n              <div className={classes.inputLabelWrapper}>\n                <div className={classes.tokenInfo}>\n                  <img className={classes.tokenLogo} alt=\"\" src={`./images/${wantTokenForVault}.png`} />\n                  <span className={classes.tokenName}>{wantTokenSymbol}</span>\n                </div>\n                <CustomTextField\n                  classes={{ root: classes.input }}\n                  value={value}\n                  onChange={(e) => handleInputChange(e.target.value)}\n                  placeholder=\"deposit amount\"\n                  maxEndAdornment\n                  onMaxClick={handleMaxClick}\n                  error={!isUndefined(isValid) && !isValid}\n                />\n              </div>\n            </GridItem>\n            <GridItem xs={12} sm={12} md={12} lg={12}>\n              <p\n                className={classes.estimateText}\n                title={formatBalance(wantTokenBalance, wantTokenDecimals, {\n                  showAll: true\n                })}\n              >\n                Balance:&nbsp;&nbsp;\n                <Loading loading={isBalanceLoading}>{formatBalance(wantTokenBalance, wantTokenDecimals)}</Loading>\n              </p>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n      </GridContainer>\n      <GridContainer className={classes.estimateContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>To</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.estimateWrapper}>\n            <span>{wantTokenSymbol} VAULT</span>\n            <span className={classes.estimateBalanceNum}>{(Number(value) * (1 - bps)).toFixed(4)}</span>\n          </div>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p\n            className={classes.balance}\n            title={formatBalance(estimatedTotalAssets, wantTokenDecimals, {\n              showAll: true\n            })}\n          >\n            Balance:&nbsp;&nbsp;\n            <Loading loading={isBalanceLoading}>{formatBalance(estimatedTotalAssets, wantTokenDecimals)}</Loading>\n          </p>\n          <div className={classes.min}>Minimum Investment: {formatBalance(minInvestment, wantTokenDecimals)}</div>\n        </GridItem>\n      </GridContainer>\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.footerContainer}>\n            <Button disabled={!isLogin || (isLogin && !isValid)} color=\"colorfull\" onClick={deposit} style={{ width: '100%' }}>\n              Deposit\n              <Tooltip\n                classes={{\n                  tooltip: classes.tooltip\n                }}\n                placement=\"top\"\n                title={`${bps * 100}% manage fee of the principal.`}\n              >\n                <InfoIcon style={{ marginLeft: '0.5rem' }} />\n              </Tooltip>\n            </Button>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <Modal className={classes.modal} open={isLoading} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n        <Paper elevation={3} className={classes.depositModal}>\n          <div className={classes.modalBody}>\n            <CircularProgress color=\"inherit\" />\n            <div style={{ marginTop: '1rem' }}>On Deposit...</div>\n          </div>\n        </Paper>\n      </Modal>\n    </>\n  )\n}\n","const componentsStyle = () => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  withdrawContainer: {\n    padding: '2.6875rem 2.25rem',\n    border: '1px solid #A68EFD',\n    borderTopLeftRadius: '1rem',\n    borderTopRightRadius: '1rem'\n  },\n  outputContainer: {\n    padding: '2.6875rem 2.25rem',\n    border: '1px solid #A68EFD',\n    marginTop: '0.5rem',\n    borderBottomLeftRadius: '1rem',\n    borderBottomRightRadius: '1rem'\n  },\n  estimateText: {\n    height: '1.25rem',\n    color: '#A0A0A0',\n    margin: 0,\n    display: 'flex',\n    marginTop: '0.5rem',\n    alignItems: 'center'\n  },\n  input: {\n    maxWidth: '12.5rem'\n  },\n  footerContainer: {\n    marginTop: '2.5rem'\n  },\n  inputLabelWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  tokenInfo: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  tokenName: {\n    fontSize: '1.625rem'\n  },\n  widthdrawLoadingPaper: {\n    padding: '1rem',\n    maxWidth: '500px',\n    color: 'rgba(255, 255, 255, 0.87)',\n    border: '1px solid #A68EFE',\n    backgroundColor: '#000',\n    borderRadius: '1rem',\n    width: '100%'\n  },\n  estimateWrapper: {\n    display: 'flex',\n    marginTop: '1rem',\n    justifyContent: 'space-between',\n    fontSize: '1.625rem'\n  },\n  estimateBalanceNum: {\n    color: '#A0A0A0'\n  },\n  setting: {\n    position: 'absolute',\n    right: '1rem',\n    top: '1rem',\n    cursor: 'pointer'\n  },\n  root: {\n    padding: '1.5rem 0'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState } from 'react'\nimport * as ethers from 'ethers'\nimport BN from 'bignumber.js'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Modal from '@material-ui/core/Modal'\nimport Paper from '@material-ui/core/Paper'\nimport Step from '@material-ui/core/Step'\nimport WarningIcon from '@material-ui/icons/Warning'\n\nimport CustomTextField from '@/components/CustomTextField'\nimport BocStepper from '@/components/Stepper/Stepper'\nimport BocStepLabel from '@/components/Stepper/StepLabel'\nimport BocStepIcon from '@/components/Stepper/StepIcon'\nimport BocStepConnector from '@/components/Stepper/StepConnector'\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport Button from '@/components/CustomButtons/Button'\nimport Loading from '@/components/LoadingComponent'\n\n// === Hooks === //\nimport { warmDialog } from '@/reducers/meta-reducer'\n\n// === Utils === //\nimport isUndefined from 'lodash/isUndefined'\nimport map from 'lodash/map'\nimport isEmpty from 'lodash/isEmpty'\nimport isNumber from 'lodash/isNumber'\nimport { formatBalance } from '@/helpers/number-format'\nimport { isAd, isEs, isRp, isMaxLoss, isLossMuch, isExchangeFail, errorTextOutput } from '@/helpers/error-handler'\n\n// === Constants === //\nimport { MULTIPLE_OF_GAS, MAX_GAS_LIMIT } from '@/constants'\n\n// === Styles === //\nimport styles from './style'\n\nconst { Contract, BigNumber } = ethers\nconst useStyles = makeStyles(styles)\n\nconst steps = [{ title: 'Shares Validation' }, { title: 'Gas Estimates' }, { title: 'Withdraw' }]\n\nexport default function Withdraw({\n  userProvider,\n  VAULT_ADDRESS,\n  VAULT_ABI,\n  isBalanceLoading,\n  estimatedTotalAssets,\n  wantTokenDecimals,\n  wantTokenSymbol,\n  onWithdrawSuccess\n}) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [toValue, setToValue] = useState('')\n  const [isWithdrawLoading, setIsWithdrawLoading] = useState(false)\n  const [currentStep, setCurrentStep] = useState(0)\n  const [withdrawError, setWithdrawError] = useState({})\n\n  const withdraw = async () => {\n    setIsWithdrawLoading(true)\n    console.log('----------start withdraw----------')\n    if (!isValidToValue()) {\n      return setWithdrawError({\n        type: 'warning',\n        message: 'Please enter the correct value.'\n      })\n    }\n    setCurrentStep(1)\n    const vaultContract = new Contract(VAULT_ADDRESS, VAULT_ABI, userProvider)\n    const signer = userProvider.getSigner()\n    try {\n      const vaultContractWithSigner = vaultContract.connect(signer)\n      setCurrentStep(2)\n      let tx\n      const withdrawAmount = BigNumber.from(BN(toValue).times(BN(10).pow(wantTokenDecimals)).toFixed())\n      // if gasLimit times not 1, need estimateGas\n      if (isNumber(MULTIPLE_OF_GAS) && MULTIPLE_OF_GAS !== 1) {\n        const gas = await vaultContractWithSigner.estimateGas.redeem(withdrawAmount, estimatedTotalAssets)\n        setCurrentStep(3)\n        const gasLimit = Math.ceil(gas * MULTIPLE_OF_GAS)\n        // gasLimit not exceed maximum\n        const maxGasLimit = gasLimit < MAX_GAS_LIMIT ? gasLimit : MAX_GAS_LIMIT\n        tx = await vaultContractWithSigner.redeem(withdrawAmount, estimatedTotalAssets, {\n          gasLimit: maxGasLimit\n        })\n      } else {\n        tx = await vaultContractWithSigner.redeem(withdrawAmount, estimatedTotalAssets)\n      }\n\n      const { events } = await tx.wait()\n      console.log('events', events)\n      let args = []\n      for (let i = events.length - 1; i >= 0; i--) {\n        if (events[i].event === 'Redeem') {\n          args = events[i].args\n          break\n        }\n      }\n      console.log('args', args)\n      const { _redeemAmount } = args\n      console.log('_redeemAmount', _redeemAmount.toString())\n      setCurrentStep(4)\n      setToValue('')\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'success',\n          message: `Withdraw ${formatBalance(_redeemAmount, wantTokenDecimals)} ${wantTokenSymbol}`\n        })\n      )\n      onWithdrawSuccess()\n    } catch (error) {\n      console.log('withdraw original error :', error)\n      const errorMsg = errorTextOutput(error)\n      let tip = ''\n      if (isEs(errorMsg)) {\n        tip = 'Vault has been shut down, please try again later!'\n      } else if (isAd(errorMsg)) {\n        tip = 'Vault is in adjustment status, please try again later!'\n      } else if (isRp(errorMsg)) {\n        tip = 'Vault is in rebase status, please try again later!'\n      } else if (isMaxLoss(errorMsg)) {\n        tip = 'Failed to withdraw, please increase the Max Loss!'\n      } else if (isLossMuch(errorMsg)) {\n        tip = 'Failed to exchange, please increase the exchange slippage!'\n      } else if (isExchangeFail(errorMsg)) {\n        tip = 'Failed to exchange, Please try again later!'\n      } else {\n        tip = 'Withdraw failed'\n      }\n      dispatch(\n        warmDialog({\n          open: true,\n          type: 'error',\n          message: tip\n        })\n      )\n    }\n    setTimeout(() => {\n      setIsWithdrawLoading(false)\n      setWithdrawError({})\n      setCurrentStep(0)\n    }, 2000)\n  }\n\n  /**\n   * check if toValue is valid\n   * @returns\n   */\n  const isValidToValue = () => {\n    if (toValue === '' || toValue === '-' || isEmpty(toValue.replace(/ /g, ''))) return\n    // should be a number\n    if (isNaN(Number(toValue))) return false\n    const nextValue = BN(toValue)\n    const nextToValue = nextValue.multipliedBy(BigNumber.from(10).pow(wantTokenDecimals).toString())\n    // should be positive\n    if (nextToValue.lte(0)) return false\n    // should be integer\n    const nextToValueString = nextValue.multipliedBy(BigNumber.from(10).pow(wantTokenDecimals).toString())\n    if (nextToValueString.toFixed().indexOf('.') !== -1) return false\n    // balance less than value\n    if (estimatedTotalAssets.lt(BigNumber.from(nextToValue.toFixed()))) return false\n    return true\n  }\n\n  const handleInputChange = value => {\n    const num = Number(value)\n    if (isNaN(num) || num < 0) {\n      return\n    }\n    setToValue(value)\n  }\n\n  const handleMaxClick = () => {\n    setToValue(formatBalance(estimatedTotalAssets, wantTokenDecimals, { showAll: true }))\n  }\n\n  const isValidToValueFlag = isValidToValue()\n\n  const isLogin = !isEmpty(userProvider)\n\n  return (\n    <>\n      <GridContainer className={classes.withdrawContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>From</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.inputLabelWrapper}>\n            <div className={classes.tokenInfo}>\n              <span className={classes.tokenName}>{wantTokenSymbol} VAULT</span>\n            </div>\n            <CustomTextField\n              classes={{ root: classes.input }}\n              value={toValue}\n              placeholder=\"withdraw amount\"\n              maxEndAdornment\n              onMaxClick={() => handleMaxClick()}\n              onChange={(e) => handleInputChange(e.target.value)}\n              error={!isUndefined(isValidToValueFlag) && !isValidToValueFlag && toValue !== '0'}\n            />\n          </div>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText} title={formatBalance(estimatedTotalAssets, wantTokenDecimals, { showAll: true })}>\n            Balance:&nbsp;\n            <Loading loading={isBalanceLoading}>{formatBalance(estimatedTotalAssets, wantTokenDecimals)}</Loading>\n          </p>\n        </GridItem>\n      </GridContainer>\n      <GridContainer className={classes.outputContainer}>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <p className={classes.estimateText}>To</p>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.estimateWrapper}>\n            <span>{wantTokenSymbol}</span>\n            <span className={classes.estimateBalanceNum}>{Number(toValue).toFixed(6)}</span>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={12} lg={12}>\n          <div className={classes.footerContainer}>\n            <Button\n              disabled={!isLogin || (isLogin && (isUndefined(isValidToValueFlag) || !isValidToValueFlag))}\n              color=\"colorfull\"\n              onClick={withdraw}\n              style={{ width: '100%', padding: '12px 16px' }}\n            >\n              Withdraw\n            </Button>\n          </div>\n        </GridItem>\n      </GridContainer>\n      <Modal className={classes.modal} open={isWithdrawLoading} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n        <Paper elevation={3} className={classes.widthdrawLoadingPaper}>\n          <div className={classes.modalBody}>\n            {isEmpty(withdrawError) && <CircularProgress color=\"inherit\" />}\n            {isEmpty(withdrawError) ? <p>In Withdrawing...</p> : <p>Withdraw Error !</p>}\n            <BocStepper\n              classes={{\n                root: classes.root\n              }}\n              alternativeLabel\n              activeStep={currentStep}\n              connector={<BocStepConnector />}\n            >\n              {map(steps, (i, index) => {\n                return (\n                  <Step key={index}>\n                    <BocStepLabel StepIconComponent={BocStepIcon}>{i.title}</BocStepLabel>\n                  </Step>\n                )\n              })}\n            </BocStepper>\n            {!isEmpty(withdrawError) && (\n              <p\n                style={{\n                  color: withdrawError.type === 'error' ? 'red' : 'yellow'\n                }}\n              >\n                <WarningIcon style={{ verticalAlign: 'bottom' }}></WarningIcon>\n                &nbsp;&nbsp;&nbsp;{withdrawError.message}\n              </p>\n            )}\n            <Button\n              color=\"danger\"\n              onClick={() => {\n                setIsWithdrawLoading(false)\n                setWithdrawError({})\n                setCurrentStep(0)\n              }}\n            >\n              Cancel\n            </Button>\n          </div>\n        </Paper>\n      </Modal>\n    </>\n  )\n}\n","import { container } from '@/assets/jss/material-kit-react.js'\nimport { gradientText } from '@/assets/jss/common.js'\n\nconst componentsStyle = theme => ({\n  container: {\n    zIndex: '12',\n    color: '#FFFFFF',\n    marginTop: '1rem',\n    marginBottom: 100,\n    ...container\n  },\n  center: {\n    justifyContent: 'center',\n    padding: '50px 72px 50px',\n    backgroundColor: '#0c0735cc',\n    [theme.breakpoints.down('md')]: {\n      padding: '50px 16px 50px'\n    },\n    margin: 0\n  },\n  wrapper: {\n    padding: '5rem 3rem',\n    borderRadius: '1.25rem',\n    background: 'linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)'\n  },\n  wrapperMobile: {\n    padding: '3rem 2rem',\n    borderRadius: '1.25rem',\n    background: 'linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)'\n  },\n  deposit: {\n    padding: '1rem',\n    border: '1px solid #F4ACF3',\n    borderTopLeftRadius: '1.25rem',\n    borderTopRightRadius: '1.25rem'\n  },\n  balance: {\n    marginTop: '0.5rem',\n    marginBottom: '2rem',\n    padding: '1rem',\n    border: '1px solid #F4ACF3',\n    borderBottomLeftRadius: '1.25rem',\n    borderBottomRightRadius: '1.25rem'\n  },\n  symbol: {\n    color: '#A68EFD',\n    marginLeft: '1rem',\n    ...gradientText\n  },\n  footer: {},\n  item: {\n    color: '#fff',\n    marginBottom: 20,\n    '& .MuiListItemIcon-root': {\n      minWidth: '38px'\n    }\n  },\n  centerItem: {\n    width: '630px'\n  },\n  balanceCard: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    margin: '0 0 1rem 0',\n    textAlign: 'left',\n    padding: '2.8125rem 2.4375rem',\n    background: '#323338',\n    color: '#fff',\n    borderRadius: '1.25rem'\n  },\n  check: {\n    color: '#A68EFE'\n  },\n  balanceCardValue: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    height: 30,\n    lineHeight: '30px',\n    fontSize: 26,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 8\n  },\n  balanceCardLabel: {\n    color: '#b2add1',\n    fontSize: 14\n  },\n  tokenInfo: {\n    display: 'flex',\n    position: 'absolute',\n    right: 12,\n    top: 9\n  },\n  addTokenIcon: {\n    cursor: 'pointer',\n    marginLeft: '1rem',\n    display: 'flex'\n  },\n  scanToken: {\n    width: 24,\n    height: 'auto',\n    cursor: 'pointer',\n    borderRadius: '50%',\n    backgroundColor: '#fff'\n  },\n  hidden: {\n    display: 'none'\n  },\n  brand: {\n    color: '#FFFFFF',\n    textAlign: 'left'\n  },\n  title: {\n    fontSize: '4.2rem',\n    fontWeight: '600',\n    display: 'inline-block',\n    position: 'relative'\n  },\n  subtitle: {\n    fontSize: '1.313rem',\n    width: 'auto',\n    margin: '10px 0 0'\n  },\n  main: {\n    position: 'relative',\n    backgroundColor: 'transparent'\n  },\n  mainRaised: {\n    margin: '0 auto',\n    marginTop: 65\n  },\n  link: {\n    textDecoration: 'none'\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  switchBar: {\n    backgroundColor: '#91d5ff !important'\n  },\n  img: {\n    width: '25px'\n  },\n  radioUnchecked: {\n    width: '0px',\n    height: '0px',\n    padding: '7px',\n    border: '1px solid #fff',\n    borderRadius: '50%'\n  },\n  radioChecked: {\n    width: '16px',\n    height: '16px',\n    border: '1px solid #fff',\n    borderRadius: '50%'\n  },\n  radioRoot: {\n    padding: '12px',\n    '&:hover': {\n      backgroundColor: 'unset'\n    }\n  },\n  radio: {\n    color: '#fff !important'\n  },\n  investCard: {\n    padding: '20px 24px',\n    borderRadius: 6,\n    backgroundColor: 'rgba(39, 31, 114, 0.8)',\n    overflow: 'visible'\n  },\n  table: {\n    backgroundColor: '#150752',\n    border: '1px solid rgb(222, 217, 213)'\n  },\n  tableCell: {\n    color: '#fff',\n    fontSize: '12px',\n    letterSpacing: '0.01071em'\n  },\n  switchBase: {\n    color: '#ddd'\n  },\n  switchChecked: {\n    color: '#40a9ff'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '& .MuiPaper-root': {\n      minWidth: 430,\n      minHeight: 120,\n      padding: '32px 24px',\n      fontSize: 16,\n      border: 0,\n      color: '#fff',\n      boxShadow: '0px 15px 15px rgba(0, 0, 0, 0.05)',\n      borderRadius: '20px',\n      background: '#292B2E',\n      outline: 0,\n      width: '550px'\n    }\n  },\n  modalBody: {\n    textAlign: 'center'\n  },\n  stepContainer: {\n    padding: 20\n  },\n  stepItem: {\n    color: '#fff'\n  },\n  tabsRoot: {\n    padding: '0 20px'\n  },\n  tabsIndicator: {\n    backgroundColor: 'transparent',\n    display: 'flex',\n    justifyContent: 'center',\n    '& > span': {\n      maxWidth: 120,\n      width: '100%',\n      backgroundColor: '#fff'\n    }\n  },\n  tabTextColor: {\n    color: '#fff'\n  },\n  tabRoot: {\n    width: '50%',\n    fontSize: '16px',\n    maxWidth: 'none'\n  },\n  detailWrapper: {\n    margin: '42px 0 0 0'\n  },\n  slider: {\n    position: 'absolute',\n    top: '50px',\n    left: 'calc(50% - 33rem)',\n    backgroundColor: '#271f72',\n    color: 'azure'\n  },\n  text: {\n    color: 'azure'\n  },\n  spliter: {\n    display: 'flex',\n    justifyContent: 'center',\n    bottom: 0,\n    height: 2,\n    position: 'absolute',\n    transition: 'all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '54%',\n    backgroundColor: '#fff'\n  }\n})\n\nexport default componentsStyle\n","import React, { useState, useEffect, useCallback } from 'react'\nimport classNames from 'classnames'\nimport { makeStyles } from '@material-ui/core/styles'\nimport GridContainer from '@/components/Grid/GridContainer'\nimport GridItem from '@/components/Grid/GridItem'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet'\nimport SaveAltIcon from '@material-ui/icons/SaveAlt'\nimport UndoIcon from '@material-ui/icons/Undo'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n// import Card from '@material-ui/core/Card'\n// import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\n// import Loading from '@/components/LoadingComponent'\n\n// === Components === //\nimport Deposit from './Deposit'\nimport Withdraw from './Withdraw'\nimport MyStatementForRiskOn from '@/components/MyStatement/MyStatementForRiskOn'\nimport MyVaultPage from '@/components/MyVaultPage'\n// import MyVault from '@/components/MyVault'\n// import Modal from '@material-ui/core/Modal'\n// import Paper from '@material-ui/core/Paper'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\n// === Reducers === //\nimport { setCurrentTab } from '@/reducers/invest-reducer'\n\n// === constants === //\nimport { WETH_ADDRESS_MATIC } from '@/constants/tokens'\nimport { INVEST_TAB } from '@/constants/invest'\nimport { IERC20_ABI } from '@/constants'\nimport { VAULT_TYPE } from '@/constants/vault'\n\n// === Utils === //\nimport isEmpty from 'lodash/isEmpty'\nimport * as ethers from 'ethers'\nimport useVersionWapper from '@/hooks/useVersionWapper'\n// import { formatBalance } from '@/helpers/number-format'\n// import { addToken } from '@/helpers/wallet'\n\n// === Hooks === //\nimport { useSelector, useDispatch } from 'react-redux'\nimport useVaultOnRisk from '@/hooks/useVaultOnRisk'\n\n// === Styles === //\nimport styles from './style'\n\nconst useStyles = makeStyles(styles)\nconst { BigNumber } = ethers\n\nconst tokens = [WETH_ADDRESS_MATIC]\n\nfunction Ethr(props) {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const isLayoutSm = useMediaQuery('(max-width: 960px)')\n\n  const { address, userProvider, VAULT_FACTORY_ADDRESS, VAULT_FACTORY_ABI, UNISWAPV3_RISK_ON_VAULT, UNISWAPV3_RISK_ON_HELPER } = props\n\n  const [isBalanceLoading, setIsBalanceLoading] = useState(false)\n  const [personalVaultAddress, setPersonalVaultAddress] = useState()\n  const [wantTokenForVault, setWantTokenForVault] = useState()\n  const [wantTokenBalance, setWantTokenBalance] = useState(BigNumber.from(0))\n  const [wantTokenDecimals, setWantTokenDecimals] = useState(0)\n  const [wantTokenSymbol, setWantTokenSymbol] = useState('')\n  // const [isVisiable, setIsVisiable] = useState(true)\n  const [myVaultVisible, setMyVaultVisible] = useState(true)\n\n  const current = useSelector(state => state.investReducer.currentTab)\n  const setCurrent = tab => {\n    loadData()\n    dispatch(setCurrentTab(tab))\n  }\n  const { baseInfo, queryBaseInfo } = useVaultOnRisk(\n    VAULT_FACTORY_ADDRESS,\n    VAULT_FACTORY_ABI,\n    personalVaultAddress,\n    UNISWAPV3_RISK_ON_VAULT,\n    UNISWAPV3_RISK_ON_HELPER,\n    userProvider,\n    VAULT_TYPE.ETHr\n  )\n  const { estimatedTotalAssets, manageFeeBps, minInvestment, currentLiquidationThreshold = 82.5 } = baseInfo\n\n  // const handleAddToken = useCallback(() => {\n  //   addToken(wantTokenForVault, wantTokenSymbol, wantTokenDecimals)\n  // }, [wantTokenForVault, wantTokenSymbol, wantTokenDecimals])\n\n  const loadData = useCallback(() => {\n    if (isEmpty(wantTokenForVault) || isEmpty(personalVaultAddress)) return\n\n    setIsBalanceLoading(true)\n    const wantTokenContract = new ethers.Contract(wantTokenForVault, IERC20_ABI, userProvider)\n\n    Promise.all([wantTokenContract.balanceOf(address), wantTokenContract.decimals(), wantTokenContract.symbol()])\n      .then(([balance, decimals, symbol]) => {\n        setWantTokenBalance(balance)\n        setWantTokenDecimals(decimals)\n        setWantTokenSymbol(symbol)\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setIsBalanceLoading(false)\n        }, 500)\n      })\n    return loadData\n  }, [wantTokenForVault, personalVaultAddress, address, userProvider])\n\n  useEffect(() => {\n    loadData()\n    setInterval(loadData, 30000)\n  }, [loadData])\n\n  return (\n    <div className={classes.container}>\n      {myVaultVisible && (\n        <GridContainer spacing={0}>\n          <GridItem xs={2} sm={2} md={3} style={{ paddingLeft: '2rem' }}>\n            <List>\n              <ListItem key=\"My Account\" button className={classNames(classes.item)}>\n                <ListItemIcon>\n                  <Skeleton variant=\"circle\" animation={false} width={40} height={40} />\n                </ListItemIcon>\n                {!isLayoutSm && <Skeleton animation={false} width={140} />}\n              </ListItem>\n              <ListItem key=\"Deposit\" button className={classNames(classes.item)}>\n                <ListItemIcon>\n                  <Skeleton variant=\"circle\" animation={false} width={40} height={40} />\n                </ListItemIcon>\n                {!isLayoutSm && <Skeleton animation={false} width={140} />}\n              </ListItem>\n              <ListItem key=\"Withdraw\" button className={classNames(classes.item)}>\n                <ListItemIcon>\n                  <Skeleton variant=\"circle\" animation={false} width={40} height={40} />\n                </ListItemIcon>\n                {!isLayoutSm && <Skeleton animation={false} width={140} />}\n              </ListItem>\n            </List>\n          </GridItem>\n          <GridItem xs={9} sm={9} md={9} style={{ paddingRight: '2rem' }}>\n            <MyVaultPage\n              tokens={tokens}\n              address={address}\n              userProvider={userProvider}\n              VAULT_FACTORY_ADDRESS={VAULT_FACTORY_ADDRESS}\n              VAULT_FACTORY_ABI={VAULT_FACTORY_ABI}\n              vaultChangeHandle={(address, token) => {\n                setMyVaultVisible(false)\n                setPersonalVaultAddress(address)\n                setWantTokenForVault(token)\n              }}\n            />\n          </GridItem>\n        </GridContainer>\n      )}\n      {!myVaultVisible && (\n        <GridContainer spacing={0}>\n          <GridItem xs={2} sm={2} md={3} style={{ paddingLeft: '2rem' }}>\n            <List>\n              <ListItem key=\"My Account\" button className={classNames(classes.item)} onClick={() => setCurrent(INVEST_TAB.account)}>\n                <ListItemIcon>\n                  <AccountBalanceWalletIcon style={{ color: current === INVEST_TAB.account ? '#A68EFE' : '#fff' }} />\n                </ListItemIcon>\n                {!isLayoutSm && (\n                  <ListItemText primary={'My Account'} className={classNames(current === INVEST_TAB.account ? classes.check : classes.text)} />\n                )}\n              </ListItem>\n              <ListItem\n                key=\"Deposit\"\n                button\n                className={classNames(classes.item, current === INVEST_TAB.deposit && classes.check)}\n                onClick={() => setCurrent(INVEST_TAB.deposit)}\n              >\n                <ListItemIcon>\n                  <SaveAltIcon style={{ color: current === INVEST_TAB.deposit ? '#A68EFE' : '#fff' }} />\n                </ListItemIcon>\n                {!isLayoutSm && (\n                  <ListItemText primary={'Deposit'} className={classNames(current === INVEST_TAB.deposit ? classes.check : classes.text)} />\n                )}\n              </ListItem>\n              <ListItem key=\"Withdraw\" button className={classNames(classes.item)} onClick={() => setCurrent(INVEST_TAB.withdraw)}>\n                <ListItemIcon>\n                  <UndoIcon style={{ color: current === INVEST_TAB.withdraw ? '#A68EFE' : '#fff' }} />\n                </ListItemIcon>\n                {!isLayoutSm && (\n                  <ListItemText primary={'Withdraw'} className={classNames(current === INVEST_TAB.withdraw ? classes.check : classes.text)} />\n                )}\n              </ListItem>\n            </List>\n          </GridItem>\n          {current === INVEST_TAB.deposit && (\n            <GridItem xs={9} sm={9} md={6}>\n              <div className={isLayoutSm ? classes.wrapperMobile : classes.wrapper}>\n                <Deposit\n                  address={address}\n                  estimatedTotalAssets={estimatedTotalAssets}\n                  wantTokenBalance={wantTokenBalance}\n                  wantTokenDecimals={wantTokenDecimals}\n                  userProvider={userProvider}\n                  wantTokenSymbol={wantTokenSymbol}\n                  wantTokenForVault={wantTokenForVault}\n                  VAULT_ADDRESS={personalVaultAddress}\n                  VAULT_ABI={UNISWAPV3_RISK_ON_VAULT}\n                  isBalanceLoading={isBalanceLoading}\n                  minInvestment={minInvestment}\n                  manageFeeBps={manageFeeBps}\n                  onDepositSuccess={() => {\n                    queryBaseInfo()\n                    loadData()\n                  }}\n                />\n              </div>\n            </GridItem>\n          )}\n          {current === INVEST_TAB.withdraw && (\n            <GridItem xs={9} sm={9} md={6}>\n              <div className={isLayoutSm ? classes.wrapperMobile : classes.wrapper}>\n                <Withdraw\n                  address={address}\n                  userProvider={userProvider}\n                  estimatedTotalAssets={estimatedTotalAssets}\n                  wantTokenDecimals={wantTokenDecimals}\n                  wantTokenSymbol={wantTokenSymbol}\n                  VAULT_ADDRESS={personalVaultAddress}\n                  VAULT_ABI={UNISWAPV3_RISK_ON_VAULT}\n                  isBalanceLoading={isBalanceLoading}\n                  reloadBalance={loadData}\n                  onWithdrawSuccess={() => {\n                    queryBaseInfo()\n                    loadData()\n                  }}\n                />\n              </div>\n            </GridItem>\n          )}\n          {current === INVEST_TAB.account && (\n            <GridItem xs={9} sm={9} md={9}>\n              <div\n                className={isLayoutSm ? classes.wrapperMobile : classes.wrapper}\n                style={{ background: 'none', paddingTop: '1rem', paddingLeft: 0 }}\n              >\n                {/* <Card className={classes.balanceCard}>\n                  <div className={classes.balanceCardItem}>\n                    <div className={classes.balanceCardValue}>\n                      <span\n                        title={formatBalance(netMarketMakingAmount, wantTokenDecimals, {\n                          showAll: true\n                        })}\n                      >\n                        <Loading loading={isBalanceLoading}>{formatBalance(netMarketMakingAmount, wantTokenDecimals)}</Loading>\n                      </span>\n                      <span className={classes.symbol}>\n                        <Loading loading={isEmpty(wantTokenSymbol) && isBalanceLoading}>{wantTokenSymbol}</Loading>\n                      </span>\n                      {userProvider && (\n                        <span title=\"Add token address to wallet\">\n                          <AddCircleOutlineIcon className={classes.addTokenIcon} onClick={handleAddToken} fontSize=\"small\" />\n                        </span>\n                      )}\n                    </div>\n                    <div className={classes.balanceCardLabel}>AVAILABLE BALANCE</div>\n                  </div>\n                </Card> */}\n                {!isEmpty(address) && !isEmpty(personalVaultAddress) && (\n                  <MyStatementForRiskOn\n                    type=\"ETHr\"\n                    userProvider={userProvider}\n                    VAULT_FACTORY_ABI={VAULT_FACTORY_ABI}\n                    personalVaultAddress={personalVaultAddress}\n                    wantTokenSymbol={wantTokenSymbol}\n                    VAULT_FACTORY_ADDRESS={VAULT_FACTORY_ADDRESS}\n                    UNISWAPV3_RISK_ON_VAULT={UNISWAPV3_RISK_ON_VAULT}\n                    UNISWAPV3_RISK_ON_HELPER={UNISWAPV3_RISK_ON_HELPER}\n                    currentLiquidationThreshold={currentLiquidationThreshold}\n                  />\n                )}\n              </div>\n            </GridItem>\n          )}\n          {/* <Modal className={classes.modal} open={isVisiable} aria-labelledby=\"simple-modal-title\" aria-describedby=\"simple-modal-description\">\n            <Paper elevation={3}>\n              <MyVault\n                tokens={tokens}\n                address={address}\n                userProvider={userProvider}\n                VAULT_FACTORY_ADDRESS={VAULT_FACTORY_ADDRESS}\n                VAULT_FACTORY_ABI={VAULT_FACTORY_ABI}\n                vaultChangeHandle={(address, token) => {\n                  setIsVisiable(false)\n                  setPersonalVaultAddress(address)\n                  setWantTokenForVault(token)\n                }}\n                modalCloseHandle={() => setIsVisiable(false)}\n              />\n            </Paper>\n          </Modal> */}\n        </GridContainer>\n      )}\n    </div>\n  )\n}\n\nexport default useVersionWapper(Ethr, 'ethr')\n"],"sourceRoot":""}