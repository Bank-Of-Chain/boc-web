/*! For license information please see 6.25cc62d6.chunk.js.LICENSE.txt */
(this["webpackJsonpboc-web"]=this["webpackJsonpboc-web"]||[]).push([[6],{1140:function(t,e,r){"use strict";var n=r(0),o=r.n(n),a=r(442),i=r(81),c=r(1265),l=r.n(c),u=r(998),s=r.n(u),f=r(1266),h=r.n(f),d=r(870),m=r(989),p=r.n(m),v=r(1267),g=r.n(v),y=r(10),b=r(60),w=r(170),E=r(72),O=r.n(E),j=r(108),x=r.n(j),L=r(1264),k=r.n(L),A=r(297),S=r(291);function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var s={};function f(){}function h(){}function d(){}var m={};c(m,o,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==e&&r.call(v,o)&&(m=v);var g=d.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var _=w.b,C=[S.e,S.c],N=function(t,e,r){var o=Object(n.useState)([]),a=Object(b.a)(o,2),i=a[0],c=a[1],l=Object(n.useState)([]),u=Object(b.a)(l,2),s=u[0],f=u[1],h=Object(n.useState)(!1),d=Object(b.a)(h,2),m=d[0],p=d[1],v=Object(n.useState)(!1),g=Object(b.a)(v,2),w=g[0],E=g[1],j=Object(A.a)(r),L=Object(n.useCallback)((function(){x()(t)||x()(r)||new _(t,e,r).getVaultImplList().then(c)}),[t,r,e]),N=Object(n.useCallback)((function(){if(!(x()(t)||x()(r)||x()(i)||x()(j))){E(!0);var n=new _(t,e,r),o=O()(i,(function(t){return Promise.all(O()(C,(function(e,r){return n.vaultAddressMap(j,t,r).then((function(r){return r===S.f?{hasCreate:!1,type:t,token:e}:{address:r,type:t,hasCreate:!0,token:e}}))})))}));Promise.all(o).then((function(t){setTimeout((function(){E(!1),f(k()(t))}),1e3)}))}}),[j,t,r,i,e]),P=Object(n.useCallback)(function(){var n=Object(y.a)(T().mark((function n(o,a){var i;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(!0),i=new _(t,e,r),n.next=4,i.connect(r.getSigner()).createNewVault(o,a).then((function(t){return t.wait()})).then(N).finally((function(){p(!1)}));case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),[t,r,N,e]),I=Object(n.useCallback)(function(){var n=Object(y.a)(T().mark((function n(o,a){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p(!0),new _(t,e,r).connect(r.getSigner()).deleteVaultAddressMapForDebug(j,o,a).then((function(t){return t.wait()})).then(N).finally((function(){p(!1)}));case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),[t,N,j,r,e]);return Object(n.useEffect)(L,[L]),Object(n.useEffect)(N,[N]),{vaultFactoryAddress:t,vaultImplList:i,personalVault:s,adding:m,loading:w,addVault:P,deleteVault:I}},P=r(942),I=r.n(P),V=r(294),M=r.n(V),D=r(455),F=r.n(D),R=function(){return{title:{textAlign:"center",fontWeight:"normal"},vaults:{textAlign:"center"},vault:{display:"inline-block",width:"12.5rem",padding:"2rem",borderRadius:"1rem",background:"linear-gradient(111.68deg, rgba(87, 97, 125, 0.2) 7.59%, rgba(255, 255, 255, 0.078) 102.04%)"},vaultTitle:{textAlign:"center",height:"12.5rem"},icon:{height:"100%",borderRadius:"50%"},button:{width:"100%",marginTop:"1rem"},logo:{width:"30px",borderRadius:"50%"},checked:{border:"2px solid #A68EFD"},token:{display:"flex",alignItems:"center",marginTop:"1rem"},tokenInfo:{flex:1,display:"flex",alignItems:"center"},name:{marginLeft:"1rem"},input:{maxWidth:"14rem"},setting:{position:"absolute",right:"0rem",top:"-0.5rem",cursor:"pointer"},loading:{animation:"loading 1s linear infinite"}}},Y=Object(a.a)(R);e.a=function(t){var e=t.vaultChangeHandle,r=t.userProvider,a=t.VAULT_FACTORY_ADDRESS,c=t.VAULT_FACTORY_ABI,u=t.tokens,f=N(a,c,r),m=f.personalVault,v=f.addVault,y=f.loading,b=f.adding,w=f.deleteVault,E=Y(),j=I()(m,(function(t){return u.includes(t.token)}));return Object(n.useEffect)((function(){var t=M()(j,{hasCreate:!0});x()(t)||e(t.address,t.token)}),[j,e]),o.a.createElement("div",{className:E.vaults},o.a.createElement(d.a,{loading:y,width:"100%",height:"2rem"},!x()(j)&&o.a.createElement("h3",{className:E.title},"Create a vault"),O()(j,(function(t,r){return o.a.createElement("div",{key:r},x()(t)?o.a.createElement("div",{className:E.vault},o.a.createElement("div",{className:E.vaultTitle},o.a.createElement("img",{alt:"",className:E.icon,src:"https://bankofchain.io/logo256.png"})),o.a.createElement(i.a,{color:"colorfull",startIcon:o.a.createElement(l.a,null),className:E.button},"on Building...")):o.a.createElement("div",{className:E.vault},o.a.createElement("div",{className:E.vaultTitle},o.a.createElement("img",{alt:"",className:E.icon,src:"https://bankofchain.io/images/".concat(t.token,".png")})),t.hasCreate?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{color:"colorfull",startIcon:o.a.createElement(h.a,null),className:E.button,onClick:function(){return e(t.address,t.token)}},"Deposit"),o.a.createElement(i.a,{color:"danger",startIcon:o.a.createElement(g.a,null),className:E.button,onClick:function(){return function(t){var e=F()(m,(function(e){return e.address===t}));w(m[0].type,e)}(t.address)}},"Delete")):o.a.createElement(i.a,{color:"colorfull",startIcon:b?o.a.createElement(p.a,{className:E.loading}):o.a.createElement(s.a,null),className:E.button,onClick:function(){return v(t.token,t.type)}},"Create")))}))))}},1141:function(t,e,r){"use strict";var n=r(60),o=r(0),a=r.n(o),i=r(442),c=r(181),l=r(96),u=r(991),s=r(992),f=r(995),h=r.n(f),d=r(838),m=r(1019),p=r(914),v=r(1020),g=r(999);function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var b="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect,w={status:"not-requested",loading:!1,result:void 0,error:void 0},E={status:"loading",loading:!0,result:void 0,error:void 0},O=function(){},j={initialState:function(t){return t&&t.executeOnMount?E:w},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(t){return E},setResult:function(t,e){return{status:"success",loading:!1,result:t,error:void 0}},setError:function(t,e){return{status:"error",loading:!1,result:void 0,error:t}},onSuccess:O,onError:O},x=function(t,e,r){!e&&(e=[]);var n=function(t){return y({},j,{},t)}(r),a=Object(o.useState)(null),i=a[0],c=a[1],l=function(t){var e=Object(o.useState)((function(){return t.initialState(t)})),r=e[0],n=e[1],a=Object(o.useCallback)((function(){return n(t.initialState(t))}),[n,t]),i=Object(o.useCallback)((function(){return n(t.setLoading(r))}),[r,n]),c=Object(o.useCallback)((function(e){return n(t.setResult(e,r))}),[r,n]),l=Object(o.useCallback)((function(e){return n(t.setError(e,r))}),[r,n]),u=Object(o.useCallback)((function(t){return n(y({},r,{},t))}),[r,n]);return{value:r,set:n,merge:u,reset:a,setLoading:i,setResult:c,setError:l}}(n),u=function(){var t=Object(o.useRef)(!1);return Object(o.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),function(){return t.current}}(),s=function(){var t=Object(o.useRef)(null);return{set:function(e){return t.current=e},get:function(){return t.current},is:function(e){return t.current===e}}}(),f=function(t){return u()&&s.is(t)},h=function(t){var e=Object(o.useRef)(t);return b((function(){e.current=t})),Object(o.useCallback)((function(){return e.current}),[e])}((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var a=function(){try{return Promise.resolve(t.apply(void 0,r))}catch(e){return Promise.reject(e)}}();return c(r),s.set(a),l.setLoading(),a.then((function(t){f(a)&&l.setResult(t),n.onSuccess(t,{isCurrent:function(){return s.is(a)}})}),(function(t){f(a)&&l.setError(t),n.onError(t,{isCurrent:function(){return s.is(a)}})})),a})),d=Object(o.useCallback)((function(){return h().apply(void 0,arguments)}),[h]),m=!u();return Object(o.useEffect)((function(){var t=function(){return h().apply(void 0,e)};m&&n.executeOnMount&&t(),!m&&n.executeOnUpdate&&t()}),e),y({},l.value,{set:l.set,merge:l.merge,reset:l.reset,execute:d,currentPromise:s.get(),currentParams:i})};function L(t,e,r){return x(t,e,r)}var k=r(72),A=r.n(k),S=r(996),T=r.n(S),_=r(947),C=r.n(_),N=r(866),P=r(17),I=r(907),V=r(26),M=r(890),D=r(994),F=P.a,R=Object(i.a)(D.a);e.a=function(t){var e,r=t.address,o=t.type,i=t.chain,f=t.userProvider,y=t.wantTokenSymbol,b=t.VAULT_FACTORY_ADDRESS,w=t.VAULT_FACTORY_ABI,E=t.personalVaultAddress,O=t.UNISWAPV3_RISK_ON_VAULT,j=t.UNISWAPV3_RISK_ON_HELPER,x=t.currentLiquidationThreshold,k=o===I.b.USDr,S=R(),_=L((function(){return Object(p.c)(V.b,E,"aave-health-ratio").catch((function(){return[]}))}),[E]),P=L((function(){return Object(p.c)(V.b,E,"uniswap-position-value").catch((function(){return[]}))}),[E]),D=L((function(){return Object(p.c)(V.b,E,"profit").catch((function(){return[]}))}),[E]),Y=Object(v.a)(i,o,r,o).loading,G=Object(g.a)(b,w,E,O,j,f).baseInfo,B=G.netMarketMakingAmount,U=G.estimatedTotalAssets,W=G.wantInfo,z=void 0===W?{}:W,H=G.currentBorrowWithCanonical,q=G.totalCollateralTokenAmount,X=z.wantTokenDecimals,J=void 0===X?F.from(0):X,K={animation:!1,grid:{top:40,left:"0%",right:"5%",bottom:"10",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},textStyle:{color:"#fff"},color:["#A68EFE","#5470c6","#91cc75"],xAxis:{axisTick:{alignWithLabel:!0},data:A()(_.result,(function(t){return t.validateTime}))},yAxis:[{max:100,min:0,splitLine:{lineStyle:{color:"#454459"}}}],series:[{type:"line",name:"Debt Ratio",showSymbol:1===C()(_.result),lineStyle:{width:4},data:A()(_.result,(function(t){return(100*Number(t.result)).toFixed(2)})),tooltip:{valueFormatter:function(t){return"".concat(t,"%")}},markLine:{symbol:"none",data:[{lineStyle:{color:"#07a2a4",type:"solid"},label:{formatter:"Leverage Lower 40%",position:"middle",color:"#999"},yAxis:40},{lineStyle:{color:"#ffb980",type:"solid"},label:{formatter:"Leverage Upper 75%",position:"middle",color:"#999"},yAxis:75},{lineStyle:{color:"#dc69aa",type:"solid"},label:{formatter:"Liquidation ".concat(x,"%"),position:"middle",color:"#999"},yAxis:x}]}}]},$=T()(D.result),Q=(null===$||void 0===$?void 0:$.result)||"0",Z=k?17:15;Q.length<Z&&(Q="0");var tt=Object(N.c)(B,J),et=Object(N.c)(U,J),rt=Object(N.c)(Q,M.a),nt=Object(N.c)(H,J),ot=Object(N.c)(q,J),at=Object(N.b)(tt,k?"0,0.[00]":"0,0.[0000]"),it=Object(n.a)(at,2),ct=it[0],lt=it[1],ut=Object(N.b)(et,k?"0,0.[00]":"0,0.[0000]"),st=Object(n.a)(ut,2),ft=st[0],ht=st[1],dt=Object(N.b)(rt,k?"0,0.[00]":"0,0.[0000]"),mt=Object(n.a)(dt,2),pt=mt[0],vt=mt[1],gt=Object(N.b)(nt,k?"0,0.[00]":"0,0.[0000]"),yt=Object(n.a)(gt,2),bt=yt[0],wt=yt[1],Et=Object(N.b)(ot,k?"0,0.[00]":"0,0.[0000]"),Ot=Object(n.a)(Et,2),jt=Ot[0],xt=Ot[1],Lt=[{title:"Net Deposit",tip:a.a.createElement(d.a,{classes:{tooltip:S.tooltip},placement:"right",title:"Net Deposit"},a.a.createElement(h.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:a.a.createElement("span",{title:tt},ct),unit:[lt,y].join(" ")},{title:"Current Value",tip:a.a.createElement(d.a,{classes:{tooltip:S.tooltip},placement:"right",title:"Current Value"},a.a.createElement(h.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:a.a.createElement("span",{title:et},ft),isAPY:!0,unit:[ht,y].join(" ")},{title:"Profits",tip:a.a.createElement(d.a,{classes:{tooltip:S.tooltip},placement:"right",title:"Profits"},a.a.createElement(h.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:a.a.createElement("span",{title:rt},pt),isAPY:!0,unit:[vt,y].join(" ")}],kt=[{title:"AAVE Outstanding Loan",tip:a.a.createElement(d.a,{classes:{tooltip:S.tooltip},placement:"right",title:"AAVE Outstanding Loan"},a.a.createElement(h.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:a.a.createElement("span",{title:nt},bt),unit:[wt,y].join(" ")},{title:"AAVE Collateral",tip:a.a.createElement(d.a,{classes:{tooltip:S.tooltip},placement:"right",title:"AAVE Collateral"},a.a.createElement(h.a,{style:{fontSize:"1.375rem",color:"rgba(255,255,255,0.45)"}})),content:a.a.createElement("span",{title:ot},jt),isAPY:!0,unit:[xt,y].join(" ")}],At=Object(m.a)(A()(P.result,(function(t){return{date:t.validateTime,value:Object(N.c)(t.result,M.a)}})),"value",y,{format:"MM-DD",tootlTipFormat:"YYYY-MM-DD",xAxis:{axisTick:{alignWithLabel:!0}},tootlTipSuffix:""});return a.a.createElement(c.a,null,a.a.createElement(l.a,{xs:12,sm:12,md:12,lg:12},a.a.createElement(c.a,{spacing:2},A()(Lt,(function(t,e){return a.a.createElement(l.a,{key:e,xs:12,sm:12,md:4,lg:4},a.a.createElement(u.a,Object.assign({loading:Y},t)))}))),a.a.createElement(c.a,{spacing:2},A()(kt,(function(t,e){return a.a.createElement(l.a,{key:e,xs:12,sm:12,md:4,lg:4},a.a.createElement(u.a,Object.assign({loading:Y},t)))}))),a.a.createElement(c.a,{className:S.lineChart},a.a.createElement(l.a,{xs:12,sm:12,md:12,lg:12},a.a.createElement(u.a,{loading:_.loading,title:a.a.createElement("span",null,"AAVE Debt Ratio (%)"),loadingOption:{width:"100%",height:"2rem"}},_.error?a.a.createElement("div",null,"Error: ",null===_||void 0===_||null===(e=_.error)||void 0===e?void 0:e.message):a.a.createElement(s.b,{option:K,style:{minHeight:"30rem"}})))),a.a.createElement(c.a,{className:S.lineChart},a.a.createElement(l.a,{xs:12,sm:12,md:12,lg:12},a.a.createElement(u.a,{loading:P.loading,title:a.a.createElement("span",null,"Uniswap Position Value"),loadingOption:{width:"100%",height:"2rem"}},P.error?a.a.createElement("div",null,"Error: ",P.error.message):a.a.createElement(s.b,{option:At,style:{minHeight:"20rem"}})))),a.a.createElement(c.a,{className:S.lineChart},a.a.createElement(l.a,{xs:12,sm:12,md:12,lg:12},a.a.createElement(u.a,{loading:D.loading,title:a.a.createElement("span",null,"Profits"),loadingOption:{width:"100%",height:"2rem"}},D.error?a.a.createElement("div",null,"Error: ",D.error.message):a.a.createElement(s.b,{option:Object(m.a)(A()(D.result,(function(t){var e=t.result||"0",r=k?17:15;return e.length<r&&(e="0"),{date:t.validateTime,value:Object(N.c)(e,M.a,k?2:4)}})),"value",y,{format:"MM-DD",tootlTipFormat:"YYYY-MM-DD",xAxis:{axisTick:{alignWithLabel:!0}},tootlTipSuffix:"",yAxisMin:function(){},yAxisMax:function(){}}),style:{minHeight:"20rem"}}))))))}},1264:function(t,e,r){var n=r(972);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},1265:function(t,e,r){"use strict";var n=r(65),o=r(115);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(116)).default)(a.createElement("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),"Build");e.default=i},1266:function(t,e,r){"use strict";var n=r(65),o=r(115);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(116)).default)(a.createElement("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"}),"CompareArrows");e.default=i},1267:function(t,e,r){"use strict";var n=r(65),o=r(115);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(0)),i=(0,n(r(116)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.default=i},1312:function(t,e,r){"use strict";var n=r(4),o=r(9),a=r(0),i=r(18),c=r(43),l=r(23),u=a.forwardRef((function(t,e){var r=t.animation,c=void 0===r?"pulse":r,l=t.classes,u=t.className,s=t.component,f=void 0===s?"span":s,h=t.height,d=t.variant,m=void 0===d?"text":d,p=t.width,v=Object(o.a)(t,["animation","classes","className","component","height","variant","width"]),g=Boolean(v.children);return a.createElement(f,Object(n.a)({ref:e,className:Object(i.a)(l.root,l[m],u,g&&[l.withChildren,!p&&l.fitContent,!h&&l.heightAuto],!1!==c&&l[c])},v,{style:Object(n.a)({width:p,height:h},v.style)}))}));e.a=Object(l.a)((function(t){return{root:{display:"block",backgroundColor:Object(c.a)(t.palette.text.primary,"light"===t.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:t.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(t.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(u)},999:function(t,e,r){"use strict";var n=r(10),o=r(60),a=r(0),i=r(170),c=r(17),l=r(108),u=r.n(l),s=r(297),f=r(26),h=r(907);function d(){d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(A){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(A){return{type:"throw",arg:A}}}t.wrap=l;var s={};function f(){}function h(){}function m(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,o)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,c(y,"constructor",m),c(m,"constructor",h),h.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var m=i.b,p=c.a;e.a=function(t,e,r,i,c,l,v){var g=Object(a.useState)(),y=Object(o.a)(g,2),b=y[0],w=y[1],E=Object(a.useState)(!1),O=Object(o.a)(E,2),j=O[0],x=O[1],L=Object(a.useState)({}),k=Object(o.a)(L,2),A=k[0],S=k[1],T=Object(s.a)(l),_=function(){return u()(r)?new Error("VAULT_ADDRESS is need!"):u()(i)?new Error("VAULT_ABI is need!"):u()(l)?new Error("userProvider is need!"):void 0},C=function(){var a=_();if(a)return w(a);x(!0),new m(t,e,l).uniswapV3RiskOnHelper().then((function(t){var e=new m(r,i,l),a=new m(t,c,l);return Promise.all([e.borrowToken().then(function(){var t=Object(n.a)(d().mark((function t(e){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new m(e,f.j,l),t.t0=e,t.next=4,r.symbol();case 4:return t.t1=t.sent,t.t2=p.from(10),t.next=8,r.decimals();case 8:return t.t3=t.sent,t.t4=t.t2.pow.call(t.t2,t.t3),t.abrupt("return",{borrowToken:t.t0,name:t.t1,borrowTokenDecimals:t.t4});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.wantToken().then(function(){var t=Object(n.a)(d().mark((function t(r){var n,o,a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new m(r,f.j,l),t.next=3,e.token0();case 3:return o=t.sent,t.next=6,e.token1();case 6:return a=t.sent,o===r?i=e.token0MinLendAmount:a===r&&(i=e.token1MinLendAmount),t.t0=r,t.next=11,n.symbol();case 11:return t.t1=t.sent,t.t2=p.from(10),t.next=15,n.decimals();case 15:return t.t3=t.sent,t.t4=t.t2.pow.call(t.t2,t.t3),t.t5=i,t.abrupt("return",{wantToken:t.t0,name:t.t1,wantTokenDecimals:t.t4,minLendFunction:t.t5});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())]).then((function(t){var n=Object(o.a)(t,2),i=n[0],c=n[1],l=i.borrowToken,u=c.wantToken,s=c.minLendFunction;return Promise.all([e.netMarketMakingAmount(),a.getCurrentBorrow(l,2,r),a.getTotalCollateralTokenAmount(r,u),e.depositTo3rdPoolTotalAssets(),e.estimatedTotalAssets(),e.manageFeeBps(),s(),a.borrowInfo(r)]).then((function(t){var e=Object(o.a)(t,8),r=e[0],n=e[1],s=e[2],f=e[3],d=e[4],m=e[5],p=e[6],g=e[7]._currentLiquidationThreshold.toString();return g="0"===g?v===h.b.USDr?85:82.5:Number(g)/100,a.calcCanonicalAssetValue(l,n,u).then((function(t){var e={netMarketMakingAmount:r,currentBorrow:n,currentBorrowWithCanonical:t,depositTo3rdPoolTotalAssets:f,totalCollateralTokenAmount:s,estimatedTotalAssets:d,manageFeeBps:m,wantInfo:c,borrowInfo:i,result:f.add(s).sub(r).sub(t),minInvestment:p,currentLiquidationThreshold:g};return S(e),e}))}))})).finally((function(){setTimeout((function(){x(!1)}),300)}))}))};return Object(a.useEffect)((function(){if(_())return x(!1),void w();C()}),[T,r,i,l]),{loading:j,error:b,baseInfo:A,queryBaseInfo:C}}}}]);
//# sourceMappingURL=6.25cc62d6.chunk.js.map